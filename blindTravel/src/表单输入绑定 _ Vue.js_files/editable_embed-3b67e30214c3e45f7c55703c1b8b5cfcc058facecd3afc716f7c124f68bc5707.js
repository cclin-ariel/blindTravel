function _isValidType(e,t){return Array.isArray(t)?Array.isArray(e):null!==e&&e!==undefined&&typeof e==typeof t}!function(){const e={actions:[],formatters:[],isInvalidEditor:!0,linters:[],settings:[]},t={};class n{constructor(e){this.config=e}get id(){return this.config.id}get preview(){return this.config.preview}isValidEditorType(e){return!this.getConfigByType(e,!1).isInvalidEditor}getLinterById(e){return this.config.linters.find(t=>t.id===e)}getProcessor(e,t){const n=this.config.editors;let r=null;for(let i=0;i<n.length;i++){const o=n[i],a=o.processors;for(let n=0;n<a.length;n++)if(r||o.type!==t||(r=a[n]),a[n].id===e)return a[n]}if(r)return r;throw new Error(`Unknown Processor: ${e}`)}getPenAttributeDefaults(){const e={css_prefix:{values:["autoprefixer","prefixfree","neither"],defaultValue:"neither"},css_starter:{values:["normalize","neither","reset"],defaultValue:"neither"}};return __editor_config.editors.map(t=>{const n=`${t.type}_pre_processor`;e[t.type]||(e[n]={values:[],defaultValue:"none"}),t.processors.forEach(t=>{e[n].values.push(t.id)})}),{enums:e,types:{css_pre_processor:"none",css_prefix:"",css_starter:"none",css:"",description:"",head:"",html_classes:"",html_pre_processor:"none",html:"",js_pre_processor:"none",js:"",parent:0,"private":!1,scripts:[],slug_hash:"",styles:[],template:!1,title:""}}}getPrettyProcessorName(e,t){const n=this.getConfigByType(e),r=n.processors.find(e=>e.id===t),i=_makeSafe(r,{});return i.name}getConfigByType(n,r=!0){return t[n]||(t[n]=this.config.editors.find(e=>e.id===n),t[n]||(t[n]=Object.assign({},e),r&&console.error(`Invalid configOfType: ${n}`))),t[n]}}"object"!=typeof window.CP&&(window.CP={}),CP.editorConfig=new n(window.__editor_config)}(),function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t=e.length,n=Q.type(e);return"function"!==n&&!Q.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e))}function r(e,t,n){if(Q.isFunction(t))return Q.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return Q.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(se.test(t))return Q.filter(t,e,n);t=Q.filter(t,e)}return Q.grep(e,function(e){return V.call(t,e)>=0!==n})}function i(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function o(e){var t=he[e]={};return Q.each(e.match(pe)||[],function(e,n){t[n]=!0}),t}function a(){J.removeEventListener("DOMContentLoaded",a,!1),e.removeEventListener("load",a,!1),Q.ready()}function s(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=Q.expando+Math.random()}function l(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(xe,"-$1").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:be.test(n)?Q.parseJSON(n):n)}catch(q){}ye.set(e,t,n)}else n=void 0;return n}function u(){return!0}function c(){return!1}function f(){try{return J.activeElement}catch(e){}}function d(e,t){return Q.nodeName(e,"table")&&Q.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function p(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function h(e){var t=Fe.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function m(e,t){for(var n=0,r=e.length;r>n;n++)ve.set(e[n],"globalEval",!t||ve.get(t[n],"globalEval"))}function g(e,t){var n,r,i,o,a,s,l,u;if(1===t.nodeType){if(ve.hasData(e)&&(o=ve.access(e),a=ve.set(t,o),u=o.events))for(i in delete a.handle,a.events={},u)for(n=0,r=u[i].length;r>n;n++)Q.event.add(t,i,u[i][n]);ye.hasData(e)&&(s=ye.access(e),l=Q.extend({},s),ye.set(t,l))}}function v(e,t){var n=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&Q.nodeName(e,t)?Q.merge([e],n):n}function y(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Se.test(e.type)?t.checked=e.checked:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}function b(t,n){var r,i=Q(n.createElement(t)).appendTo(n.body),o=e.getDefaultComputedStyle&&(r=e.getDefaultComputedStyle(i[0]))?r.display:Q.css(i[0],"display");return i.detach(),o}function x(e){var t=J,n=Re[e];return n||("none"!==(n=b(e,t))&&n||((t=($e=($e||Q("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement))[0].contentDocument).write(),t.close(),n=b(e,t),$e.detach()),Re[e]=n),n}function w(e,t,n){var r,i,o,a,s=e.style;return(n=n||We(e))&&(a=n.getPropertyValue(t)||n[t]),n&&(""!==a||Q.contains(e.ownerDocument,e)||(a=Q.style(e,t)),Be.test(a)&&He.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function k(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function C(e,t){if(t in e)return t;for(var n=t[0].toUpperCase()+t.slice(1),r=t,i=Xe.length;i--;)if((t=Xe[i]+n)in e)return t;return r}function S(e,t,n){var r=Ue.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function T(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;4>o;o+=2)"margin"===n&&(a+=Q.css(e,n+ke[o],!0,i)),r?("content"===n&&(a-=Q.css(e,"padding"+ke[o],!0,i)),"margin"!==n&&(a-=Q.css(e,"border"+ke[o]+"Width",!0,i))):(a+=Q.css(e,"padding"+ke[o],!0,i),"padding"!==n&&(a+=Q.css(e,"border"+ke[o]+"Width",!0,i)));return a}function _(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=We(e),a="border-box"===Q.css(e,"boxSizing",!1,o);if(0>=i||null==i){if((0>(i=w(e,t,o))||null==i)&&(i=e.style[t]),Be.test(i))return i;r=a&&(Y.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+T(e,t,n||(a?"border":"content"),r,o)+"px"}function E(e,t){for(var n,r,i,o=[],a=0,s=e.length;s>a;a++)(r=e[a]).style&&(o[a]=ve.get(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&Ce(r)&&(o[a]=ve.access(r,"olddisplay",x(r.nodeName)))):(i=Ce(r),"none"===n&&i||ve.set(r,"olddisplay",i?n:Q.css(r,"display"))));for(a=0;s>a;a++)(r=e[a]).style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"));return e}function L(e,t,n,r,i){return new L.prototype.init(e,t,n,r,i)}function M(){return setTimeout(function(){Ye=void 0}),Ye=Q.now()}function A(e,t){var n,r=0,i={height:e};for(t=t?1:0;4>r;r+=2-t)i["margin"+(n=ke[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function N(e,t,n){for(var r,i=(nt[t]||[]).concat(nt["*"]),o=0,a=i.length;a>o;o++)if(r=i[o].call(n,t,e))return r}function P(e,t,n){var r,i,o,a,s,l,u,c,f=this,d={},p=e.style,h=e.nodeType&&Ce(e),m=ve.get(e,"fxshow");for(r in n.queue||(null==(s=Q._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,f.always(function(){f.always(function(){s.unqueued--,Q.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],"inline"===(c="none"===(u=Q.css(e,"display"))?ve.get(e,"olddisplay")||x(e.nodeName):u)&&"none"===Q.css(e,"float")&&(p.display="inline-block")),n.overflow&&(p.overflow="hidden",f.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]})),t)if(i=t[r],Ze.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(h?"hide":"show")){if("show"!==i||!m||void 0===m[r])continue;h=!0}d[r]=m&&m[r]||Q.style(e,r)}else u=void 0;if(Q.isEmptyObject(d))"inline"===("none"===u?x(e.nodeName):u)&&(p.display=u);else for(r in m?"hidden"in m&&(h=m.hidden):m=ve.access(e,"fxshow",{}),o&&(m.hidden=!h),h?Q(e).show():f.done(function(){Q(e).hide()}),f.done(function(){var t;for(t in ve.remove(e,"fxshow"),d)Q.style(e,t,d[t])}),d)a=N(h?m[r]:0,r,f),r in m||(m[r]=a.start,h&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}function O(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=Q.camelCase(n)],o=e[n],Q.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=Q.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}function j(e,t,n){var r,i,o=0,a=tt.length,s=Q.Deferred().always(function(){delete l.elem}),l=function(){if(i)return!1;for(var t=Ye||M(),n=Math.max(0,u.startTime+u.duration-t),r,o=1-(n/u.duration||0),a=0,l=u.tweens.length;l>a;a++)u.tweens[a].run(o);return s.notifyWith(e,[u,o,n]),1>o&&l?n:(s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:Q.extend({},t),opts:Q.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Ye||M(),duration:n.duration,tweens:[],createTween:function(t,n){var r=Q.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(r),r},stop:function(t){var n=0,r=t?u.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)u.tweens[n].run(1);return t?s.resolveWith(e,[u,t]):s.rejectWith(e,[u,t]),this}}),c=u.props;for(O(c,u.opts.specialEasing);a>o;o++)if(r=tt[o].call(u,e,c,u.opts))return r;return Q.map(c,N,u),Q.isFunction(u.opts.start)&&u.opts.start.call(e,u),Q.fx.timer(Q.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function D(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(pe)||[];if(Q.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function F(e,t,n,r){function i(s){var l;return o[s]=!0,Q.each(e[s]||[],function(e,s){var u=s(t,n,r);return"string"!=typeof u||a||o[u]?a?!(l=u):void 0:(t.dataTypes.unshift(u),i(u),!1)}),l}var o={},a=e===wt;return i(t.dataTypes[0])||!o["*"]&&i("*")}function z(e,t){var n,r,i=Q.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&Q.extend(!0,e,r),e}function I(e,t,n){for(var r,i,o,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){l.unshift(i);break}if(l[0]in n)o=l[0];else{for(i in n){if(!l[0]||e.converters[i+" "+l[0]]){o=i;break}a||(a=i)}o=o||a}return o?(o!==l[0]&&l.unshift(o),n[o]):void 0}function $(e,t,n,r){var i,o,a,s,l,u={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)u[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(a=u[l+" "+o]||u["* "+o]))for(i in u)if((s=i.split(" "))[1]===o&&(a=u[l+" "+s[0]]||u["* "+s[0]])){!0===a?a=u[i]:!0!==u[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(J){return{state:"parsererror",error:a?J:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}function R(e,t,n,r){var i;if(Q.isArray(t))Q.each(t,function(t,i){n||St.test(e)?r(e,i):R(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==Q.type(t))r(e,t);else for(i in t)R(e+"["+i+"]",t[i],n,r)}function H(e){return Q.isWindow(e)?e:9===e.nodeType&&e.defaultView}var B=[],W=B.slice,q=B.concat,U=B.push,V=B.indexOf,G={},K=G.toString,X=G.hasOwnProperty,Y={},J=e.document,Z="2.1.1",Q=function(e,t){return new Q.fn.init(e,t)},ee=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,te=/^-ms-/,ne=/-([\da-z])/gi,re=function(e,t){return t.toUpperCase()};Q.fn=Q.prototype={jquery:Z,constructor:Q,selector:"",length:0,toArray:function(){return W.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:W.call(this)},pushStack:function(e){var t=Q.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return Q.each(this,e,t)},map:function(e){return this.pushStack(Q.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(W.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:U,sort:B.sort,splice:B.splice},Q.extend=Q.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[s]||{},s++),"object"==typeof a||Q.isFunction(a)||(a={}),s===l&&(a=this,s--);l>s;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],a!==(r=e[t])&&(u&&r&&(Q.isPlainObject(r)||(i=Q.isArray(r)))?(i?(i=!1,o=n&&Q.isArray(n)?n:[]):o=n&&Q.isPlainObject(n)?n:{},a[t]=Q.extend(u,o,r)):void 0!==r&&(a[t]=r));return a},Q.extend({expando:"jQuery"+(Z+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===Q.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!Q.isArray(e)&&e-parseFloat(e)>=0},isPlainObject:function(e){return"object"===Q.type(e)&&!e.nodeType&&!Q.isWindow(e)&&!(e.constructor&&!X.call(e.constructor.prototype,"isPrototypeOf"))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?G[K.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;(e=Q.trim(e))&&(1===e.indexOf("use strict")?((t=J.createElement("script")).text=e,J.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(te,"ms-").replace(ne,re)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,r){var i,o=0,a=e.length,s=n(e);if(r){if(s)for(;a>o&&!1!==(i=t.apply(e[o],r));o++);else for(o in e)if(!1===(i=t.apply(e[o],r)))break}else if(s)for(;a>o&&!1!==(i=t.call(e[o],o,e[o]));o++);else for(o in e)if(!1===(i=t.call(e[o],o,e[o])))break;return e},trim:function(e){return null==e?"":(e+"").replace(ee,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(n(Object(e))?Q.merge(r,"string"==typeof e?[e]:e):U.call(r,e)),r},inArray:function(e,t,n){return null==t?-1:V.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;n>r;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],o=0,a=e.length,s=!n;a>o;o++)(r=!t(e[o],o))!==s&&i.push(e[o]);return i},map:function(e,t,r){var i,o=0,a=e.length,s,l=[];if(n(e))for(;a>o;o++)null!=(i=t(e[o],o,r))&&l.push(i);else for(o in e)null!=(i=t(e[o],o,r))&&l.push(i);return q.apply([],l)},guid:1,proxy:function(e,t){var n,r,i;return"string"==typeof t&&(n=e[t],t=e,e=n),Q.isFunction(e)?(r=W.call(arguments,2),(i=function(){return e.apply(t||this,r.concat(W.call(arguments)))}).guid=e.guid=e.guid||Q.guid++,i):void 0},now:Date.now,support:Y}),Q.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){G["[object "+t+"]"]=t.toLowerCase()});var ie=function(e){function t(e,t,n,r){var i,o,a,s,l,u,f,p,h,m;if((t?t.ownerDocument||t:R)!==P&&N(t),n=n||[],!e||"string"!=typeof e)return n;if(1!==(s=(t=t||P).nodeType)&&9!==s)return[];if(j&&!r){if(i=ye.exec(e))if(a=i[1]){if(9===s){if(!(o=t.getElementById(a))||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&I(t,o)&&o.id===a)return n.push(o),n}else{if(i[2])return Q.apply(n,t.getElementsByTagName(e)),n;if((a=i[3])&&w.getElementsByClassName&&t.getElementsByClassName)return Q.apply(n,t.getElementsByClassName(a)),n}if(w.qsa&&(!D||!D.test(e))){if(p=f=$,h=t,m=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(u=T(e),(f=t.getAttribute("id"))?p=f.replace(xe,"\\$&"):t.setAttribute("id",p),p="[id='"+p+"'] ",l=u.length;l--;)u[l]=p+d(u[l]);h=be.test(e)&&c(t.parentNode)||t,m=u.join(",")}if(m)try{return Q.apply(n,h.querySelectorAll(m)),n}catch(W){}finally{f||t.removeAttribute("id")}}}return E(e.replace(le,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>k.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[$]=!0,e}function i(e){var t=P.createElement("div");try{return!!e(t)}catch(w){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),r=e.length;r--;)k.attrHandle[n[r]]=t}function a(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||K)-(~e.sourceIndex||K);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n;return"input"===t.nodeName.toLowerCase()&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function u(e){return r(function(t){return t=+t,r(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function c(e){return e&&typeof e.getElementsByTagName!==G&&e}function f(){}function d(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function p(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=B++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,a){var s,l,u=[H,o];if(a){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if((s=(l=t[$]||(t[$]={}))[r])&&s[0]===H&&s[1]===o)return u[2]=s[2];if(l[r]=u,u[2]=e(t,n,a))return!0}}}function h(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function m(e,n,r){for(var i=0,o=n.length;o>i;i++)t(e,n[i],r);return r}function g(e,t,n,r,i){for(var o,a=[],s=0,l=e.length,u=null!=t;l>s;s++)(o=e[s])&&(!n||n(o,r,i))&&(a.push(o),u&&t.push(s));return a}function v(e,t,n,i,o,a){return i&&!i[$]&&(i=v(i)),o&&!o[$]&&(o=v(o,a)),r(function(r,a,s,l){var u,c,f,d=[],p=[],h=a.length,v=r||m(t||"*",s.nodeType?[s]:s,[]),y=!e||!r&&t?v:g(v,d,e,s,l),b=n?o||(r?e:h||i)?[]:a:y;if(n&&n(y,b,s,l),i)for(u=g(b,p),i(u,[],s,l),c=u.length;c--;)(f=u[c])&&(b[p[c]]=!(y[p[c]]=f));if(r){if(o||e){if(o){for(u=[],c=b.length;c--;)(f=b[c])&&u.push(y[c]=f);o(null,b=[],u,l)}for(c=b.length;c--;)(f=b[c])&&(u=o?te.call(r,f):d[c])>-1&&(r[u]=!(a[u]=f))}}else b=g(b===a?b.splice(h,b.length):b),o?o(null,a,b,l):Q.apply(a,b)})}function y(e){for(var t,n,r,i=e.length,o=k.relative[e[0].type],a=o||k.relative[" "],s=o?1:0,l=p(function(e){return e===t},a,!0),u=p(function(e){return te.call(t,e)>-1},a,!0),c=[function(e,n,r){return!o&&(r||n!==L)||((t=n).nodeType?l(e,n,r):u(e,n,r))}];i>s;s++)if(n=k.relative[e[s].type])c=[p(h(c),n)];else{if((n=k.filter[e[s].type].apply(null,e[s].matches))[$]){for(r=++s;i>r&&!k.relative[e[r].type];r++);return v(s>1&&h(c),s>1&&d(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(le,"$1"),n,r>s&&y(e.slice(s,r)),i>r&&y(e=e.slice(r)),i>r&&d(e))}c.push(n)}return h(c)}function b(e,n){var i=n.length>0,o=e.length>0,a=function(r,a,s,l,u){var c,f,d,p=0,h="0",m=r&&[],v=[],y=L,b=r||o&&k.find.TAG("*",u),x=H+=null==y?1:Math.random()||.1,w=b.length;for(u&&(L=a!==P&&a);h!==w&&null!=(c=b[h]);h++){if(o&&c){for(f=0;d=e[f++];)if(d(c,a,s)){l.push(c);break}u&&(H=x)}i&&((c=!d&&c)&&p--,r&&m.push(c))}if(p+=h,i&&h!==p){for(f=0;d=n[f++];)d(m,v,a,s);if(r){if(p>0)for(;h--;)m[h]||v[h]||(v[h]=J.call(l));v=g(v)}Q.apply(l,v),u&&!r&&v.length>0&&p+n.length>1&&t.uniqueSort(l)}return u&&(H=x,L=y),m};return i?r(a):a}var x,w,k,C,S,T,_,E,L,M,A,N,P,O,j,D,F,z,I,$="sizzle"+-new Date,R=e.document,H=0,B=0,W=n(),q=n(),U=n(),V=function(e,t){return e===t&&(A=!0),0},G="undefined",K=1<<31,X={}.hasOwnProperty,Y=[],J=Y.pop,Z=Y.push,Q=Y.push,ee=Y.slice,te=Y.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},ne="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",re="[\\x20\\t\\r\\n\\f]",ie="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",oe=ie.replace("w","w#"),ae="\\["+re+"*("+ie+")(?:"+re+"*([*^$|!~]?=)"+re+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+oe+"))|)"+re+"*\\]",se=":("+ie+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ae+")*)|.*)\\)|)",le=new RegExp("^"+re+"+|((?:^|[^\\\\])(?:\\\\.)*)"+re+"+$","g"),ue=new RegExp("^"+re+"*,"+re+"*"),ce=new RegExp("^"+re+"*([>+~]|"+re+")"+re+"*"),fe=new RegExp("="+re+"*([^\\]'\"]*?)"+re+"*\\]","g"),de=new RegExp(se),pe=new RegExp("^"+oe+"$"),he={ID:new RegExp("^#("+ie+")"),CLASS:new RegExp("^\\.("+ie+")"),TAG:new RegExp("^("+ie.replace("w","w*")+")"),ATTR:new RegExp("^"+ae),PSEUDO:new RegExp("^"+se),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+re+"*(even|odd|(([+-]|)(\\d*)n|)"+re+"*(?:([+-]|)"+re+"*(\\d+)|))"+re+"*\\)|)","i"),bool:new RegExp("^(?:"+ne+")$","i"),needsContext:new RegExp("^"+re+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+re+"*((?:-\\d)?\\d*)"+re+"*\\)|)(?=[^-]|$)","i")},me=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,ve=/^[^{]+\{\s*\[native \w/,ye=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,be=/[+~]/,xe=/'|\\/g,we=new RegExp("\\\\([\\da-f]{1,6}"+re+"?|("+re+")|.)","ig"),ke=function(e,t,n){var r="0x"+t-65536;return r!=r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)};try{Q.apply(Y=ee.call(R.childNodes),R.childNodes),Y[R.childNodes.length].nodeType}catch(je){Q={apply:Y.length?function(e,t){Z.apply(e,ee.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}for(x in w=t.support={},S=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},N=t.setDocument=function(e){var t,n=e?e.ownerDocument||e:R,r=n.defaultView;return n!==P&&9===n.nodeType&&n.documentElement?(P=n,O=n.documentElement,j=!S(n),r&&r!==r.top&&(r.addEventListener?r.addEventListener("unload",function(){N()},!1):r.attachEvent&&r.attachEvent("onunload",function(){N()})),w.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),w.getElementsByTagName=i(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),w.getElementsByClassName=ve.test(n.getElementsByClassName)&&i(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),w.getById=i(function(e){return O.appendChild(e).id=$,!n.getElementsByName||!n.getElementsByName($).length}),w.getById?(k.find.ID=function(e,t){if(typeof t.getElementById!==G&&j){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},k.filter.ID=function(e){var t=e.replace(we,ke);return function(e){return e.getAttribute("id")===t}}):(delete k.find.ID,k.filter.ID=function(e){var t=e.replace(we,ke);return function(e){var n=typeof e.getAttributeNode!==G&&e.getAttributeNode("id");return n&&n.value===t}}),k.find.TAG=w.getElementsByTagName?function(e,t){return typeof t.getElementsByTagName!==G?t.getElementsByTagName(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},k.find.CLASS=w.getElementsByClassName&&function(e,t){return typeof t.getElementsByClassName!==G&&j?t.getElementsByClassName(e):void 0},F=[],D=[],(w.qsa=ve.test(n.querySelectorAll))&&(i(function(e){e.innerHTML="<select msallowclip=''><option selected=''></option></select>",e.querySelectorAll("[msallowclip^='']").length&&D.push("[*^$]="+re+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||D.push("\\["+re+"*(?:value|"+ne+")"),e.querySelectorAll(":checked").length||D.push(":checked")}),i(function(e){var t=n.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&D.push("name"+re+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||D.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),D.push(",.*:")})),(w.matchesSelector=ve.test(z=O.matches||O.webkitMatchesSelector||O.mozMatchesSelector||O.oMatchesSelector||O.msMatchesSelector))&&i(function(e){w.disconnectedMatch=z.call(e,"div"),z.call(e,"[s!='']:x"),F.push("!=",se)}),D=D.length&&new RegExp(D.join("|")),F=F.length&&new RegExp(F.join("|")),t=ve.test(O.compareDocumentPosition),I=t||ve.test(O.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},V=t?function(e,t){if(e===t)return A=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!w.sortDetached&&t.compareDocumentPosition(e)===r?e===n||e.ownerDocument===R&&I(R,e)?-1:t===n||t.ownerDocument===R&&I(R,t)?1:M?te.call(M,e)-te.call(M,t):0:4&r?-1:1)}:function(e,t){if(e===t)return A=!0,0;var r,i=0,o=e.parentNode,s=t.parentNode,l=[e],u=[t];if(!o||!s)return e===n?-1:t===n?1:o?-1:s?1:M?te.call(M,e)-te.call(M,t):0;if(o===s)return a(e,t);for(r=e;r=r.parentNode;)l.unshift(r);for(r=t;r=r.parentNode;)u.unshift(r);for(;l[i]===u[i];)i++;return i?a(l[i],u[i]):l[i]===R?-1:u[i]===R?1:0},n):P},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==P&&N(e),n=n.replace(fe,"='$1']"),!(!w.matchesSelector||!j||F&&F.test(n)||D&&D.test(n)))try{var r=z.call(e,n);if(r||w.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(C){}return t(n,P,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==P&&N(e),I(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==P&&N(e);var n=k.attrHandle[t.toLowerCase()],r=n&&X.call(k.attrHandle,t.toLowerCase())?n(e,t,!j):void 0;return void 0!==r?r:w.attributes||!j?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,i=0;if(A=!w.detectDuplicates,M=!w.sortStable&&e.slice(0),e.sort(V),A){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return M=null,e},C=t.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=C(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=C(t);return n},(k=t.selectors={cacheLength:50,createPseudo:r,match:he,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(we,ke),e[3]=(e[3]||e[4]||e[5]||"").replace(we,ke),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return he.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&de.test(n)&&(t=T(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(we,ke).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=W[e+" "];return t||(t=new RegExp("(^|"+re+")"+e+"("+re+"|$)"))&&W(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==G&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(i){var o=t.attr(i,e);return null==o?"!="===n:!n||(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o+" ").indexOf(r)>-1:"|="===n&&(o===r||o.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,l){var u,c,f,d,p,h,m=o!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!l&&!s;if(g){if(o){for(;m;){for(f=t;f=f[m];)if(s?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;h=m="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?g.firstChild:g.lastChild],a&&y){for(p=(u=(c=g[$]||(g[$]={}))[e]||[])[0]===H&&u[1],d=u[0]===H&&u[2],f=p&&g.childNodes[p];f=++p&&f&&f[m]||(d=p=0)||h.pop();)if(1===f.nodeType&&++d&&f===t){c[e]=[H,p,d];break}}else if(y&&(u=(t[$]||(t[$]={}))[e])&&u[0]===H)d=u[1];else for(;(f=++p&&f&&f[m]||(d=p=0)||h.pop())&&((s?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++d||(y&&((f[$]||(f[$]={}))[e]=[H,d]),f!==t)););return(d-=i)===r||d%r==0&&d/r>=0}}},PSEUDO:function(e,n){var i,o=k.pseudos[e]||k.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[$]?o(n):o.length>1?(i=[e,e,"",n],k.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,i=o(e,n),a=i.length;a--;)e[r=te.call(e,i[a])]=!(t[r]=i[a])}):function(e){return o(e,0,i)}):o}},pseudos:{not:r(function(e){var t=[],n=[],i=_(e.replace(le,"$1"));return i[$]?r(function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return function(t){return(t.textContent||t.innerText||C(t)).indexOf(e)>-1}}),lang:r(function(e){return pe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(we,ke).toLowerCase(),function(t){var n;do{if(n=j?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===O},focus:function(e){return e===P.activeElement&&(!P.hasFocus||P.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!k.pseudos.empty(e)},header:function(e){return ge.test(e.nodeName)},input:function(e){return me.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]}),eq:u(function(e,t,n){return[0>n?n+t:n]}),even:u(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:u(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:u(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:u(function(e,t,n){for(var r=0>n?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=k.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})k.pseudos[x]=s(x);for(x in{submit:!0,reset:!0})k.pseudos[x]=l(x);return f.prototype=k.filters=k.pseudos,k.setFilters=new f,T=t.tokenize=function(e,n){var r,i,o,a,s,l,u,c=q[e+" "];if(c)return n?0:c.slice(0);for(s=e,l=[],u=k.preFilter;s;){for(a in(!r||(i=ue.exec(s)))&&(i&&(s=s.slice(i[0].length)||s),l.push(o=[])),r=!1,(i=ce.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(le," ")}),s=s.slice(r.length)),k.filter)!(i=he[a].exec(s))||u[a]&&!(i=u[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?t.error(e):q(e,l).slice(0)},_=t.compile=function(e,t){var n,r=[],i=[],o=U[e+" "];if(!o){for(t||(t=T(e)),n=t.length;n--;)(o=y(t[n]))[$]?r.push(o):i.push(o);(o=U(e,b(i,r))).selector=e}return o},E=t.select=function(e,t,n,r){var i,o,a,s,l,u="function"==typeof e&&e,f=!r&&T(e=u.selector||e);if(n=n||[],1===f.length){if((o=f[0]=f[0].slice(0)).length>2&&"ID"===(a=o[0]).type&&w.getById&&9===t.nodeType&&j&&k.relative[o[1].type]){if(!(t=(k.find.ID(a.matches[0].replace(we,ke),t)||[])[0]))return n;u&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=he.needsContext.test(e)?0:o.length;i--&&(a=o[i],!k.relative[s=a.type]);)if((l=k.find[s])&&(r=l(a.matches[0].replace(we,ke),be.test(o[0].type)&&c(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&d(o)))return Q.apply(n,r),n;break}}return(u||_(e,f))(r,t,!j,n,be.test(e)&&c(t.parentNode)||t),n},w.sortStable=$.split("").sort(V).join("")===$,w.detectDuplicates=!!A,N(),w.sortDetached=i(function(e){return 1&e.compareDocumentPosition(P.createElement("div"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),w.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||o(ne,function(e,t,n){var r;return n?void 0:!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);Q.find=ie,Q.expr=ie.selectors,Q.expr[":"]=Q.expr.pseudos,Q.unique=ie.uniqueSort,Q.text=ie.getText,Q.isXMLDoc=ie.isXML,Q.contains=ie.contains;var oe=Q.expr.match.needsContext,ae=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,se=/^.[^:#\[\.,]*$/;Q.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?Q.find.matchesSelector(r,e)?[r]:[]:Q.find.matches(e,Q.grep(t,function(e){return 1===e.nodeType}))},Q.fn.extend({find:function(e){var t,n=this.length,r=[],i=this;if("string"!=typeof e)return this.pushStack(Q(e).filter(function(){for(t=0;n>t;t++)if(Q.contains(i[t],this))return!0}));for(t=0;n>t;t++)Q.find(e,i[t],r);return(r=this.pushStack(n>1?Q.unique(r):r)).selector=this.selector?this.selector+" "+e:e,r},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&oe.test(e)?Q(e):e||[],!1).length}});var le,ue=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ce;(Q.fn.init=function(e,t){var n,r;if(!e)return this;if("string"==typeof e){if(!(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:ue.exec(e))||!n[1]&&t)return!t||t.jquery?(t||le).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof Q?t[0]:t,Q.merge(this,Q.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:J,!0)),ae.test(n[1])&&Q.isPlainObject(t))for(n in t)Q.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return(r=J.getElementById(n[2]))&&r.parentNode&&(this.length=1,this[0]=r),this.context=J,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):Q.isFunction(e)?"undefined"!=typeof le.ready?le.ready(e):e(Q):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),Q.makeArray(e,this))}).prototype=Q.fn,le=Q(J);var fe=/^(?:parents|prev(?:Until|All))/,de={children:!0,contents:!0,next:!0,prev:!0};Q.extend({dir:function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&Q(e).is(n))break;r.push(e)}return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),Q.fn.extend({has:function(e){var t=Q(e,this),n=t.length;return this.filter(function(){for(var e=0;n>e;e++)if(Q.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,r=0,i=this.length,o=[],a=oe.test(e)||"string"!=typeof e?Q(e,t||this.context):0;i>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&Q.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?Q.unique(o):o)},index:function(e){return e?"string"==typeof e?V.call(Q(e),this[0]):V.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(Q.unique(Q.merge(this.get(),Q(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),Q.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Q.dir(e,"parentNode")},parentsUntil:function(e,t,n){return Q.dir(e,"parentNode",n)},next:function(e){return i(e,"nextSibling")},prev:function(e){return i(e,"previousSibling")},nextAll:function(e){return Q.dir(e,"nextSibling")},prevAll:function(e){return Q.dir(e,"previousSibling")},nextUntil:function(e,t,n){return Q.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return Q.dir(e,"previousSibling",n)},siblings:function(e){return Q.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return Q.sibling(e.firstChild)},contents:function(e){return e.contentDocument||Q.merge([],e.childNodes)}},function(e,t){Q.fn[e]=function(n,r){var i=Q.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=Q.filter(r,i)),this.length>1&&(de[e]||Q.unique(i),fe.test(e)&&i.reverse()),this.pushStack(i)}});var pe=/\S+/g,he={},me;Q.Callbacks=function(e){e="string"==typeof e?he[e]||o(e):Q.extend({},e);var t,n,r,i,a,s,l=[],u=!e.once&&[],c=function(o){for(t=e.memory&&o,n=!0,s=i||0,i=0,a=l.length,r=!0;l&&a>s;s++)if(!1===l[s].apply(o[0],o[1])&&e.stopOnFalse){t=!1;break}r=!1,l&&(u?u.length&&c(u.shift()):t?l=[]:f.disable())},f={add:function(){if(l){var n=l.length;!function o(t){Q.each(t,function(t,n){var r=Q.type(n);"function"===r?e.unique&&f.has(n)||l.push(n):n&&n.length&&"string"!==r&&o(n)})}(arguments),r?a=l.length:t&&(i=n,c(t))}return this},remove:function(){return l&&Q.each(arguments,function(e,t){for(var n;(n=Q.inArray(t,l,n))>-1;)l.splice(n,1),r&&(a>=n&&a--,s>=n&&s--)}),this},has:function(e){return e?Q.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],a=0,this},disable:function(){return l=u=t=void 0,this},disabled:function(){return!l},lock:function(){return u=void 0,t||f.disable(),this},locked:function(){return!u},fireWith:function(e,t){return!l||n&&!u||(t=[e,(t=t||[]).slice?t.slice():t],r?u.push(t):c(t)),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!n}};return f},Q.extend({Deferred:function(e){var t=[["resolve","done",Q.Callbacks("once memory"),"resolved"],["reject","fail",Q.Callbacks("once memory"),"rejected"],["notify","progress",Q.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return Q.Deferred(function(n){Q.each(t,function(t,o){var a=Q.isFunction(e[t])&&e[t];i[o[1]](function(){var e=a&&a.apply(this,arguments);e&&Q.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===r?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?Q.extend(e,r):r}},i={};return r.pipe=r.then,Q.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=0,n=W.call(arguments),r=n.length,i=1!==r||e&&Q.isFunction(e.promise)?r:0,o=1===i?e:Q.Deferred(),a=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length>1?W.call(arguments):r,n===s?o.notifyWith(t,n):--i||o.resolveWith(t,n)}},s,l,u;if(r>1)for(s=new Array(r),l=new Array(r),u=new Array(r);r>t;t++)n[t]&&Q.isFunction(n[t].promise)?n[t].promise().done(a(t,u,n)).fail(o.reject).progress(a(t,l,s)):--i;return i||o.resolveWith(u,n),o.promise()}}),Q.fn.ready=function(e){return Q.ready.promise().done(e),this},Q.extend({isReady:!1,readyWait:1,holdReady:function(e){e?Q.readyWait++:Q.ready(!0)},ready:function(e){(!0===e?--Q.readyWait:Q.isReady)||(Q.isReady=!0,!0!==e&&--Q.readyWait>0||(me.resolveWith(J,[Q]),Q.fn.triggerHandler&&(Q(J).triggerHandler("ready"),Q(J).off("ready"))))}}),Q.ready.promise=function(t){return me||(me=Q.Deferred(),"complete"===J.readyState?setTimeout(Q.ready):(J.addEventListener("DOMContentLoaded",a,!1),e.addEventListener("load",a,!1))),me.promise(t)},Q.ready.promise();var ge=Q.access=function(e,t,n,r,i,o,a){var s=0,l=e.length,u=null==n;if("object"===Q.type(n))for(s in i=!0,n)Q.access(e,t,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,Q.isFunction(r)||(a=!0),u&&(a?(t.call(e,r),t=null):(u=t,t=function(e,t,n){return u.call(Q(e),n)})),t))for(;l>s;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:u?t.call(e):l?t(e[0],n):o};Q.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},s.uid=1,s.accepts=Q.acceptData,s.prototype={key:function(e){if(!s.accepts(e))return 0;var t={},n=e[this.expando];if(!n){n=s.uid++;try{t[this.expando]={value:n},Object.defineProperties(e,t)}catch(W){t[this.expando]=n,Q.extend(e,t)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,n){var r,i=this.key(e),o=this.cache[i];if("string"==typeof t)o[t]=n;else if(Q.isEmptyObject(o))Q.extend(this.cache[i],t);else for(r in t)o[r]=t[r];return o},get:function(e,t){var n=this.cache[this.key(e)];return void 0===t?n:n[t]},access:function(e,t,n){var r;return void 0===t||t&&"string"==typeof t&&void 0===n?void 0!==(r=this.get(e,t))?r:this.get(e,Q.camelCase(t)):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r,i,o=this.key(e),a=this.cache[o];if(void 0===t)this.cache[o]={};else{Q.isArray(t)?r=t.concat(t.map(Q.camelCase)):(i=Q.camelCase(t),t in a?r=[t,i]:r=(r=i)in a?[r]:r.match(pe)||[]),n=r.length;for(;n--;)delete a[r[n]]}},hasData:function(e){return!Q.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var ve=new s,ye=new s,be=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,xe=/([A-Z])/g;Q.extend({hasData:function(e){return ye.hasData(e)||ve.hasData(e)},data:function(e,t,n){return ye.access(e,t,n)},removeData:function(e,t){ye.remove(e,t)},_data:function(e,t,n){return ve.access(e,t,n)},_removeData:function(e,t){ve.remove(e,t)}}),Q.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=ye.get(o),1===o.nodeType&&!ve.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(0===(r=a[n].name).indexOf("data-")&&(r=Q.camelCase(r.slice(5)),l(o,r,i[r])));ve.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){ye.set(this,e)}):ge(this,function(t){var n,r=Q.camelCase(e);if(o&&void 0===t){if(void 0!==(n=ye.get(o,e)))return n;if(void 0!==(n=ye.get(o,r)))return n;if(void 0!==(n=l(o,r,void 0)))return n}else this.each(function(){var n=ye.get(this,r);ye.set(this,r,t),-1!==e.indexOf("-")&&void 0!==n&&ye.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){ye.remove(this,e)})}}),Q.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=ve.get(e,t),n&&(!r||Q.isArray(n)?r=ve.access(e,t,Q.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=Q.queue(e,t),r=n.length,i=n.shift(),o=Q._queueHooks(e,t),a=function(){Q.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ve.get(e,n)||ve.access(e,n,{empty:Q.Callbacks("once memory").add(function(){ve.remove(e,[t+"queue",n])})})}}),Q.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?Q.queue(this[0],e):void 0===t?this:this.each(function(){var n=Q.queue(this,e,t);Q._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&Q.dequeue(this,e)})},dequeue:function(e){return this.each(function(){Q.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=Q.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=ve.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var we=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ke=["Top","Right","Bottom","Left"],Ce=function(e,t){return e=t||e,"none"===Q.css(e,"display")||!Q.contains(e.ownerDocument,e)},Se=/^(?:checkbox|radio)$/i;!function(){var e,t=J.createDocumentFragment().appendChild(J.createElement("div")),n=J.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),Y.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",Y.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var Te="undefined";Y.focusinBubbles="onfocusin"in e;var _e=/^key/,Ee=/^(?:mouse|pointer|contextmenu)|click/,Le=/^(?:focusinfocus|focusoutblur)$/,Me=/^([^.]*)(?:\.(.+)|)$/;Q.event={global:{},add:function(e,t,n,r,i){var o,a,s,l,u,c,f,d,p,h,m,g=ve.get(e);if(g)for(n.handler&&(n=(o=n).handler,i=o.selector),n.guid||(n.guid=Q.guid++),(l=g.events)||(l=g.events={}),(a=g.handle)||(a=g.handle=function(t){return typeof Q!==Te&&Q.event.triggered!==t.type?Q.event.dispatch.apply(e,arguments):void 0}),u=(t=(t||"").match(pe)||[""]).length;u--;)p=m=(s=Me.exec(t[u])||[])[1],h=(s[2]||"").split(".").sort(),p&&(f=Q.event.special[p]||{},p=(i?f.delegateType:f.bindType)||p,f=Q.event.special[p]||{},c=Q.extend({type:p,origType:m,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&Q.expr.match.needsContext.test(i),namespace:h.join(".")},o),(d=l[p])||((d=l[p]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(e,r,h,a)||e.addEventListener&&e.addEventListener(p,a,!1)),f.add&&(f.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),i?d.splice(d.delegateCount++,0,c):d.push(c),Q.event.global[p]=!0)},remove:function(e,t,n,r,i){var o,a,s,l,u,c,f,d,p,h,m,g=ve.hasData(e)&&ve.get(e);if(g&&(l=g.events)){for(u=(t=(t||"").match(pe)||[""]).length;u--;)if(p=m=(s=Me.exec(t[u])||[])[1],h=(s[2]||"").split(".").sort(),p){for(f=Q.event.special[p]||{},d=l[p=(r?f.delegateType:f.bindType)||p]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=d.length;o--;)c=d[o],!i&&m!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(d.splice(o,1),c.selector&&d.delegateCount--,f.remove&&f.remove.call(e,c));a&&!d.length&&(f.teardown&&!1!==f.teardown.call(e,h,g.handle)||Q.removeEvent(e,p,g.handle),delete l[p])}else for(p in l)Q.event.remove(e,p+t[u],n,r,!0);Q.isEmptyObject(l)&&(delete g.handle,ve.remove(e,"events"))}},trigger:function(t,n,r,i){var o,a,s,l,u,c,f,d=[r||J],p=X.call(t,"type")?t.type:t,h=X.call(t,"namespace")?t.namespace.split("."):[];if(a=s=r=r||J,3!==r.nodeType&&8!==r.nodeType&&!Le.test(p+Q.event.triggered)&&(p.indexOf(".")>=0&&(p=(h=p.split(".")).shift(),h.sort()),u=p.indexOf(":")<0&&"on"+p,(t=t[Q.expando]?t:new Q.Event(p,"object"==typeof t&&t)).isTrigger=i?2:3,t.namespace=h.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:Q.makeArray(n,[t]),f=Q.event.special[p]||{},i||!f.trigger||!1!==f.trigger.apply(r,n))){if(!i&&!f.noBubble&&!Q.isWindow(r)){for(l=f.delegateType||p,Le.test(l+p)||(a=a.parentNode);a;a=a.parentNode)d.push(a),s=a;s===(r.ownerDocument||J)&&d.push(s.defaultView||s.parentWindow||e)}for(o=0;(a=d[o++])&&!t.isPropagationStopped();)t.type=o>1?l:f.bindType||p,(c=(ve.get(a,"events")||{})[t.type]&&ve.get(a,"handle"))&&c.apply(a,n),(c=u&&a[u])&&c.apply&&Q.acceptData(a)&&(t.result=c.apply(a,n),!1===t.result&&t.preventDefault());return t.type=p,i||t.isDefaultPrevented()||f._default&&!1!==f._default.apply(d.pop(),n)||!Q.acceptData(r)||u&&Q.isFunction(r[p])&&!Q.isWindow(r)&&((s=r[u])&&(r[u]=null),Q.event.triggered=p,r[p](),Q.event.triggered=void 0,s&&(r[u]=s)),t.result}},dispatch:function(e){e=Q.event.fix(e);var t,n,r,i,o,a=[],s=W.call(arguments),l=(ve.get(this,"events")||{})[e.type]||[],u=Q.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,e)){for(a=Q.event.handlers.call(this,e,l),t=0;(i=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(o.namespace))&&(e.handleObj=o,e.data=o.data,void 0!==(r=((Q.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s))&&!1===(e.result=r)&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,o,a=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!==this;l=l.parentNode||this)if(!0!==l.disabled||"click"!==e.type){for(r=[],n=0;s>n;n++)void 0===r[i=(o=t[n]).selector+" "]&&(r[i]=o.needsContext?Q(i,this).index(l)>=0:Q.find(i,this,null,[l]).length),r[i]&&r.push(o);r.length&&a.push({elem:l,handlers:r})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,o=t.button;return null==e.pageX&&null!=t.clientX&&(r=(n=e.target.ownerDocument||J).documentElement,i=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[Q.expando])return e;var t,n,r,i=e.type,o=e,a=this.fixHooks[i];for(a||(this.fixHooks[i]=a=Ee.test(i)?this.mouseHooks:_e.test(i)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,e=new Q.Event(o),t=r.length;t--;)e[n=r[t]]=o[n];return e.target||(e.target=J),3===e.target.nodeType&&(e.target=e.target.parentNode),a.filter?a.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==f()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===f()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&Q.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return Q.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=Q.extend(new Q.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?Q.event.trigger(i,null,t):Q.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},Q.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},Q.Event=function(e,t){return this instanceof Q.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?u:c):this.type=e,t&&Q.extend(this,t),this.timeStamp=e&&e.timeStamp||Q.now(),void(this[Q.expando]=!0)):new Q.Event(e,t)},Q.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=u,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=u,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=u,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},Q.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){Q.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return(!i||i!==r&&!Q.contains(r,i))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),Y.focusinBubbles||Q.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){Q.event.simulate(t,e.target,Q.event.fix(e),!0)};Q.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=ve.access(r,t);i||r.addEventListener(e,n,!0),ve.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=ve.access(r,t)-1;i?ve.access(r,t,i):(r.removeEventListener(e,n,!0),ve.remove(r,t))}}}),Q.fn.extend({on:function(e,t,n,r,i){var o,a;if("object"==typeof e){for(a in"string"!=typeof t&&(n=n||t,t=void 0),e)this.on(a,t,n,e[a],i);return this}if(null==n&&null==r?(r=t,n=t=void 0):null==r&&("string"==typeof t?(r=n,n=void 0):(r=n,n=t,t=void 0)),!1===r)r=c;else if(!r)return this;return 1===i&&(o=r,(r=function(e){return Q().off(e),o.apply(this,arguments)}).guid=o.guid||(o.guid=Q.guid++)),this.each(function(){Q.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,Q(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return(!1===t||"function"==typeof t)&&(n=t,t=void 0),!1===n&&(n=c),this.each(function(){Q.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){Q.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?Q.event.trigger(e,t,n,!0):void 0}});var Ae=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ne=/<([\w:]+)/,Pe=/<|&#?\w+;/,Oe=/<(?:script|style|link)/i,je=/checked\s*(?:[^=]|=\s*.checked.)/i,De=/^$|\/(?:java|ecma)script/i,Fe=/^true\/(.*)/,ze=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Ie={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ie.optgroup=Ie.option,Ie.tbody=Ie.tfoot=Ie.colgroup=Ie.caption=Ie.thead,Ie.th=Ie.td,Q.extend({clone:function(e,t,n){var r,i,o,a,s=e.cloneNode(!0),l=Q.contains(e.ownerDocument,e);if(!(Y.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||Q.isXMLDoc(e)))for(a=v(s),r=0,i=(o=v(e)).length;i>r;r++)y(o[r],a[r]);if(t)if(n)for(o=o||v(e),a=a||v(s),r=0,i=o.length;i>r;r++)g(o[r],a[r]);else g(e,s);return(a=v(s,"script")).length>0&&m(a,!l&&v(e,"script")),s},buildFragment:function(e,t,n,r){for(var i,o,a,s,l,u,c=t.createDocumentFragment(),f=[],d=0,p=e.length;p>d;d++)if((i=e[d])||0===i)if("object"===Q.type(i))Q.merge(f,i.nodeType?[i]:i);else if(Pe.test(i)){for(o=o||c.appendChild(t.createElement("div")),a=(Ne.exec(i)||["",""])[1].toLowerCase(),s=Ie[a]||Ie._default,o.innerHTML=s[1]+i.replace(Ae,"<$1></$2>")+s[2],u=s[0];u--;)o=o.lastChild;Q.merge(f,o.childNodes),(o=c.firstChild).textContent=""}else f.push(t.createTextNode(i));for(c.textContent="",d=0;i=f[d++];)if((!r||-1===Q.inArray(i,r))&&(l=Q.contains(i.ownerDocument,i),o=v(c.appendChild(i),"script"),l&&m(o),n))for(u=0;i=o[u++];)De.test(i.type||"")&&n.push(i);return c},cleanData:function(e){for(var t,n,r,i,o=Q.event.special,a=0;void 0!==(n=e[a]);a++){if(Q.acceptData(n)&&((i=n[ve.expando])&&(t=ve.cache[i]))){if(t.events)for(r in t.events)o[r]?Q.event.remove(n,r):Q.removeEvent(n,r,t.handle);ve.cache[i]&&delete ve.cache[i]}delete ye.cache[n[ye.expando]]}}}),Q.fn.extend({text:function(e){return ge(this,function(e){return void 0===e?Q.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){var t;1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||d(this,e).appendChild(e)})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=d(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=e?Q.filter(e,this):this,i=0;null!=(n=r[i]);i++)t||1!==n.nodeType||Q.cleanData(v(n)),n.parentNode&&(t&&Q.contains(n.ownerDocument,n)&&m(v(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(Q.cleanData(v(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return Q.clone(this,e,t)})},html:function(e){return ge(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Oe.test(e)&&!Ie[(Ne.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(Ae,"<$1></$2>");try{for(;r>n;n++)1===(t=this[n]||{}).nodeType&&(Q.cleanData(v(t,!1)),t.innerHTML=e);t=0}catch(q){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,Q.cleanData(v(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=q.apply([],e);var n,r,i,o,a,s,l=0,u=this.length,c=this,f=u-1,d=e[0],m=Q.isFunction(d);if(m||u>1&&"string"==typeof d&&!Y.checkClone&&je.test(d))return this.each(function(n){var r=c.eq(n);m&&(e[0]=d.call(this,n,r.html())),r.domManip(e,t)});if(u&&(r=(n=Q.buildFragment(e,this[0].ownerDocument,!1,this)).firstChild,1===n.childNodes.length&&(n=r),r)){for(o=(i=Q.map(v(n,"script"),p)).length;u>l;l++)a=n,l!==f&&(a=Q.clone(a,!0,!0),o&&Q.merge(i,v(a,"script"))),t.call(this[l],a,l);if(o)for(s=i[i.length-1].ownerDocument,Q.map(i,h),l=0;o>l;l++)a=i[l],De.test(a.type||"")&&!ve.access(a,"globalEval")&&Q.contains(s,a)&&(a.src?Q._evalUrl&&Q._evalUrl(a.src):Q.globalEval(a.textContent.replace(ze,"")))}return this}}),Q.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){Q.fn[e]=function(e){for(var n,r=[],i=Q(e),o=i.length-1,a=0;o>=a;a++)n=a===o?this:this.clone(!0),Q(i[a])[t](n),U.apply(r,n.get());return this.pushStack(r)}});var $e,Re={},He=/^margin/,Be=new RegExp("^("+we+")(?!px)[a-z%]+$","i"),We=function(e){return e.ownerDocument.defaultView.getComputedStyle(e,null)};!function(){var t,n,r=J.documentElement,i=J.createElement("div"),o=J.createElement("div");if(o.style){function a(){o.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",o.innerHTML="",r.appendChild(i);var a=e.getComputedStyle(o,null);t="1%"!==a.top,n="4px"===a.width,r.removeChild(i)}o.style.backgroundClip="content-box",o.cloneNode(!0).style.backgroundClip="",Y.clearCloneStyle="content-box"===o.style.backgroundClip,i.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",i.appendChild(o),e.getComputedStyle&&Q.extend(Y,{pixelPosition:function(){return a(),t},boxSizingReliable:function(){return null==n&&a(),n},reliableMarginRight:function(){var t,n=o.appendChild(J.createElement("div"));return n.style.cssText=o.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",o.style.width="1px",r.appendChild(i),t=!parseFloat(e.getComputedStyle(n,null).marginRight),r.removeChild(i),t}})}}(),Q.swap=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];for(o in i=n.apply(e,r||[]),t)e.style[o]=a[o];return i};var qe=/^(none|table(?!-c[ea]).+)/,Ue=new RegExp("^("+we+")(.*)$","i"),Ve=new RegExp("^([+-])=("+we+")","i"),Ge={position:"absolute",visibility:"hidden",display:"block"},Ke={letterSpacing:"0",fontWeight:"400"},Xe=["Webkit","O","Moz","ms"];Q.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=w(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=Q.camelCase(t),l=e.style;return t=Q.cssProps[s]||(Q.cssProps[s]=C(l,s)),a=Q.cssHooks[t]||Q.cssHooks[s],void 0===n?a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t]:("string"===(o=typeof n)&&(i=Ve.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(Q.css(e,t)),o="number"),void(null!=n&&n==n&&("number"!==o||Q.cssNumber[s]||(n+="px"),Y.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(l[t]=n))))}},css:function(e,t,n,r){var i,o,a,s=Q.camelCase(t);return t=Q.cssProps[s]||(Q.cssProps[s]=C(e.style,s)),(a=Q.cssHooks[t]||Q.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=w(e,t,r)),"normal"===i&&t in Ke&&(i=Ke[t]),""===n||n?(o=parseFloat(i),!0===n||Q.isNumeric(o)?o||0:i):i}}),Q.each(["height","width"],function(e,t){Q.cssHooks[t]={get:function(e,n,r){return n?qe.test(Q.css(e,"display"))&&0===e.offsetWidth?Q.swap(e,Ge,function(){return _(e,t,r)}):_(e,t,r):void 0},set:function(e,n,r){var i=r&&We(e);return S(e,n,r?T(e,t,r,"border-box"===Q.css(e,"boxSizing",!1,i),i):0)}}}),Q.cssHooks.marginRight=k(Y.reliableMarginRight,function(e,t){return t?Q.swap(e,{display:"inline-block"},w,[e,"marginRight"]):void 0}),Q.each({margin:"",padding:"",border:"Width"},function(e,t){Q.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];4>r;r++)i[e+ke[r]+t]=o[r]||o[r-2]||o[0];return i}},He.test(e)||(Q.cssHooks[e+t].set=S)}),Q.fn.extend({css:function(e,t){return ge(this,function(e,t,n){var r,i,o={},a=0;if(Q.isArray(t)){for(r=We(e),i=t.length;i>a;a++)o[t[a]]=Q.css(e,t[a],!1,r);return o}return void 0!==n?Q.style(e,t,n):Q.css(e,t)},e,t,arguments.length>1)},show:function(){return E(this,!0)},hide:function(){return E(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Ce(this)?Q(this).show():Q(this).hide()})}}),Q.Tween=L,L.prototype={constructor:L,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(Q.cssNumber[n]?"":"px")},cur:function(){var e=L.propHooks[this.prop];return e&&e.get?e.get(this):L.propHooks._default.get(this)},run:function(e){var t,n=L.propHooks[this.prop];return this.pos=t=this.options.duration?Q.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):L.propHooks._default.set(this),this}},L.prototype.init.prototype=L.prototype,L.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=Q.css(e.elem,e.prop,""))&&"auto"!==t?t:0:e.elem[e.prop]},set:function(e){Q.fx.step[e.prop]?Q.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[Q.cssProps[e.prop]]||Q.cssHooks[e.prop])?Q.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},L.propHooks.scrollTop=L.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},Q.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},Q.fx=L.prototype.init,Q.fx.step={};var Ye,Je,Ze=/^(?:toggle|show|hide)$/,Qe=new RegExp("^(?:([+-])=|)("+we+")([a-z%]*)$","i"),et=/queueHooks$/,tt=[P],nt={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=Qe.exec(t),o=i&&i[3]||(Q.cssNumber[e]?"":"px"),a=(Q.cssNumber[e]||"px"!==o&&+r)&&Qe.exec(Q.css(n.elem,e)),s=1,l=20;if(a&&a[3]!==o){o=o||a[3],i=i||[],a=+r||1;do{a/=s=s||".5",Q.style(n.elem,e,a+o)}while(s!==(s=n.cur()/r)&&1!==s&&--l)}return i&&(a=n.start=+a||+r||0,n.unit=o,n.end=i[1]?a+(i[1]+1)*i[2]:+i[2]),n}]};Q.Animation=Q.extend(j,{tweener:function(e,t){Q.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,i=e.length;i>r;r++)n=e[r],nt[n]=nt[n]||[],nt[n].unshift(t)},prefilter:function(e,t){t?tt.unshift(e):tt.push(e)}}),Q.speed=function(e,t,n){var r=e&&"object"==typeof e?Q.extend({},e):{complete:n||!n&&t||Q.isFunction(e)&&e,duration:e,easing:n&&t||t&&!Q.isFunction(t)&&t};return r.duration=Q.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in Q.fx.speeds?Q.fx.speeds[r.duration]:Q.fx.speeds._default,(null==r.queue||!0===r.queue)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){Q.isFunction(r.old)&&r.old.call(this),r.queue&&Q.dequeue(this,r.queue)},r},Q.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Ce).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=Q.isEmptyObject(e),o=Q.speed(t,n,r),a=function(){var t=j(this,Q.extend({},e),o);(i||ve.get(this,"finish"))&&t.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=Q.timers,a=ve.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&et.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));(t||!n)&&Q.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=ve.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=Q.timers,a=r?r.length:0;for(n.finish=!0,Q.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;a>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),Q.each(["toggle","show","hide"],function(e,t){var n=Q.fn[t];Q.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(A(t,!0),e,r,i)}}),Q.each({slideDown:A("show"),slideUp:A("hide"),slideToggle:A("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){Q.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),Q.timers=[],Q.fx.tick=function(){var e,t=0,n=Q.timers;for(Ye=Q.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||Q.fx.stop(),Ye=void 0},Q.fx.timer=function(e){Q.timers.push(e),e()?Q.fx.start():Q.timers.pop()},Q.fx.interval=13,Q.fx.start=function(){Je||(Je=setInterval(Q.fx.tick,Q.fx.interval))},Q.fx.stop=function(){clearInterval(Je),Je=null},Q.fx.speeds={slow:600,fast:200,_default:400},Q.fn.delay=function(e,t){return e=Q.fx&&Q.fx.speeds[e]||e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},function(){var e=J.createElement("input"),t=J.createElement("select"),n=t.appendChild(J.createElement("option"));e.type="checkbox",Y.checkOn=""!==e.value,Y.optSelected=n.selected,t.disabled=!0,Y.optDisabled=!n.disabled,(e=J.createElement("input")).value="t",e.type="radio",Y.radioValue="t"===e.value}();var rt,it,ot=Q.expr.attrHandle;Q.fn.extend({attr:function(e,t){return ge(this,Q.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){Q.removeAttr(this,e)})}}),Q.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute===Te?Q.prop(e,t,n):(1===o&&Q.isXMLDoc(e)||(t=t.toLowerCase(),r=Q.attrHooks[t]||(Q.expr.match.bool.test(t)?it:rt)),void 0===n?r&&"get"in r&&null!==(i=r.get(e,t))?i:null==(i=Q.find.attr(e,t))?void 0:i:null!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):void Q.removeAttr(e,t))},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(pe);if(o&&1===e.nodeType)for(;n=o[i++];)r=Q.propFix[n]||n,Q.expr.match.bool.test(n)&&(e[r]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!Y.radioValue&&"radio"===t&&Q.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),it={set:function(e,t,n){return!1===t?Q.removeAttr(e,n):e.setAttribute(n,n),n}},Q.each(Q.expr.match.bool.source.match(/\w+/g),function(e,t){var n=ot[t]||Q.find.attr;ot[t]=function(e,t,r){var i,o;return r||(o=ot[t],ot[t]=i,i=null!=n(e,t,r)?t.toLowerCase():null,ot[t]=o),i}});var at=/^(?:input|select|textarea|button)$/i;Q.fn.extend({prop:function(e,t){return ge(this,Q.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[Q.propFix[e]||e]})}}),Q.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var r,i,o,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return(o=1!==a||!Q.isXMLDoc(e))&&(t=Q.propFix[t]||t,i=Q.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||at.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),Y.optSelected||(Q.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),Q.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Q.propFix[this.toLowerCase()]=this});var st=/[\t\r\n\f]/g;Q.fn.extend({addClass:function(e){var t,n,r,i,o,a,s="string"==typeof e&&e,l=0,u=this.length;if(Q.isFunction(e))return this.each(function(t){Q(this).addClass(e.call(this,t,this.className))});if(s)for(t=(e||"").match(pe)||[];u>l;l++)if(r=1===(n=this[l]).nodeType&&(n.className?(" "+n.className+" ").replace(st," "):" ")){for(o=0;i=t[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");a=Q.trim(r),n.className!==a&&(n.className=a)}return this},removeClass:function(e){var t,n,r,i,o,a,s=0===arguments.length||"string"==typeof e&&e,l=0,u=this.length;if(Q.isFunction(e))return this.each(function(t){Q(this).removeClass(e.call(this,t,this.className))});if(s)for(t=(e||"").match(pe)||[];u>l;l++)if(r=1===(n=this[l]).nodeType&&(n.className?(" "+n.className+" ").replace(st," "):"")){for(o=0;i=t[o++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");a=e?Q.trim(r):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):this.each(Q.isFunction(e)?function(n){Q(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var t,r=0,i=Q(this),o=e.match(pe)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else(n===Te||"boolean"===n)&&(this.className&&ve.set(this,"__className__",this.className),this.className=this.className||!1===e?"":ve.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(st," ").indexOf(t)>=0)return!0;return!1}});var lt=/\r/g;Q.fn.extend({val:function(e){var t,n,r,i=this[0];return arguments.length?(r=Q.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(null==(i=r?e.call(this,n,Q(this).val()):e)?i="":"number"==typeof i?i+="":Q.isArray(i)&&(i=Q.map(i,function(e){return null==e?"":e+""})),(t=Q.valHooks[this.type]||Q.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))})):i?(t=Q.valHooks[i.type]||Q.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(lt,""):null==n?"":n:void 0}}),Q.extend({valHooks:{option:{get:function(e){var t=Q.find.attr(e,"value");return null!=t?t:Q.trim(Q.text(e))}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||0>i,a=o?null:[],s=o?i+1:r.length,l=0>i?s:o?i:0;s>l;l++)if(!(!(n=r[l]).selected&&l!==i||(Y.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&Q.nodeName(n.parentNode,"optgroup"))){if(t=Q(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,r,i=e.options,o=Q.makeArray(t),a=i.length;a--;)((r=i[a]).selected=Q.inArray(r.value,o)>=0)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),Q.each(["radio","checkbox"],function(){Q.valHooks[this]={set:function(e,t){return Q.isArray(t)?e.checked=Q.inArray(Q(e).val(),t)>=0:void 0}},Y.checkOn||(Q.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),Q.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){Q.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),Q.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var ut=Q.now(),ct=/\?/;Q.parseJSON=function(e){return JSON.parse(e+"")},Q.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{t=(n=new DOMParser).parseFromString(e,"text/xml")}catch(W){t=void 0}return(!t||t.getElementsByTagName("parsererror").length)&&Q.error("Invalid XML: "+e),t};var ft,dt,pt=/#.*$/,ht=/([?&])_=[^&]*/,mt=/^(.*?):[ \t]*([^\r\n]*)$/gm,gt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,vt=/^(?:GET|HEAD)$/,yt=/^\/\//,bt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,xt={},wt={},kt="*/".concat("*");try{dt=location.href}catch(It){(dt=J.createElement("a")).href="",dt=dt.href}ft=bt.exec(dt.toLowerCase())||[],Q.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:dt,type:"GET",isLocal:gt.test(ft[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":kt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":Q.parseJSON,"text xml":Q.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?z(z(e,Q.ajaxSettings),t):z(Q.ajaxSettings,e)},ajaxPrefilter:D(xt),ajaxTransport:D(wt),ajax:function(e,t){function n(e,t,n,a){var l,c,v,y,x,k=t;2!==b&&(b=2,s&&clearTimeout(s),r=void 0,o=a||"",w.readyState=e>0?4:0,l=e>=200&&300>e||304===e,n&&(y=I(f,w,n)),y=$(f,y,w,l),l?(f.ifModified&&((x=w.getResponseHeader("Last-Modified"))&&(Q.lastModified[i]=x),(x=w.getResponseHeader("etag"))&&(Q.etag[i]=x)),204===e||"HEAD"===f.type?k="nocontent":304===e?k="notmodified":(k=y.state,c=y.data,l=!(v=y.error))):(v=k,(e||!k)&&(k="error",0>e&&(e=0))),w.status=e,w.statusText=(t||k)+"",l?h.resolveWith(d,[c,k,w]):h.rejectWith(d,[w,k,v]),w.statusCode(g),g=void 0,u&&p.trigger(l?"ajaxSuccess":"ajaxError",[w,f,l?c:v]),m.fireWith(d,[w,k]),u&&(p.trigger("ajaxComplete",[w,f]),--Q.active||Q.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,i,o,a,s,l,u,c,f=Q.ajaxSetup({},t),d=f.context||f,p=f.context&&(d.nodeType||d.jquery)?Q(d):Q.event,h=Q.Deferred(),m=Q.Callbacks("once memory"),g=f.statusCode||{},v={},y={},b=0,x="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!a)for(a={};t=mt.exec(o);)a[t[1].toLowerCase()]=t[2];t=a[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?o:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=y[n]=y[n]||e,v[e]=t),this},overrideMimeType:function(e){return b||(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)g[t]=[g[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||x;return r&&r.abort(t),n(0,t),this}};if(h.promise(w).complete=m.add,w.success=w.done,w.error=w.fail,f.url=((e||f.url||dt)+"").replace(pt,"").replace(yt,ft[1]+"//"),f.type=t.method||t.type||f.method||f.type,f.dataTypes=Q.trim(f.dataType||"*").toLowerCase().match(pe)||[""],null==f.crossDomain&&(l=bt.exec(f.url.toLowerCase()),f.crossDomain=!(!l||l[1]===ft[1]&&l[2]===ft[2]&&(l[3]||("http:"===l[1]?"80":"443"))===(ft[3]||("http:"===ft[1]?"80":"443")))),f.data&&f.processData&&"string"!=typeof f.data&&(f.data=Q.param(f.data,f.traditional)),F(xt,f,t,w),2===b)return w;for(c in(u=f.global)&&0==Q.active++&&Q.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!vt.test(f.type),i=f.url,f.hasContent||(f.data&&(i=f.url+=(ct.test(i)?"&":"?")+f.data,delete f.data),!1===f.cache&&(f.url=ht.test(i)?i.replace(ht,"$1_="+ut++):i+(ct.test(i)?"&":"?")+"_="+ut++)),f.ifModified&&(Q.lastModified[i]&&w.setRequestHeader("If-Modified-Since",Q.lastModified[i]),Q.etag[i]&&w.setRequestHeader("If-None-Match",Q.etag[i])),(f.data&&f.hasContent&&!1!==f.contentType||t.contentType)&&w.setRequestHeader("Content-Type",f.contentType),w.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+kt+"; q=0.01":""):f.accepts["*"]),f.headers)w.setRequestHeader(c,f.headers[c]);if(f.beforeSend&&(!1===f.beforeSend.call(d,w,f)||2===b))return w.abort();for(c in x="abort",{success:1,error:1,complete:1})w[c](f[c]);if(r=F(wt,f,t,w)){w.readyState=1,u&&p.trigger("ajaxSend",[w,f]),f.async&&f.timeout>0&&(s=setTimeout(function(){w.abort("timeout")},f.timeout));try{b=1,r.send(v,n)}catch(se){if(!(2>b))throw se;n(-1,se)}}else n(-1,"No Transport");return w},getJSON:function(e,t,n){return Q.get(e,t,n,"json")},getScript:function(e,t){return Q.get(e,void 0,t,"script")}}),Q.each(["get","post"],function(e,t){Q[t]=function(e,n,r,i){return Q.isFunction(n)&&(i=i||r,r=n,n=void 0),Q.ajax({url:e,type:t,dataType:i,data:n,success:r})}}),Q.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){Q.fn[t]=function(e){return this.on(t,e)}}),Q._evalUrl=function(e){return Q.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},Q.fn.extend({wrapAll:function(e){var t;return Q.isFunction(e)?this.each(function(t){Q(this).wrapAll(e.call(this,t))}):(this[0]&&(t=Q(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return this.each(Q.isFunction(e)?function(t){Q(this).wrapInner(e.call(this,t))}:function(){var t=Q(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=Q.isFunction(e);return this.each(function(n){Q(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){Q.nodeName(this,"body")||Q(this).replaceWith(this.childNodes)}).end()}}),Q.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},Q.expr.filters.visible=function(e){return!Q.expr.filters.hidden(e)};var Ct=/%20/g,St=/\[\]$/,Tt=/\r?\n/g,_t=/^(?:submit|button|image|reset|file)$/i,Et=/^(?:input|select|textarea|keygen)/i;Q.param=function(e,t){var n,r=[],i=function(e,t){t=Q.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=Q.ajaxSettings&&Q.ajaxSettings.traditional),Q.isArray(e)||e.jquery&&!Q.isPlainObject(e))Q.each(e,function(){i(this.name,this.value)});else for(n in e)R(n,e[n],t,i);return r.join("&").replace(Ct,"+")},Q.fn.extend({serialize:function(){return Q.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=Q.prop(this,"elements");return e?Q.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!Q(this).is(":disabled")&&Et.test(this.nodeName)&&!_t.test(e)&&(this.checked||!Se.test(e))}).map(function(e,t){var n=Q(this).val();return null==n?null:Q.isArray(n)?Q.map(n,function(e){return{name:t.name,value:e.replace(Tt,"\r\n")}}):{name:t.name,value:n.replace(Tt,"\r\n")}}).get()}}),Q.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var Lt=0,Mt={},At={0:200,1223:204},Nt=Q.ajaxSettings.xhr();e.ActiveXObject&&Q(e).on("unload",function(){for(var e in Mt)Mt[e]()}),Y.cors=!!Nt&&"withCredentials"in Nt,Y.ajax=Nt=!!Nt,Q.ajaxTransport(function(e){var t;return Y.cors||Nt&&!e.crossDomain?{send:function(n,r){var i,o=e.xhr(),a=++Lt;if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(i in e.xhrFields)o[i]=e.xhrFields[i];for(i in e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest"),n)o.setRequestHeader(i,n[i]);t=function(e){return function(){t&&(delete Mt[a],t=o.onload=o.onerror=null,"abort"===e?o.abort():"error"===e?r(o.status,o.statusText):r(At[o.status]||o.status,o.statusText,"string"==typeof o.responseText?{text:o.responseText}:void 0,o.getAllResponseHeaders()))}},o.onload=t(),o.onerror=t("error"),t=Mt[a]=t("abort");try{o.send(e.hasContent&&e.data||null)}catch(G){if(t)throw G}},abort:function(){t&&t()}}:void 0}),Q.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return Q.globalEval(e),e}}}),Q.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),Q.ajaxTransport("script",function(e){var t,n;if(e.crossDomain)return{send:function(r,i){t=Q("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),J.head.appendChild(t[0])},abort:function(){n&&n()}}});var Pt=[],Ot=/(=)\?(?=&|$)|\?\?/;Q.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Pt.pop()||Q.expando+"_"+ut++;return this[e]=!0,e}}),Q.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,a,s=!1!==t.jsonp&&(Ot.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ot.test(t.data)&&"data");return s||"jsonp"===t.dataTypes[0]?(i=t.jsonpCallback=Q.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Ot,"$1"+i):!1!==t.jsonp&&(t.url+=(ct.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||Q.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){a=arguments},r.always(function(){e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,Pt.push(i)),a&&Q.isFunction(o)&&o(a[0]),a=o=void 0}),"script"):void 0}),Q.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||J;var r=ae.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=Q.buildFragment([e],t,i),i&&i.length&&Q(i).remove(),Q.merge([],r.childNodes))};var jt=Q.fn.load;Q.fn.load=function(e,t,n){if("string"!=typeof e&&jt)return jt.apply(this,arguments);var r,i,o,a=this,s=e.indexOf(" ");return s>=0&&(r=Q.trim(e.slice(s)),e=e.slice(0,s)),Q.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),a.length>0&&Q.ajax({url:e,type:i,dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?Q("<div>").append(Q.parseHTML(e)).find(r):e)}).complete(n&&function(e,t){a.each(n,o||[e.responseText,t,e])}),this},Q.expr.filters.animated=function(e){return Q.grep(Q.timers,function(t){return e===t.elem}).length};var Dt=e.document.documentElement;Q.offset={setOffset:function(e,t,n){var r,i,o,a,s,l,u,c=Q.css(e,"position"),f=Q(e),d={};"static"===c&&(e.style.position="relative"),s=f.offset(),o=Q.css(e,"top"),l=Q.css(e,"left"),(u=("absolute"===c||"fixed"===c)&&(o+l).indexOf("auto")>-1)?(a=(r=f.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(l)||0),Q.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(d.top=t.top-s.top+a),null!=t.left&&(d.left=t.left-s.left+i),"using"in t?t.using.call(e,d):f.css(d)}},Q.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){Q.offset.setOffset(this,e,t)});var t,n,r=this[0],i={top:0,left:0},o=r&&r.ownerDocument;return o?(t=o.documentElement,Q.contains(t,r)?(typeof r.getBoundingClientRect!==Te&&(i=r.getBoundingClientRect()),n=H(o),{top:i.top+n.pageYOffset-t.clientTop,left:i.left+n.pageXOffset-t.clientLeft}):i):void 0},position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===Q.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),Q.nodeName(e[0],"html")||(r=e.offset()),r.top+=Q.css(e[0],"borderTopWidth",!0),r.left+=Q.css(e[0],"borderLeftWidth",!0)),{top:t.top-r.top-Q.css(n,"marginTop",!0),left:t.left-r.left-Q.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Dt;e&&!Q.nodeName(e,"html")&&"static"===Q.css(e,"position");)e=e.offsetParent;return e||Dt})}}),Q.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,n){var r="pageYOffset"===n;Q.fn[t]=function(i){return ge(this,function(t,i,o){var a=H(t);return void 0===o?a?a[n]:t[i]:void(a?a.scrollTo(r?e.pageXOffset:o,r?o:e.pageYOffset):t[i]=o)},t,i,arguments.length,null)}}),Q.each(["top","left"],function(e,t){Q.cssHooks[t]=k(Y.pixelPosition,function(e,n){return n?(n=w(e,t),Be.test(n)?Q(e).position()[t]+"px":n):void 0})}),Q.each({Height:"height",Width:"width"},function(e,t){Q.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){Q.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),a=n||(!0===r||!0===i?"margin":"border");return ge(this,function(t,n,r){var i;return Q.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?Q.css(t,n,a):Q.style(t,n,r,a)},t,o?r:void 0,o,null)}})}),Q.fn.size=function(){return this.length},Q.fn.andSelf=Q.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return Q});var Ft=e.jQuery,zt=e.$;return Q.noConflict=function(t){return e.$===Q&&(e.$=zt),t&&e.jQuery===Q&&(e.jQuery=Ft),Q},typeof t===Te&&(e.jQuery=e.$=Q),Q}),function(){function e(e,t,n){for(var r=(n||0)-1,i=e?e.length:0;++r<i;)if(e[r]===t)return r;return-1}function t(t,n){var r=typeof n;if(t=t.cache,"boolean"==r||null==n)return t[n]?0:-1;"number"!=r&&"string"!=r&&(r="object");var i="number"==r?n:v+n;return t=(t=t[r])&&t[i],"object"==r?t&&e(t,n)>-1?0:-1:t?0:-1}function n(e){var t=this.cache,n=typeof e;if("boolean"==n||null==e)t[e]=!0;else{"number"!=n&&"string"!=n&&(n="object");var r="number"==n?e:v+e,i=t[n]||(t[n]={});"object"==n?(i[r]||(i[r]=[])).push(e):i[r]=!0}}function r(e){return e.charCodeAt(0)}function i(e,t){for(var n=e.criteria,r=t.criteria,i=-1,o=n.length;++i<o;){var a=n[i],s=r[i];if(a!==s){if(a>s||void 0===a)return 1;if(a<s||void 0===s)return-1}}return e.index-t.index}function o(e){var t=-1,r=e.length,i=e[0],o=e[r/2|0],a=e[r-1];if(i&&"object"==typeof i&&o&&"object"==typeof o&&a&&"object"==typeof a)return!1;var s=l();s["false"]=s["null"]=s["true"]=s[void 0]=!1;var u=l();for(u.array=e,u.cache=s,u.push=n;++t<r;)u.push(e[t]);return u}function a(e){return"\\"+G[e]}function s(){return h.pop()||[]}function l(){return m.pop()||{array:null,cache:null,criteria:null,"false":!1,index:0,"null":!1,number:null,object:null,push:null,string:null,"true":!1,undefined:!1,value:null}}function u(e){e.length=0,h.length<b&&h.push(e)}function c(e){var t=e.cache;t&&c(t),e.array=e.cache=e.criteria=e.object=e.number=e.string=e.value=null,m.length<b&&m.push(e)}function f(e,t,n){t||(t=0),void 0===n&&(n=e?e.length:0);for(var r=-1,i=n-t||0,o=Array(i<0?0:i);++r<i;)o[r]=e[t+r];return o}function d(n){function h(e){return e&&"object"==typeof e&&!Zn(e)&&jn.call(e,"__wrapped__")?e:new m(e)}function m(e,t){this.__chain__=!!t,this.__wrapped__=e}function b(e){function t(){if(r){var e=f(r);Dn.apply(e,arguments)}if(this instanceof t){var o=X(n.prototype),a=n.apply(o,e||arguments);return Ae(a)?a:o}return n.apply(i,e||arguments)}var n=e[0],r=e[2],i=e[4];return Jn(t,e),t}function G(e,t,n,r,i){if(n){var o=n(e);if(void 0!==o)return o}var a;if(!Ae(e))return e;var l=En.call(e);if(!W[l])return e;var c=Xn[l];switch(l){case F:case z:return new c(+e);case $:case B:return new c(e);case H:return(o=c(e.source,T.exec(e))).lastIndex=e.lastIndex,o}var d=Zn(e);if(t){var p=!r;r||(r=s()),i||(i=s());for(var h=r.length;h--;)if(r[h]==e)return i[h];o=d?c(e.length):{}}else o=d?f(e):or({},e);return d&&(jn.call(e,"index")&&(o.index=e.index),jn.call(e,"input")&&(o.input=e.input)),t?(r.push(e),i.push(o),(d?Ye:lr)(e,function(e,a){o[a]=G(e,t,n,r,i)}),p&&(u(r),u(i)),o):o}function X(e,t){return Ae(e)?Rn(e):{}}function Y(e,t,n){if("function"!=typeof e)return Jt;if(void 0===t||!("prototype"in e))return e;var r=e.__bindData__;if(void 0===r&&(Yn.funcNames&&(r=!e.name),!(r=r||!Yn.funcDecomp))){var i=Pn.call(e);Yn.funcNames||(r=!_.test(i)),r||(r=A.test(i),Jn(e,r))}if(!1===r||!0!==r&&1&r[1])return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)}}return jt(e,t)}function J(e){function t(){var e=l?a:this;if(i){var h=f(i);Dn.apply(h,arguments)}if((o||c)&&(h||(h=f(arguments)),o&&Dn.apply(h,o),c&&h.length<s))return r|=16,J([n,d?r:-4&r,h,null,a,s]);if(h||(h=arguments),u&&(n=e[p]),this instanceof t){e=X(n.prototype);var m=n.apply(e,h);return Ae(m)?m:e}return n.apply(e,h)}var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=1&r,u=2&r,c=4&r,d=8&r,p=n;return Jn(t,e),t}function Z(n,r){var i=-1,a=le(),s=n?n.length:0,l=s>=y&&a===e,u=[];if(l){var f=o(r);f?(a=t,r=f):l=!1}for(;++i<s;){var d=n[i];a(r,d)<0&&u.push(d)}return l&&c(r),u}function ee(e,t,n,r){for(var i=(r||0)-1,o=e?e.length:0,a=[];++i<o;){var s=e[i];if(s&&"object"==typeof s&&"number"==typeof s.length&&(Zn(s)||de(s))){t||(s=ee(s,t,n));var l=-1,u=s.length,c=a.length;for(a.length+=u;++l<u;)a[c++]=s[l]}else n||a.push(s)}return a}function te(e,t,n,r,i,o){if(n){var a=n(e,t);if(void 0!==a)return!!a}if(e===t)return 0!==e||1/e==1/t;var l,c=typeof t;if(!(e!=e||e&&V[typeof e]||t&&V[c]))return!1;if(null==e||null==t)return e===t;var f=En.call(e),d=En.call(t);if(f==j&&(f=R),d==j&&(d=R),f!=d)return!1;switch(f){case F:case z:return+e==+t;case $:return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case H:case B:return e==kn(t)}var p=f==D;if(!p){var h=jn.call(e,"__wrapped__"),m=jn.call(t,"__wrapped__");if(h||m)return te(h?e.__wrapped__:e,m?t.__wrapped__:t,n,r,i,o);if(f!=R)return!1;var g=e.constructor,v=t.constructor;if(g!=v&&!(Me(g)&&g instanceof g&&Me(v)&&v instanceof v)&&"constructor"in e&&"constructor"in t)return!1}var y=!i;i||(i=s()),o||(o=s());for(var b=i.length;b--;)if(i[b]==e)return o[b]==t;var x=0;if(a=!0,i.push(e),o.push(t),p){if(b=e.length,x=t.length,(a=x==b)||r)for(;x--;){var w=b,k=t[x];if(r)for(;w--&&!(a=te(e[w],k,n,r,i,o)););else if(!(a=te(e[x],k,n,r,i,o)))break}}else sr(t,function(t,s,l){if(jn.call(l,s))return x++,a=jn.call(e,s)&&te(e[s],t,n,r,i,o)}),a&&!r&&sr(e,function(e,t,n){if(jn.call(n,t))return a=--x>-1});return i.pop(),o.pop(),y&&(u(i),u(o)),a}function ne(e,t,n,r,i){(Zn(t)?Ye:lr)(t,function(t,o){var a,s,l=t,u=e[o];if(t&&((s=Zn(t))||ur(t))){for(var c=r.length,f;c--;)if(a=r[c]==t){u=i[c];break}if(!a)n&&(f=void 0!==(l=n(u,t)))&&(u=l),f||(u=s?Zn(u)?u:[]:ur(u)?u:{}),r.push(t),i.push(u),f||ne(u,t,n,r,i)}else n&&void 0===(l=n(u,t))&&(l=t),void 0!==l&&(u=l);e[o]=u})}function re(e,t){return e+Nn(Kn()*(t-e+1))}function ie(n,r,i){var a=-1,l=le(),f=n?n.length:0,d=[],p=!r&&f>=y&&l===e,h=i||p?s():d,m;p&&(l=t,h=o(h));for(;++a<f;){var g=n[a],v=i?i(g,a,n):g;(r?!a||h[h.length-1]!==v:l(h,v)<0)&&((i||p)&&h.push(v),d.push(g))}return p?(u(h.array),c(h)):i&&u(h),d}function oe(e){return function(t,n,r){var i={};n=h.createCallback(n,r,3);var o=-1,a=t?t.length:0;if("number"==typeof a)for(;++o<a;){var s=t[o];e(i,s,n(s,o,t),t)}else lr(t,function(t,r,o){e(i,t,n(t,r,o),o)});return i}}function ae(e,t,n,r,i,o){var a=1&t,s,l=4&t,u=8&t,c=16&t,d=32&t;if(!(2&t)&&!Me(e))throw new Cn;c&&!n.length&&(t&=-17,c=n=!1),d&&!r.length&&(t&=-33,d=r=!1);var p=e&&e.__bindData__,h;return p&&!0!==p?((p=f(p))[2]&&(p[2]=f(p[2])),p[3]&&(p[3]=f(p[3])),!a||1&p[1]||(p[4]=i),!a&&1&p[1]&&(t|=8),!l||4&p[1]||(p[5]=o),c&&Dn.apply(p[2]||(p[2]=[]),n),d&&In.apply(p[3]||(p[3]=[]),r),p[1]|=t,ae.apply(null,p)):(1==t||17===t?b:J)([e,t,n,r,i,o])}function se(e){return tr[e]}function le(){var t=(t=h.indexOf)===vt?e:t;return t}function ue(e){return"function"==typeof e&&Ln.test(e)}function ce(e){var t,n;return!(!e||En.call(e)!=R||Me(t=e.constructor)&&!(t instanceof t))&&(sr(e,function(e,t){n=t}),void 0===n||jn.call(e,n))}function fe(e){return nr[e]}function de(e){return e&&"object"==typeof e&&"number"==typeof e.length&&En.call(e)==j||!1}function pe(e,t,n,r){return"boolean"!=typeof t&&null!=t&&(r=n,n=t,t=!1),G(e,t,"function"==typeof n&&Y(n,r,1))}function he(e,t,n){return G(e,!0,"function"==typeof t&&Y(t,n,1))}function me(e,t){var n=X(e);return t?or(n,t):n}function ge(e,t,n){var r;return t=h.createCallback(t,n,3),lr(e,function(e,n,i){if(t(e,n,i))return r=n,!1}),r}function ve(e,t,n){var r;return t=h.createCallback(t,n,3),be(e,function(e,n,i){if(t(e,n,i))return r=n,!1}),r}function ye(e,t,n){var r=[];sr(e,function(e,t){r.push(t,e)});var i=r.length;for(t=Y(t,n,3);i--&&!1!==t(r[i--],r[i],e););return e}function be(e,t,n){var r=er(e),i=r.length;for(t=Y(t,n,3);i--;){var o=r[i];if(!1===t(e[o],o,e))break}return e}function xe(e){var t=[];return sr(e,function(e,n){Me(e)&&t.push(n)}),t.sort()}function we(e,t){return!!e&&jn.call(e,t)}function ke(e){for(var t=-1,n=er(e),r=n.length,i={};++t<r;){var o=n[t];i[e[o]]=o}return i}function Ce(e){return!0===e||!1===e||e&&"object"==typeof e&&En.call(e)==F||!1}function Se(e){return e&&"object"==typeof e&&En.call(e)==z||!1}function Te(e){return e&&1===e.nodeType||!1}function _e(e){var t=!0;if(!e)return t;var n=En.call(e),r=e.length;return n==D||n==B||n==j||n==R&&"number"==typeof r&&Me(e.splice)?!r:(lr(e,function(){return t=!1}),t)}function Ee(e,t,n,r){return te(e,t,"function"==typeof n&&Y(n,r,2))}function Le(e){return Bn(e)&&!Wn(parseFloat(e))}function Me(e){return"function"==typeof e}function Ae(e){return!(!e||!V[typeof e])}function Ne(e){return Oe(e)&&e!=+e}function Pe(e){return null===e}function Oe(e){return"number"==typeof e||e&&"object"==typeof e&&En.call(e)==$||!1}function je(e){return e&&"object"==typeof e&&En.call(e)==H||!1}function De(e){return"string"==typeof e||e&&"object"==typeof e&&En.call(e)==B||!1}function Fe(e){return void 0===e}function ze(e,t,n){var r={};return t=h.createCallback(t,n,3),lr(e,function(e,n,i){r[n]=t(e,n,i)}),r}function Ie(e){var t=arguments,n=2;if(!Ae(e))return e;if("number"!=typeof t[2]&&(n=t.length),n>3&&"function"==typeof t[n-2])var r=Y(t[--n-1],t[n--],2);else n>2&&"function"==typeof t[n-1]&&(r=t[--n]);for(var i=f(arguments,1,n),o=-1,a=s(),l=s();++o<n;)ne(e,i[o],r,a,l);return u(a),u(l),e}function $e(e,t,n){var r={};if("function"!=typeof t){var i=[];sr(e,function(e,t){i.push(t)});for(var o=-1,a=(i=Z(i,ee(arguments,!0,!1,1))).length;++o<a;){var s=i[o];r[s]=e[s]}}else t=h.createCallback(t,n,3),sr(e,function(e,n,i){t(e,n,i)||(r[n]=e)});return r}function Re(e){for(var t=-1,n=er(e),r=n.length,i=hn(r);++t<r;){var o=n[t];i[t]=[o,e[o]]}return i}function He(e,t,n){var r={};if("function"!=typeof t)for(var i=-1,o=ee(arguments,!0,!1,1),a=Ae(e)?o.length:0;++i<a;){var s=o[i];s in e&&(r[s]=e[s])}else t=h.createCallback(t,n,3),sr(e,function(e,n,i){t(e,n,i)&&(r[n]=e)});return r}function Be(e,t,n,r){var i=Zn(e);if(null==n)if(i)n=[];else{var o=e&&e.constructor,a=o&&o.prototype;n=X(a)}return t&&(t=h.createCallback(t,r,4),(i?Ye:lr)(e,function(e,r,i){return t(n,e,r,i)})),n}function We(e){for(var t=-1,n=er(e),r=n.length,i=hn(r);++t<r;)i[t]=e[n[t]];return i}function qe(e){for(var t=arguments,n=-1,r=ee(t,!0,!1,1),i=t[2]&&t[2][t[1]]===e?1:r.length,o=hn(i);++n<i;)o[n]=e[r[n]];return o}function Ue(e,t,n){var r=-1,i=le(),o=e?e.length:0,a=!1;return n=(n<0?Un(0,o+n):n)||0,Zn(e)?a=i(e,t,n)>-1:"number"==typeof o?a=(De(e)?e.indexOf(t,n):i(e,t,n))>-1:lr(e,function(e){if(++r>=n)return!(a=e===t)}),a}function Ve(e,t,n){var r=!0;t=h.createCallback(t,n,3);var i=-1,o=e?e.length:0;if("number"==typeof o)for(;++i<o&&(r=!!t(e[i],i,e)););else lr(e,function(e,n,i){return r=!!t(e,n,i)});return r}function Ge(e,t,n){var r=[];t=h.createCallback(t,n,3);var i=-1,o=e?e.length:0;if("number"==typeof o)for(;++i<o;){var a=e[i];t(a,i,e)&&r.push(a)}else lr(e,function(e,n,i){t(e,n,i)&&r.push(e)});return r}function Ke(e,t,n){t=h.createCallback(t,n,3);var r=-1,i=e?e.length:0,o;if("number"!=typeof i)return lr(e,function(e,n,r){if(t(e,n,r))return o=e,!1}),o;for(;++r<i;){var a=e[r];if(t(a,r,e))return a}}function Xe(e,t,n){var r;return t=h.createCallback(t,n,3),Je(e,function(e,n,i){if(t(e,n,i))return r=e,!1}),r}function Ye(e,t,n){var r=-1,i=e?e.length:0;if(t=t&&void 0===n?t:Y(t,n,3),"number"==typeof i)for(;++r<i&&!1!==t(e[r],r,e););else lr(e,t);return e}function Je(e,t,n){var r=e?e.length:0;if(t=t&&void 0===n?t:Y(t,n,3),"number"==typeof r)for(;r--&&!1!==t(e[r],r,e););else{var i=er(e);r=i.length,lr(e,function(e,n,o){return n=i?i[--r]:--r,t(o[n],n,o)})}return e}function Ze(e,t){var n=f(arguments,2),r=-1,i="function"==typeof t,o=e?e.length:0,a=hn("number"==typeof o?o:0);return Ye(e,function(e){a[++r]=(i?t:e[t]).apply(e,n)}),a}function Qe(e,t,n){var r=-1,i=e?e.length:0;if(t=h.createCallback(t,n,3),"number"==typeof i)for(var o=hn(i);++r<i;)o[r]=t(e[r],r,e);else o=[],lr(e,function(e,n,i){o[++r]=t(e,n,i)});return o}function et(e,t,n){var i=-Infinity,o=i;if("function"!=typeof t&&n&&n[t]===e&&(t=null),null==t&&Zn(e))for(var a=-1,s=e.length;++a<s;){var l=e[a];l>o&&(o=l)}else t=null==t&&De(e)?r:h.createCallback(t,n,3),Ye(e,function(e,n,r){var a=t(e,n,r);a>i&&(i=a,o=e)});return o}function tt(e,t,n){var i=Infinity,o=i;if("function"!=typeof t&&n&&n[t]===e&&(t=null),null==t&&Zn(e))for(var a=-1,s=e.length;++a<s;){var l=e[a];l<o&&(o=l)}else t=null==t&&De(e)?r:h.createCallback(t,n,3),Ye(e,function(e,n,r){var a=t(e,n,r);a<i&&(i=a,o=e)});return o}function nt(e,t,n,r){if(!e)return n;var i=arguments.length<3;t=h.createCallback(t,r,4);var o=-1,a=e.length;if("number"==typeof a)for(i&&(n=e[++o]);++o<a;)n=t(n,e[o],o,e);else lr(e,function(e,r,o){n=i?(i=!1,e):t(n,e,r,o)});return n}function rt(e,t,n,r){var i=arguments.length<3;return t=h.createCallback(t,r,4),Je(e,function(e,r,o){n=i?(i=!1,e):t(n,e,r,o)}),n}function it(e,t,n){return t=h.createCallback(t,n,3),Ge(e,function(e,n,r){return!t(e,n,r)})}function ot(e,t,n){if(e&&"number"!=typeof e.length&&(e=We(e)),null==t||n)return e?e[re(0,e.length-1)]:p;var r=at(e);return r.length=Vn(Un(0,t),r.length),r}function at(e){var t=-1,n=e?e.length:0,r=hn("number"==typeof n?n:0);return Ye(e,function(e){var n=re(0,++t);r[t]=r[n],r[n]=e}),r}function st(e){var t=e?e.length:0;return"number"==typeof t?t:er(e).length}function lt(e,t,n){var r;t=h.createCallback(t,n,3);var i=-1,o=e?e.length:0;if("number"==typeof o)for(;++i<o&&!(r=t(e[i],i,e)););else lr(e,function(e,n,i){return!(r=t(e,n,i))});return!!r}function ut(e,t,n){var r=-1,o=Zn(t),a=e?e.length:0,f=hn("number"==typeof a?a:0);for(o||(t=h.createCallback(t,n,3)),Ye(e,function(e,n,i){var a=f[++r]=l();o?a.criteria=Qe(t,function(t){return e[t]}):(a.criteria=s())[0]=t(e,n,i),a.index=r,a.value=e}),a=f.length,f.sort(i);a--;){var d=f[a];f[a]=d.value,o||u(d.criteria),c(d)}return f}function ct(e){return e&&"number"==typeof e.length?f(e):We(e)}function ft(e){for(var t=-1,n=e?e.length:0,r=[];++t<n;){var i=e[t];i&&r.push(i)}return r}function dt(e){return Z(e,ee(arguments,!0,!0,1))}function pt(e,t,n){var r=-1,i=e?e.length:0;for(t=h.createCallback(t,n,3);++r<i;)if(t(e[r],r,e))return r;return-1}function ht(e,t,n){var r=e?e.length:0;for(t=h.createCallback(t,n,3);r--;)if(t(e[r],r,e))return r;return-1}function mt(e,t,n){var r=0,i=e?e.length:0;if("number"!=typeof t&&null!=t){var o=-1;for(t=h.createCallback(t,n,3);++o<i&&t(e[o],o,e);)r++}else if(null==(r=t)||n)return e?e[0]:p;return f(e,0,Vn(Un(0,r),i))}function gt(e,t,n,r){return"boolean"!=typeof t&&null!=t&&(r=n,n="function"!=typeof t&&r&&r[t]===e?null:t,t=!1),null!=n&&(e=Qe(e,n,r)),ee(e,t)}function vt(t,n,r){if("number"==typeof r){var i=t?t.length:0;r=r<0?Un(0,i+r):r||0}else if(r){var o=_t(t,n);return t[o]===n?o:-1}return e(t,n,r)}function yt(e,t,n){var r=0,i=e?e.length:0;if("number"!=typeof t&&null!=t){var o=i;for(t=h.createCallback(t,n,3);o--&&t(e[o],o,e);)r++}else r=null==t||n?1:t||r;return f(e,0,Vn(Un(0,i-r),i))}function bt(){for(var n=[],r=-1,i=arguments.length,a=s(),l=le(),f=l===e,d=s();++r<i;){var p=arguments[r];(Zn(p)||de(p))&&(n.push(p),a.push(f&&p.length>=y&&o(r?n[r]:d)))}var h=n[0],m=-1,g=h?h.length:0,v=[];e:for(;++m<g;){var b=a[0];if(p=h[m],(b?t(b,p):l(d,p))<0){for(r=i,(b||d).push(p);--r;)if(((b=a[r])?t(b,p):l(n[r],p))<0)continue e;v.push(p)}}for(;i--;)(b=a[i])&&c(b);return u(a),u(d),v}function xt(e,t,n){var r=0,i=e?e.length:0;if("number"!=typeof t&&null!=t){var o=i;for(t=h.createCallback(t,n,3);o--&&t(e[o],o,e);)r++}else if(null==(r=t)||n)return e?e[i-1]:p;return f(e,Un(0,i-r))}function wt(e,t,n){var r=e?e.length:0;for("number"==typeof n&&(r=(n<0?Un(0,r+n):Vn(n,r-1))+1);r--;)if(e[r]===t)return r;return-1}function kt(e){for(var t=arguments,n=0,r=t.length,i=e?e.length:0;++n<r;)for(var o=-1,a=t[n];++o<i;)e[o]===a&&(zn.call(e,o--,1),i--);return e}function Ct(e,t,n){e=+e||0,null==t&&(t=e,e=0);for(var r=-1,i=Un(0,Mn((t-e)/((n="number"==typeof n?n:+n||1)||1))),o=hn(i);++r<i;)o[r]=e,e+=n;return o}function St(e,t,n){var r=-1,i=e?e.length:0,o=[];for(t=h.createCallback(t,n,3);++r<i;){var a=e[r];t(a,r,e)&&(o.push(a),zn.call(e,r--,1),i--)}return o}function Tt(e,t,n){if("number"!=typeof t&&null!=t){var r=0,i=-1,o=e?e.length:0;for(t=h.createCallback(t,n,3);++i<o&&t(e[i],i,e);)r++}else r=null==t||n?1:Un(0,t);return f(e,r)}function _t(e,t,n,r){var i=0,o=e?e.length:i;for(t=(n=n?h.createCallback(n,r,1):Jt)(t);i<o;){var a=i+o>>>1;n(e[a])<t?i=a+1:o=a}return i}function Et(){return ie(ee(arguments,!0,!0))}function Lt(e,t,n,r){return"boolean"!=typeof t&&null!=t&&(r=n,n="function"!=typeof t&&r&&r[t]===e?null:t,t=!1),null!=n&&(n=h.createCallback(n,r,3)),ie(e,t,n)}function Mt(e){return Z(e,f(arguments,1))}function At(){for(var e=-1,t=arguments.length;++e<t;){var n=arguments[e];if(Zn(n)||de(n))var r=r?ie(Z(r,n).concat(Z(n,r))):n}return r||[]}function Nt(){for(var e=arguments.length>1?arguments:arguments[0],t=-1,n=e?et(pr(e,"length")):0,r=hn(n<0?0:n);++t<n;)r[t]=pr(e,t);return r}function Pt(e,t){var n=-1,r=e?e.length:0,i={};for(t||!r||Zn(e[0])||(t=[]);++n<r;){var o=e[n];t?i[o]=t[n]:o&&(i[o[0]]=o[1])}return i}function Ot(e,t){if(!Me(t))throw new Cn;return function(){if(--e<1)return t.apply(this,arguments)}}function jt(e,t){return arguments.length>2?ae(e,17,f(arguments,2),null,t):ae(e,1,null,null,t)}function Dt(e){for(var t=arguments.length>1?ee(arguments,!0,!1,1):xe(e),n=-1,r=t.length;++n<r;){var i=t[n];e[i]=ae(e[i],1,null,null,e)}return e}function Ft(e,t){return arguments.length>2?ae(t,19,f(arguments,2),null,e):ae(t,3,null,null,e)}function zt(){for(var e=arguments,t=e.length;t--;)if(!Me(e[t]))throw new Cn;return function(){for(var t=arguments,n=e.length;n--;)t=[e[n].apply(this,t)];return t[0]}}function It(e,t){return ae(e,4,null,null,null,t="number"==typeof t?t:+t||e.length)}function $t(e,t,n){var r,i,o,a,s,l,u,c=0,f=!1,d=!0;if(!Me(e))throw new Cn;if(t=Un(0,t)||0,!0===n){var h=!0;d=!1}else Ae(n)&&(h=n.leading,f="maxWait"in n&&(Un(t,n.maxWait)||0),d="trailing"in n?n.trailing:d);var m=function(){var n=t-(mr()-a);if(n<=0){i&&An(i);var f=u;i=l=u=p,f&&(c=mr(),o=e.apply(s,r),l||i||(r=s=null))}else l=Fn(m,n)},g=function(){l&&An(l),i=l=u=p,(d||f!==t)&&(c=mr(),o=e.apply(s,r),l||i||(r=s=null))};return function(){if(r=arguments,a=mr(),s=this,u=d&&(l||!h),!1===f)var n=h&&!l;else{i||h||(c=a);var p=f-(a-c),v=p<=0;v?(i&&(i=An(i)),c=a,o=e.apply(s,r)):i||(i=Fn(g,p))}return v&&l?l=An(l):l||t===f||(l=Fn(m,t)),n&&(v=!0,o=e.apply(s,r)),!v||l||i||(r=s=null),o}}function Rt(e){if(!Me(e))throw new Cn;var t=f(arguments,1);return Fn(function(){e.apply(p,t)},1)}function Ht(e,t){if(!Me(e))throw new Cn;var n=f(arguments,2);return Fn(function(){e.apply(p,n)},t)}function Bt(e,t){if(!Me(e))throw new Cn;var n=function(){var r=n.cache,i=t?t.apply(this,arguments):v+arguments[0];return jn.call(r,i)?r[i]:r[i]=e.apply(this,arguments)};return n.cache={},n}function Wt(e){var t,n;if(!Me(e))throw new Cn;return function(){return t?n:(t=!0,n=e.apply(this,arguments),e=null,n)}}function qt(e){return ae(e,16,f(arguments,1))}function Ut(e){return ae(e,32,null,f(arguments,1))}function Vt(e,t,n){var r=!0,i=!0;if(!Me(e))throw new Cn;return!1===n?r=!1:Ae(n)&&(r="leading"in n?n.leading:r,i="trailing"in n?n.trailing:i),q.leading=r,q.maxWait=t,q.trailing=i,$t(e,t,q)}function Gt(e,t){return ae(t,16,[e])}function Kt(e){return function(){return e}}function Xt(e,t,n){var r=typeof e;if(null==e||"function"==r)return Y(e,t,n);if("object"!=r)return tn(e);var i=er(e),o=i[0],a=e[o];return 1!=i.length||a!=a||Ae(a)?function(t){for(var n=i.length,r=!1;n--&&(r=te(t[i[n]],e[i[n]],null,!0)););return r}:function(e){var t=e[o];return a===t&&(0!==a||1/a==1/t)}}function Yt(e){return null==e?"":kn(e).replace(ir,se)}function Jt(e){return e}function Zt(e,t,n){var r=!0,i=t&&xe(t);t&&(n||i.length)||(null==n&&(n=t),o=m,t=e,e=h,i=xe(t)),!1===n?r=!1:Ae(n)&&"chain"in n&&(r=n.chain);var o=e,a=Me(o);Ye(i,function(n){var i=e[n]=t[n];a&&(o.prototype[n]=function(){var t=this.__chain__,n=this.__wrapped__,a=[n];Dn.apply(a,arguments);var s=i.apply(e,a);if(r||t){if(n===s&&Ae(s))return this;(s=new o(s)).__chain__=t}return s})})}function Qt(){return n._=_n,this}function en(){}function tn(e){return function(t){return t[e]}}function nn(e,t,n){var r=null==e,i=null==t;if(null==n&&("boolean"==typeof e&&i?(n=e,e=1):i||"boolean"!=typeof t||(n=t,i=!0)),r&&i&&(t=1),e=+e||0,i?(t=e,e=0):t=+t||0,n||e%1||t%1){var o=Kn();return Vn(e+o*(t-e+parseFloat("1e-"+((o+"").length-1))),t)}return re(e,t)}function rn(e,t){if(e){var n=e[t];return Me(n)?e[t]():n}}function on(e,t,n){var r=h.templateSettings;e=kn(e||""),n=ar({},n,r);var i=ar({},n.imports,r.imports),o=er(i),s=We(i),l,u=0,c=n.interpolate||M,f="__p += '",d=wn((n.escape||M).source+"|"+c.source+"|"+(c===E?S:M).source+"|"+(n.evaluate||M).source+"|$","g");e.replace(d,function(t,n,r,i,o,s){return r||(r=i),f+=e.slice(u,s).replace(N,a),n&&(f+="' +\n__e("+n+") +\n'"),o&&(l=!0,f+="';\n"+o+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),u=s+t.length,t}),f+="';\n";var m=n.variable,g=m;g||(f="with ("+(m="obj")+") {\n"+f+"\n}\n"),f=(l?f.replace(w,""):f).replace(k,"$1").replace(C,"$1;"),f="function("+m+") {\n"+(g?"":m+" || ("+m+" = {});\n")+"var __t, __p = '', __e = _.escape"+(l?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var v="\n/*\n//# sourceURL="+(n.sourceURL||"/lodash/template/source["+O+++"]")+"\n*/";try{var y=vn(o,"return "+f+v).apply(p,s)}catch(b){throw b.source=f,b}return t?y(t):(y.source=f,y)}function an(e,t,n){e=(e=+e)>-1?e:0;var r=-1,i=hn(e);for(t=Y(t,n,1);++r<e;)i[r]=t(r);return i}function sn(e){return null==e?"":kn(e).replace(rr,fe)}function ln(e){var t=++g;return kn(null==e?"":e)+t}function un(e){return(e=new m(e)).__chain__=!0,e}function cn(e,t){return t(e),e}function fn(){return this.__chain__=!0,this}function dn(){return kn(this.__wrapped__)}function pn(){return this.__wrapped__}var hn=(n=n?Q.defaults(K.Object(),n,Q.pick(K,P)):K).Array,mn=n.Boolean,gn=n.Date,vn=n.Function,yn=n.Math,bn=n.Number,xn=n.Object,wn=n.RegExp,kn=n.String,Cn=n.TypeError,Sn=[],Tn=xn.prototype,_n=n._,En=Tn.toString,Ln=wn("^"+kn(En).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),Mn=yn.ceil,An=n.clearTimeout,Nn=yn.floor,Pn=vn.prototype.toString,On=ue(On=xn.getPrototypeOf)&&On,jn=Tn.hasOwnProperty,Dn=Sn.push,Fn=n.setTimeout,zn=Sn.splice,In=Sn.unshift,$n=function(){try{var e={},t=ue(t=xn.defineProperty)&&t,n=t(e,e,e)&&t}catch(r){}return n}(),Rn=ue(Rn=xn.create)&&Rn,Hn=ue(Hn=hn.isArray)&&Hn,Bn=n.isFinite,Wn=n.isNaN,qn=ue(qn=xn.keys)&&qn,Un=yn.max,Vn=yn.min,Gn=n.parseInt,Kn=yn.random,Xn={};Xn[D]=hn,Xn[F]=mn,Xn[z]=gn,Xn[I]=vn,Xn[R]=xn,Xn[$]=bn,Xn[H]=wn,Xn[B]=kn,m.prototype=h.prototype;var Yn=h.support={};Yn.funcDecomp=!ue(n.WinRTError)&&A.test(d),Yn.funcNames="string"==typeof vn.name,h.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:E,variable:"",imports:{_:h}},Rn||(X=function(){function e(){}return function(t){if(Ae(t)){e.prototype=t;var r=new e;e.prototype=null}return r||n.Object()}}());var Jn=$n?function(e,t){U.value=t,$n(e,"__bindData__",U)}:en,Zn=Hn||function(e){return e&&"object"==typeof e&&"number"==typeof e.length&&En.call(e)==D||!1},Qn,er=qn?function(e){return Ae(e)?qn(e):[]}:function(e){var t,n=e,r=[];if(!n)return r;if(!V[typeof e])return r;for(t in n)jn.call(n,t)&&r.push(t);return r},tr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},nr=ke(tr),rr=wn("("+er(nr).join("|")+")","g"),ir=wn("["+er(tr).join("")+"]","g"),or=function(e,t,n){var r,i=e,o=i;if(!i)return o;var a=arguments,s=0,l="number"==typeof n?2:a.length;if(l>3&&"function"==typeof a[l-2])var u=Y(a[--l-1],a[l--],2);else l>2&&"function"==typeof a[l-1]&&(u=a[--l]);for(;++s<l;)if((i=a[s])&&V[typeof i])for(var c=-1,f=V[typeof i]&&er(i),d=f?f.length:0;++c<d;)o[r=f[c]]=u?u(o[r],i[r]):i[r];return o},ar=function(e,t,n){var r,i=e,o=i;if(!i)return o;for(var a=arguments,s=0,l="number"==typeof n?2:a.length;++s<l;)if((i=a[s])&&V[typeof i])for(var u=-1,c=V[typeof i]&&er(i),f=c?c.length:0;++u<f;)"undefined"==typeof o[r=c[u]]&&(o[r]=i[r]);return o},sr=function(e,t,n){var r,i=e,o=i;if(!i)return o;if(!V[typeof i])return o;for(r in t=t&&void 0===n?t:Y(t,n,3),i)if(!1===t(i[r],r,e))return o;return o},lr=function(e,t,n){var r,i=e,o=i;if(!i)return o;if(!V[typeof i])return o;t=t&&void 0===n?t:Y(t,n,3);for(var a=-1,s=V[typeof i]&&er(i),l=s?s.length:0;++a<l;)if(!1===t(i[r=s[a]],r,e))return o;return o},ur=On?function(e){if(!e||En.call(e)!=R)return!1;var t=e.valueOf,n=ue(t)&&(n=On(t))&&On(n);return n?e==n||On(e)==n:ce(e)}:ce,cr=oe(function(e,t,n){jn.call(e,n)?e[n]++:e[n]=1}),fr=oe(function(e,t,n){(jn.call(e,n)?e[n]:e[n]=[]).push(t)}),dr=oe(function(e,t,n){e[n]=t}),pr=Qe,hr=Ge,mr=ue(mr=gn.now)&&mr||function(){return(new gn).getTime()},gr=8==Gn(x+"08")?Gn:function(e,t){return Gn(De(e)?e.replace(L,""):e,t||0)},vr;return h.after=Ot,h.assign=or,h.at=qe,h.bind=jt,h.bindAll=Dt,h.bindKey=Ft,h.chain=un,h.compact=ft,h.compose=zt,h.constant=Kt,h.countBy=cr,h.create=me,h.createCallback=Xt,h.curry=It,h.debounce=$t,h.defaults=ar,h.defer=Rt,h.delay=Ht,h.difference=dt,h.filter=Ge,h.flatten=gt,h.forEach=Ye,h.forEachRight=Je,h.forIn=sr,h.forInRight=ye,h.forOwn=lr,h.forOwnRight=be,h.functions=xe,h.groupBy=fr,h.indexBy=dr,h.initial=yt,h.intersection=bt,h.invert=ke,h.invoke=Ze,h.keys=er,h.map=Qe,h.mapValues=ze,h.max=et,h.memoize=Bt,h.merge=Ie,h.min=tt,h.omit=$e,h.once=Wt,h.pairs=Re,h.partial=qt,h.partialRight=Ut,h.pick=He,h.pluck=pr,h.property=tn,h.pull=kt,h.range=Ct,h.reject=it,h.remove=St,h.rest=Tt,h.shuffle=at,h.sortBy=ut,h.tap=cn,h.throttle=Vt,h.times=an,h.toArray=ct,h.transform=Be,h.union=Et,h.uniq=Lt,h.values=We,h.where=hr,h.without=Mt,h.wrap=Gt,h.xor=At,h.zip=Nt,h.zipObject=Pt,h.collect=Qe,h.drop=Tt,h.each=Ye,h.eachRight=Je,h.extend=or,h.methods=xe,h.object=Pt,h.select=Ge,h.tail=Tt,h.unique=Lt,h.unzip=Nt,Zt(h),h.clone=pe,h.cloneDeep=he,h.contains=Ue,h.escape=Yt,h.every=Ve,h.find=Ke,h.findIndex=pt,h.findKey=ge,h.findLast=Xe,h.findLastIndex=ht,h.findLastKey=ve,h.has=we,h.identity=Jt,h.indexOf=vt,h.isArguments=de,h.isArray=Zn,h.isBoolean=Ce,h.isDate=Se,h.isElement=Te,h.isEmpty=_e,h.isEqual=Ee,h.isFinite=Le,h.isFunction=Me,h.isNaN=Ne,h.isNull=Pe,h.isNumber=Oe,h.isObject=Ae,h.isPlainObject=ur,h.isRegExp=je,h.isString=De,h.isUndefined=Fe,h.lastIndexOf=wt,h.mixin=Zt,h.noConflict=Qt,h.noop=en,h.now=mr,h.parseInt=gr,h.random=nn,h.reduce=nt,h.reduceRight=rt,h.result=rn,h.runInContext=d,h.size=st,h.some=lt,h.sortedIndex=_t,h.template=on,h.unescape=sn,h.uniqueId=ln,h.all=Ve,h.any=lt,h.detect=Ke,h.findWhere=Ke,h.foldl=nt,h.foldr=rt,h.include=Ue,h.inject=nt,Zt((vr={},lr(h,function(e,t){h.prototype[t]||(vr[t]=e)}),vr),!1),h.first=mt,h.last=xt,h.sample=ot,h.take=mt,h.head=mt,lr(h,function(e,t){var n="sample"!==t;h.prototype[t]||(h.prototype[t]=function(t,r){var i=this.__chain__,o=e(this.__wrapped__,t,r);return i||null!=t&&(!r||n&&"function"==typeof t)?new m(o,i):o})}),h.VERSION="2.4.1",h.prototype.chain=fn,h.prototype.toString=dn,h.prototype.value=pn,h.prototype.valueOf=pn,Ye(["join","pop","shift"],function(e){var t=Sn[e];h.prototype[e]=function(){var e=this.__chain__,n=t.apply(this.__wrapped__,arguments);return e?new m(n,e):n}}),Ye(["push","reverse","sort","unshift"],function(e){var t=Sn[e];h.prototype[e]=function(){return t.apply(this.__wrapped__,arguments),this}}),Ye(["concat","slice","splice"],function(e){var t=Sn[e];h.prototype[e]=function(){return new m(t.apply(this.__wrapped__,arguments),this.__chain__)}}),h}var p,h=[],m=[],g=0,v=+new Date+"",y=75,b=40,x=" \t\x0B\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000",w=/\b__p \+= '';/g,k=/\b(__p \+=) '' \+/g,C=/(__e\(.*?\)|\b__t\)) \+\n'';/g,S=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,T=/\w*$/,_=/^\s*function[ \n\r\t]+\w/,E=/<%=([\s\S]+?)%>/g,L=RegExp("^["+x+"]*0+(?=.$)"),M=/($^)/,A=/\bthis\b/,N=/['\n\r\t\u2028\u2029\\]/g,P=["Array","Boolean","Date","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setTimeout"],O=0,j="[object Arguments]",D="[object Array]",F="[object Boolean]",z="[object Date]",I="[object Function]",$="[object Number]",R="[object Object]",H="[object RegExp]",B="[object String]",W={};W[I]=!1,W[j]=W[D]=W[F]=W[z]=W[$]=W[R]=W[H]=W[B]=!0;var q={leading:!1,maxWait:0,trailing:!1},U={configurable:!1,enumerable:!1,value:null,writable:!1},V={boolean:!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},G={"\\":"\\","'":"'","\n":"n","\r":"r","\t":"t","\u2028":"u2028","\u2029":"u2029"},K=V[typeof window]&&window||this,X=V[typeof exports]&&exports&&!exports.nodeType&&exports,Y=V[typeof module]&&module&&!module.nodeType&&module,J=Y&&Y.exports===X&&X,Z=V[typeof global]&&global;!Z||Z.global!==Z&&Z.window!==Z||(K=Z);var Q=d();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(K._=Q,define(function(){return Q})):X&&Y?J?(Y.exports=Q)._=Q:X._=Q:K._=Q}.call(this),window.CPLocalStorage={clear:function(){this._exec(function(){localStorage.clear()})},setItem:function(e,t){this._exec(function(){localStorage.setItem(e,t)})},getItem:function(e){return this._exec(function(){return localStorage.getItem(e)})},removeItem:function(e){var t=this.getItem(e);return this._exec(function(){localStorage.removeItem(e)}),t},_exec:function(e){try{return e()}catch(t){}}},"object"!=typeof window.CP&&(window.CP={}),document.documentElement.className+=" js",function(){var e=!1,t=/xyz/.test(function(){"xyz"})?/\b_super\b/:/.*/;this.Class=function(){},Class.extend=function(n){function r(){!e&&this.init&&this.init.apply(this,arguments)}var i=this.prototype;e=!0;var o=new this;for(var a in e=!1,n)o[a]="function"==typeof n[a]&&"function"==typeof i[a]&&t.test(n[a])?function(e,t){return function(){var n=this._super;this._super=i[e];var r=t.apply(this,arguments);return this._super=n,r}}(a,n[a]):n[a];return r.prototype=o,r.prototype.constructor=r,r.extend=arguments.callee,r}}(),window.Hub=window.Hub||{sub:function(e,t){if("function"!=typeof t)throw"fn MUST be a function";const n=e=>t(e,e.detail.data);return window.addEventListener(e,n),function(){window.removeEventListener(e,n)}},pub:function(e,t){var n,r=new CustomEvent(e,{detail:{data:t}});window.dispatchEvent(r)},unsub:function(e,t){window.removeEventListener(e,t)}},function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.fe={})}(this,function(e){"use strict";var t=function p(){return function(e,t){return e===t||e!=e&&t!=t}},n=function h(e){return!(!e.$$typeof||!e._store)},r=function m(e){var t={keys:new Array(e.size),values:new Array(e.size)},n=0;return e.forEach(function(e,r){t.keys[n]=r,t.values[n++]=e}),t},i=function g(e,t,n,i){if(e.size!==t.size)return!1;var o=r(e),a=r(t);return i?n(o.keys,a.keys)&&n(o.values,a.values):n(o.values,a.values)},o="function"==typeof Map,a="function"==typeof Set,s=t(),l=function v(e){function t(e,l){if(s(e,l))return!0;var u=typeof e;if(u!==typeof l)return!1;if("object"===u&&e&&l){var c=Array.isArray(e),f=Array.isArray(l),d=void 0;if(c||f){if(c!==f||e.length!==l.length)return!1;for(d=0;d<e.length;d++)if(!r(e[d],l[d]))return!1;return!0}var p=e instanceof Date,h=l instanceof Date;if(p||h)return p===h&&s(e.getTime(),l.getTime());var m=e instanceof RegExp,g=l instanceof RegExp;if(m||g)return m===g&&e.source===l.source&&e.global===l.global&&e.ignoreCase===l.ignoreCase&&e.multiline===l.multiline;if(o){var v=e instanceof Map,y=l instanceof Map;if(v||y)return v===y&&i(e,l,t,!0)}if(a){var b=e instanceof Set,x=l instanceof Set;if(b||x)return b===x&&i(e,l,t,!1)}var w=Object.keys(e);if(w.length!==Object.keys(l).length)return!1;var k=void 0;for(d=0;d<w.length;d++){if(k=w[d],!Object.prototype.hasOwnProperty.call(l,k))return!1;if(("_owner"!==k||!n(e)||!n(l))&&!r(e[k],l[k]))return!1}return!0}return!1}var r="function"==typeof e?e(t):t;return t},u=l(),c=t(),f=l(t),d={createCustom:l,deep:u,sameValueZero:c,shallow:f};e.createCustomEqual=l,e.deepEqual=u,e.sameValueZeroEqual=c,e.shallowEqual=f,e["default"]=d,Object.defineProperty(e,"__esModule",{value:!0})}),window._isOnLocalhost=function(){return["127.0.0.1","localhost","codepen.dev","cdpn.dev"].includes(document.location.host)},window._splitOnNewLine=(e=>"string"!=typeof e?[e]:e.split(/\r\n?|\n/)),window._inIframe=function(){try{return window.self!==window.top}catch(e){return!0}},window._fullURL=function(e){return`https://${document.location.host}${e}`},window._getUnixTimestamp=function(){return Math.floor(Date.now()/1e3)},window._htmlEntities=function(e){return"string"!=typeof e?e:e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},window._stripHTMLTags=function(e){var t=e.replace(/<\/?[^>]+(>|$)/g,""),n=$("<div>"+t+"</div>"),r=n.text();return n.remove(),r},window._deepEqual=function(e,t){return window.fe.deepEqual(e,t)},window._diffObjects=function(e,t){var n={};for(var r in e)r in t&&!window._deepEqual(e[r],t[r])&&(n[r]={old:e[r],current:t[r]});return n},window._cloneDeep=function(e){return JSON.parse(JSON.stringify(e||{}))},window._makeSafe=function(e,t){return _isValidType(e,t)?e:t},function(){function e(e){try{return"string"==typeof e?$.parseJSON(e):e}catch(t){}return e}function t(e){$.showModal(e.errors.url_to_modal,"modal-error")}function n(e){return 413===e.status}function r(e){return 502===e.status||503===e.status}function i(e){return e.errors&&e.errors.new_csrf_token}function o(e,t,n){return"function"==typeof e?$.proxy(e,t):$.proxy(n,t)}function a(e){if("string"==typeof e)return e;if(e._isJSON)return JSON.stringify(e.json);if(!0===e._doNOTChange)return e;var t="";for(var n in e)""!==t&&(t+="&"),t+=n+"="+encodeURIComponent(e[n]);return t}let s=3e4;window.AJAXUtil={postAsync:function(e,t){return new Promise(n=>{AJAXUtil.post(e,t,n)})},post:function(e,t,n,r,i){return this._send("POST",e,t,n,r,i)},get:function(e,t,n,r,i){return this._send("GET",e,t,n,r,i)},put:function(e,t,n,r,i){return this._send("PUT",e,t,n,r,i)},updateDefaultTimeout:function(e){s=e},del:function(e,t,n,r,i){return this._send("DELETE",e,t,n,r,i)},_send:function(l,u,c,f,d,p){var h=this;f=o(f,this,$.noop),d=o(d,this,function(e,t){window._isOnLocalhost()&&(console.error(`Request failed: ${t}`),console.error({url:t,params:c,rslt:e})),h.showStandardErrorMessage(e,t)}),p=o(p,this,$.noop);var m={url:u,type:l,timeout:s,data:a(c),headers:{"X-CSRF-Token":$('meta[name="csrf-token"]').attr("content")},error:function(t){r(t)?p(t,u):n(t)?h.showStandardErrorMessage(t,u):d(e(t.responseText),u)},success:function(n){(n=e(n)).success?f(n):i(n)?h._handleExpiredCSRFTokenError(n,l,u,c,f,d,p):n.errors&&n.errors.show_modal?t(n):d(n)}};return c._isJSON&&(m.contentType="application/json;charset=UTF-8"),$.ajax(m)},_handleExpiredCSRFTokenError:function(e,t,n,r,i,o,a){$('meta[name="csrf-token"]').attr("content",e.errors.new_csrf_token),this._send(t,n,r,i,o,a,!1)},showStandardErrorMessage:function(e,t){var n="",r=e.errors?e.errors:e.error;for(var i in r)if($.isArray(r[i]))for(var o=0;o<r[i].length;o++)n+=r[i][o]+"<br />";else"message"===i&&(n+=r[i]+"<br />");var a="Application Error.";switch(e.status){case 502:case 503:a="Unable to make network request.";break;case 413:a="Request Too Large.";break;case 429:a="Request Limit Reached."}if(!n)switch(e.status){case 502:case 503:n="A network request has failed to reach our servers. Please try again in a few minutes or email support at <a href='mailto:support@codepen.io'>support@codepen.io</a> and we'll help.";break;case 413:n="This Pen is larger than the 1 megabyte limit. Try removing data from this Pen and trying again.";break;case 429:n="It looks like you're hitting a request limit we have in place to protect us against a current DDoS attack. This should not have happened, please contact us at <a href='mailto:support@codepen.io'>support@codepen.io</a> so we can fix this for you.";break;default:n="Something has gone wrong. Please contact us at <a href='mailto:support@codepen.io'>support@codepen.io</a> so we can help."}var s="";s="<h1>"+a+"</h1>",s+='<p class="error-details">CODE: '+e.status+"</p>",t&&(s+='<p class="error-details">PATH: '+t+"</p>"),s+="<p>"+n+"</p>",s+='<p class="modal-buttons"><br class="mobile-break"><a href="#0" class="button button-medium hide-message">Close</a></p>',$.showModal(s,"modal-warning")}}}(),$.fn._on=function(e,t,n,r){n=n||!1,r=r||!1,this.on(e,$.proxy(function(e){r||e.preventDefault();var i=e.target?$(e.target):[];if(n&&(t=$.proxy(t,n)),t(e,i),!r)return!1},n))},window.ObjectUtil={hasNestedValue:function(e,t){if(!t)return!1;for(var n=t.split("."),r=0;r<n.length;r++){var i=n[r];if(!e||!e.hasOwnProperty(i))return!1;e=e[i]}return!0}},window.IDGenerator={length:8,generate:function(){for(var e=(+new Date).toString().split("").reverse(),t="",n=0;n<this.length;++n){var r;t+=e[this._getRandomInt(0,e.length-1)]}return t},_getRandomInt:function(e,t){return Math.floor(Math.random()*(t-e+1))+e}},window.CacheGet={_inMemoryStore:{},find:function(e){this._validateOpts(e);var t=this._find(e);t?e.onSuccess(t):this._fetchAndCache(e)},_find:function(e){return this._inMemoryStore[e.key]},_validateOpts:function(e){if(!e.key)throw"Invalid key";if(!e.url)throw"Invalid URL";if(!e.onSuccess)throw"Invalid callback"},_fetchAndCache:function(e){var t=this;$.ajax({dataType:e.dataType||"text",url:e.url,success:function(n){var r=n;"function"==typeof e.createCacheableResult&&(r=e.createCacheableResult(n)),t._inMemoryStore[e.key]=r,e.onSuccess(r)}})}},function(){function e(e){return"string"==typeof e&&/^(\[|\{)/.test(e)}const t=document.getElementById("init-data");if(t)try{const r=t.value;if(e(r)){const t=JSON.parse(r);Object.keys(t).forEach(n=>{window[n]=e(t[n])?JSON.parse(t[n]):t[n]})}}catch(n){console.error(`Error parsing 'init-data': ${n.message}`)}}(),function(){const e=30,t=["css_pre_processor","css_prefix","css_starter","description","head","html_classes","html_pre_processor","js_pre_processor","js_library","resources","title"],n={DEPENDENCIES:"DEPENDENCIES",IMPORTS:"IMPORTS"},r=["css_pre_processor","css_prefix","css_starter","css","description","editor_settings","head","html_classes","html_pre_processor","html","id","js_pre_processor","js_library","js","newTags","parent","private","resources","slug_hash_private","slug_hash","tags","team_id","template","title","user_id"],i=["css_pre_processor","css_prefix","css_starter","css","head","html_classes","html_pre_processor","html","js_pre_processor","js_library","js","resources"],o=["html","css","js"],a="INLINE_PEN_STYLESHEET_ID",s=50;window.PEN_CONSTANTS={CANONICAL_IMPORTS:n,COLLAB_SYNC_ATTRIBUTES:t,DATA_ATTRIBUTES:r,INLINE_PEN_STYLESHEET_ID:a,MAX_DEPENDENCIES:e,MAX_PACKAGE_VERSIONS:s,PREVIEW_ATTRIBUTES:i,TYPES:o}}(),window.PenResourcesData={MIN_RESOURCES:2,setResource:function(e,t){this._setResourceURL(_.find(this.resources,{view_id:e}),t),this._postResourceChange()},updateResourcesOrder:function(e,t){this._updateResourcesOrder(e,t),this._postResourceChange()},addEmptyResource:function(e){this._addNewResource(e,""),this._postResourceChange()},quickAddResource:function(e,t){this._quickAddResource(e,t),this._postResourceChange(!0)},deleteResource:function(e){this._deleteResource(e),this._postResourceChange()},getResourcesByType:function(e){return _.select(this.resources,{resource_type:e})},setPenResources:function(e){this.resources=e.pen.resources,this._postResourceChange()},_ensureResourcesValid:function(){this._ensureMinNumberOfResourcesForEachType(),this._storeResourcesByOrder(),this._ensureResourcesHaveViewIDs(),this._ensureResourcesHaveActions()},_ensureMinNumberOfResourcesForEachType:function(){this._ensureMinNumberOfResourcesForType("css"),this._ensureMinNumberOfResourcesForType("js")},_ensureMinNumberOfResourcesForType:function(e){for(var t=this.MIN_RESOURCES-this.getResourcesByType(e).length,n=0;n<t;n++)this.resources.push({resource_type:e,order:this.getNextMaxOrder(e),url:""})},_ensureResourcesHaveViewIDs:function(){_.forEach(this.resources,function(e){_.isUndefined(e.view_id)&&(e.view_id=IDGenerator.generate())})},_ensureResourcesHaveActions:function(){_.forEach(this.resources,function(e){_.isUndefined(e.action)&&(e.action="include_"+e.resource_type+"_url")})},_postResourceChange:function(e){this._updateLastUpdated(),this._ensureResourcesValid(),this._publishResourcePenChange(e)},_quickAddResource:function(e,t){var n=_.find(this.getResourcesByType(e),{url:""});n?this._setResourceURL(n,t):this._addNewResource(e,t)},_setResourceURL:function(e,t){e.url=t.replace(/\s+/,"")},_updateResourcesOrder:function(e,t){for(var n=0,r=this.resources.length;n<r;n++)this.resources[n].resource_type===e&&(this.resources[n].order=t[this.resources[n].view_id]);this._storeResourcesByOrder()},_storeResourcesByOrder:function(){this.resources=_.sortBy(this.resources,"order")},_addNewResource:function(e,t){this.resources.push({resource_type:e,order:this.getNextMaxOrder(e),url:t||"",view_id:IDGenerator.generate(),action:"include_"+e+"_url"})},getNextMaxOrder:function(e){for(var t=0,n=0;n<this.resources.length;n++){var r=this.resources[n];e===r.resource_type&&t<=r.order&&(t=r.order+1)}return t},_deleteResource:function(e){var t=_.findIndex(this.resources,{view_id:e});this.resources.splice(t,1)},_publishResourcePenChange:function(e){Hub.pub(HUB_EVENTS.PEN_CHANGE,{origin:"client",rebind:e,pen:{resources:_cloneDeep(this.resources)}})}};const MAX_PEN_SIZE=1e6;window.Pen=Class.extend({id:"",css_pre_processor:"none",css_prefix:"neither",css_starter:"neither",css:"",description:"",editor_settings:{},head:"",html_classes:"",html_pre_processor:"none",html:"",js_pre_processor:"none",js_library:null,js:"",newTags:[],parent:0,"private":!1,resources:[],slug_hash:"",tags:[],template:!1,title:"",canonicalImports:PEN_CONSTANTS.CANONICAL_IMPORTS.IMPORTS,autosavingNow:!1,errorCode:"",last_updated:"",lastSavedPen:{},lintErrors:[],MAX_SAVE_ATTEMPTS:4,SAVE_ATTEMPT_TIMEOUT:1e4,saveAttempts:0,updated_at:"",init:function(){_.extend(this,AJAXUtil),_.extend(this,PenResourcesData),this._initializePenData()},_initializePenData:function(){Object.assign(this,this._makePenSafe(__item)),this._ensureResourcesValid(),this._makePenSafe(this),this.lastSavedPen=this.getSaveableCopyOfPen()},_makePenSafe:function(e){const{enums:t,types:n}=CP.editorConfig.getPenAttributeDefaults();return Object.keys(n).forEach(t=>{const r=n[t];e[t]=_makeSafe(e[t],r)}),Object.keys(t).forEach(n=>{const{defaultValue:r,values:i}=t[n];i.includes(e[n])||(e[n]=r)}),e},setItemValue:function(e){const t=_cloneDeep(e);for(var n in t.item&&(t.pen=t.item),t.pen)"js"===n&&(this.canonicalImports=PEN_CONSTANTS.CANONICAL_IMPORTS.IMPORTS),this._setValue(n,t.pen[n]);this.hasPenChanged()&&Hub.pub(HUB_EVENTS.PEN_CHANGE,_cloneDeep(t))},_setValue:function(e,t){if("object"!=typeof t||Array.isArray(t))this[e]="tags"===e||"newTags"===e?this._validTags(t):t;else for(var n in t)this[e][n]=t[n];this._updateLastUpdated()},setLintErrors:function(e){this.lintErrors=Array.isArray(e)?e:[]},_updateLastUpdated:function(){this.last_updated=(new Date).getTime()},getLastUpdatedAt:function(){return this.last_updated||new Date(this.updated_at).getTime()},getActiveSlugHash:function(){const e=this["private"]?this.slug_hash_private:this.slug_hash;return _makeSafe(e,"")},getTags:function(){return this.tags.concat(this.newTags)},_validTags:function(e){const t=e.map(e=>_stripHTMLTags(e.toLowerCase().replace(/[^\w-]+/g,"").trim())).map(e=>e.length>1?e:null).reduce((e,t)=>(e[t]=t,e),{});return Object.values(t)},save:function(){CP.user.anon?window.CP.loginHandler.showAnonymousUserSignupModal():this._canSave()?this._shouldForkPen()?this._forkPen():this._savePenToDB():Hub.pub(HUB_EVENTS.PEN_ERRORS,this.errorCode)},forkPenInCurrentState:function(){CP.user.anon?window.CP.loginHandler.showAnonymousUserSignupModal():this._canSave()?this._forkPen(!0):Hub.pub(HUB_EVENTS.PEN_ERRORS,this.errorCode)},_shouldForkPen:function(){return this._isPenOwnedByAnotherUser()},saveAsPrivate:function(){this._canSave()?(this["private"]=!0,this._savePenToDB()):Hub.pub(HUB_EVENTS.PEN_ERRORS,this.errorCode)},_canSave:function(){if(!CP.user.isUserLoggedIn()&&this._isProfessorOrCollabSession())return this.errorCode="anon-cannot-save-during-rt-session",!1;const e=JSON.stringify(this.getSaveableCopyOfPen()).length;return!(e>MAX_PEN_SIZE)||(this.errorCode="pen-too-large",!1)},_isProfessorOrCollabSession:function(){return"professor"===window.__pageType||"collab"===window.__pageType},_forkPen:function(e){if(e||this._shouldSavePenToDB()){const e=this.getCopyOfSaveablePen();e.fork=!0,this.post("/pen/save",{pen:JSON.stringify(e)},this.doneSave,this.failedSave,this.erroredSave)}else this.sendPseudoSavedSignal()},_savePenToDB:async function(){await this._formatPriorToSave(),this._shouldSavePenToDB()?this.post("/pen/save",{pen:this._getSaveablePen()},this.doneSave,this.failedSave,this.erroredSave):this.sendPseudoSavedSignal()},_formatPriorToSave:async function(){if(!this.editor_settings.format_on_save||"collab"===window.__pageType||this.autosavingNow)return;const e=Object.keys(CP.editors).map(e=>CP.formatter.formatType(CP.editors[e].type));await Promise.all(e)},_getSaveablePen:function(){return JSON.stringify(this.getCopyOfSaveablePen())},getPenCopy:function(){return _cloneDeep(this)},getProcessablePenCopy:function(){const e=this.getPenCopy(),t={canonicalImports:this.canonicalImports};return PEN_CONSTANTS.DATA_ATTRIBUTES.reduce((t,n)=>(t[n]=e[n],t),t)},getCopyOfSaveablePen:function(){return this._updateSaveableTagsPriorToSave(),this.getSaveableCopyOfPen()},_shouldSavePenToDB:function(){return this.hasPenChanged()||this._isBlankNewPen()||this._isPenOwnedByAnotherUser()},_isBlankNewPen:function(){return""===this.slug_hash},_updateSaveableTagsPriorToSave:function(){this.tags=this.getTags(),this.newTags=[]},sendPseudoSavedSignal:function(){Hub.pub(HUB_EVENTS.PEN_SAVED,{})},doneSave:function(e){const t=this._shouldRedirect(this.lastSavedPen,e);this.saveAttempts=0,this.lastSavedPen=this.getSaveableCopyOfPen(),t?window.location=this._getRedirectUrl(e):this._publishPenSaved(e)},_publishPenSaved:function(e){const t=this._diffPen(this,this.lastSavedPen),{last_saved_time_ago:n}=e;Hub.pub(HUB_EVENTS.PEN_SAVED,{pen:t,last_saved_time_ago:n})},_shouldRedirect:function(e,t){return!this._isProfessorOrCollabSession()&&e.id!==t.id},_getRedirectUrl:function(e){const t=new URLSearchParams(document.location.search);t["delete"]("template"),t["delete"]("appcues");let n=t.toString();return n&&(n=`?${n}`),`${e.redirect_url}${n}`},_penForked:function(e,t){if(!e.id)return!1;if(e.id!==t.id)return!0;let n=!1;return["user_id","team_id"].forEach(r=>{e[r]!==t[r]&&(n=!0)}),n},failedSave:function(e){this.showStandardErrorMessage(e)},erroredSave:function(e,t){if(this.saveAttempts<this.MAX_SAVE_ATTEMPTS){var n=_.template(Copy.errors["unable-to-save-try-again"],{time:TimeUtil.countToString(this.saveAttempts+1)});$.showMessage(n,"super-slow","error"),this.saveAttempts+=1,setTimeout($.proxy(this._savePenToDB,this),this.SAVE_ATTEMPT_TIMEOUT)}else this.saveAttempts=0,this.showStandardErrorMessage(e,t)},processingDisabled:function(){return this.lintErrors.length>0},isUserPenOwner:function(){return""===this.slug_hash||("team"===CP.profiled.type?CP.profiled.hashid===CP.user.current_team_hashid:CP.profiled.id===CP.user.id)},_isPenOwnedByAnotherUser:function(){return!this.isUserPenOwner()},hasPenChanged:function(){const e=Object.keys(this._diffPen(this,this.lastSavedPen));if(e.includes("editor_settings")&&1===e.length){const e=Object.keys(this._diffPen(this.editor_settings,this.lastSavedPen.editor_settings));if(e.includes("snippets")&&1===e.length)return!1}return e.length>0},hasPenContentChanged:function(){var e=this._diffPen(this,this.lastSavedPen);return delete e.editor_settings,Object.keys(e).length>0},_diffPen:function(e,t){return _diffObjects(t,e)},getSaveableCopyOfPen:function(){return _cloneDeep(PEN_CONSTANTS.DATA_ATTRIBUTES.reduce((e,t)=>(e[t]=this[t],e),{}))}}),function(){function e(e,i,o){return{css:o.css.textOutput,head:i.head,html_classes:i.html_classes,html:o.html.textOutput,js:o.js.textOutput,scripts:n(e,i),scriptsForHead:t(i),styles:r(e,i)}}function t(e){const t=[{resource_type:"js",order:0,url:__path_to_iframe_console_runner},{resource_type:"js",order:1,url:__path_to_iframe_refresh_css},{resource_type:"js",order:2,url:__path_to_iframe_runtime_errors}];return"prefixfree"===e.css_prefix&&t.push({resource_type:"js",order:t.length,url:__pen_prefix_free_url}),t}function n(e,t){const n=i("js",t.resources,e.js);return n.unshift({resource_type:"js",order:0,url:__path_to_stop_execution_on_timeout}),n}function r(e,t){const n=i("css",t.resources,e.css);return"normalize"===t.css_starter?n.push({action:"include_css_url",order:n.length,resource_type:"css",url:__pen_normalize_css_url}):"reset"===t.css_starter&&n.push({action:"include_css_url",order:n.length,resource_type:"css",url:__pen_reset_css_url}),n}function i(e,t,n){const r=a(e,t,n),i=s(e,n),l=r.concat(i);return l.sort(o),l}function o(e,t){return e.order-t.order}function a(e,t,n){return t.filter(t=>t.resource_type===e&&!n[t.url]&&t.url).map(e=>({order:e.order,type:e.resource_type,url:e.url}))}function s(e,t){return Object.values(t).filter(e=>!e.par).map(t=>({order:t.order,type:e,url:t.source.body}))}window.CP.buildClassicDisplayPen=e}(),window.BunkerBox={makeHeadSafe:function(e,t){return e=e||"","public"===(t=this._getSafeSandboxType(t))&&(e=e.replace(/<script.+/gim,"")),e=this.makeHTMLSafe(e,t)},makeHTMLSafe:function(e,t){return e=e||"",t=this._getSafeSandboxType(t),e=(e=(e=(e=e.replace(/(<.*?\s)(autofocus=("|')autofocus("|')|autofocus)/g,"$1")).replace(/iframe.+src=.+(&#)/gim,"")).replace(/autoPlay=true/gim,"autoPlay=false")).replace(/http-equiv="refresh"/gim,""),e=this.makeJSSafe(e,t)},makeJSSafe:function(e,t){return e=e||"",t=this._getSafeSandboxType(t),e=(e=e.replace(/location\.replace\s*\(\s*\)/gim,"location.removedByCodePen()")).replace(/location\.reload\s*\(\s*\)/gim,"location.removedByCodePen()"),"public"===t&&(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace("beforeunloadreplacedbycodepen")).replace(/debugger(\s+)?;/gim,"")).replace(/console\.(\S+)\(([\s\S]*?)\);/gim,"")).replace(/(alert|confirm|prompt)\(([\s\S]*?)\);/gim,"")).replace(/geolocation/gim,"")).replace(/audiocontext/gim,"")).replace(/getusermedia/gim,"")).replace(/initMouseEvent/gim,"")).replace(/download/gim,"")).replace(/\.click\(/gim,"")).replace(/YT.Player/gim,"YT.CodePenRemovedPlayer")),this._isSandboxSupported()||(e=(e=(e=(e=(e=e.replace(/window(\s+)?\[(\s+)?("|")l/gim,"")).replace(/self(\s+)?\[(\s+)?("|")loc/gim,"")).replace(/\.submit\(\)/gim,"")).replace(/fromCharCode/gim,"")).replace(/\blocation(\s+)?=/gim,"")),e},_getSafeSandboxType:function(e){return void 0===e?"public":"public"===e?"public":"personal"},_sandboxSupported:null,_isSandboxSupported:function(){return null===this._sandboxSupported&&(this._sandboxSupported=this._determineIfSandboxIsSupported()),this._sandboxSupported},_determineIfSandboxIsSupported:function(){try{return"sandbox"in document.createElement("iframe")}catch(e){return!1}}},function(){function e(e){const n=generateGuid(),r=o(e,n),i=t(e,r,n);return{html:i,js:r}}function t(e,t,r){const o=a(t.content)?' type="module"':"",u=`<script ${o} src="${t.url}" crossorigin></script>`,c="index.html",f=`${c}-${r}`,d=n(c,f),p=`\n<!DOCTYPE html>\n<html lang='en' class='${e.html_classes}'>\n\n<head>\n\n  <meta charset='UTF-8'>\n  <title>CodePen Demo</title>\n\n  <meta name="robots" content="noindex">\n\n  <link rel="shortcut icon" type="image/x-icon" href="${__favicon_shortcut_icon}">\n  <link rel="mask-icon" href="${__favicon_mask_icon}" color="#111">\n  <link rel="canonical" href="${document.location.href}">\n\n  ${e.head}\n  ${i(e.styles)}\n\n  <style class="${l}">\n    ${e.css}\n  </style>\n\n  ${s(e.scriptsForHead)}\n</head>\n\n<body>\n  ${BunkerBox.makeHTMLSafe(e.html,"personal")}\n  ${s(e.scripts)}\n  ${u}\n</body>\n\n</html>\n`.trim();return{content:p,key:f,url:d}}function n(e,t){const n=r(t),i=document.location.hash;return`${u.serve_url}/${e}${n}${i}`}function r(e){return/\?/.test(document.location.search)?`${document.location.search}&key=${e}`:`?key=${e}`}function i(e){return e.reduce((e,t)=>(t.url?e+=`\n<link rel="stylesheet" href="${t.url}">`:t.content&&(e+=`\n<style>\n${t.content}\n</style>`),e),"")}function o(e,t){const n="pen.js",r=`${n}-${t}`,i=BunkerBox.makeJSSafe(e.js,"personal"),o=`${u.serve_url}/${n}?key=${r}`;return{content:i,key:r,url:o}}function a(e){return(-1!==e.indexOf("import")||-1!==e.indexOf("export"))&&(c.test(e)||f.test(e))}function s(e){return e.reduce((e,t)=>(t.url?e+=`\n<script src="${t.url}"></script>`:t.content&&(e+=`\n<script>${t.content}</script>`),e),"")}const{INLINE_PEN_STYLESHEET_ID:l}=PEN_CONSTANTS,u=window.__boomboom,c=/(?:import(?:\(\s*|\s+)|\sfrom\s*)["'`][^"'`\n]+["'`]/m,f=/export\s+({|\*|let|const|default|function|class)/;window.CP.buildIFrameURL=n,window.CP.buildClassicPenHTML=e}(),function(){function e(e,n,r){return{css:"",head:"",html_classes:"",html:"",js:t(r),scripts:[],scriptsForHead:[],styles:[]}}function t(e){const{metadata:t,textOutput:a}=e.js;return`\n${n()}\n${r()}\n${i(t.modulesBaseUrl)}\n${a}\n${o()}\n    `.trim()}function n(){return`\nvar testKey = '${a}';\n\nfunction dartPrint(message) {\n  if (message.startsWith(testKey)) {\n    var resultMsg = JSON.parse(message.substring(testKey.length));\n    resultMsg.sender = 'frame';\n    resultMsg.type = 'testResult';\n    parent.postMessage(resultMsg, '*');\n  } else {\n    parent.postMessage(\n      {'sender': 'frame', 'type': 'stdout', 'message': message.toString()}, '*');\n  }\n}\n// Unload previous version.\nrequire.undef('dartpad_main');\n    `.trim()}function r(){return"\nvar _thrownDartMainRunner = false;\n\nwindow.onerror = function(message, url, lineNumber, colno, error) {\n  if (!_thrownDartMainRunner) {\n    var errorMessage = '';\n    if (error != null) {\n      errorMessage = 'Error: ' + error;\n    }\n    parent.postMessage(\n      {'sender': 'frame', 'type': 'stderr', 'message': message + errorMessage}, '*');\n  }\n  _thrownDartMainRunner = false;\n};\n    ".trim()}function i(e){return`\nrequire.config({\n  "baseUrl": "${e}",\n  "waitSeconds": 60\n});\n    `.trim()}function o(){return"\nrequire(['dart_sdk'],\n  function(sdk) {\n    'use strict';\n    sdk.developer._extensions.clear();\n    sdk.dart.hotRestart();\n});\n\nrequire([\"dartpad_main\", \"dart_sdk\"], function(dartpad_main, dart_sdk) {\n  // SDK initialization.\n  dart_sdk.dart.setStartAsyncSynchronously(true);\n  dart_sdk._isolate_helper.startRootIsolate(() => {}, []);\n\n  // Loads the 'dartpad_main' module and runs its bootstrapped main method.\n  //\n  // DDK provides the user's code in a RequireJS module, which exports an\n  // object that looks something like this:\n  //\n  // {\n  //       [random_tokens]__bootstrap: bootstrap,\n  //       [random_tokens]__main: main\n  // }\n  //\n  // The first of those properties holds the compiled code for the bootstrap\n  // Dart file, which the server uses to wrap the user's code and wait on a\n  // call to dart:ui's 'webOnlyInitializePlatform' before executing any of it.\n  //\n  // The loop below iterates over the properties of the exported object,\n  // looking for one that ends in \"__bootstrap\". Once found, it executes the\n  // bootstrapped main method, which calls the user's main method, which\n  // (presumably) calls runApp and starts Flutter's rendering.\n\n  for (var prop in dartpad_main) {\n    if (prop.endsWith(\"bootstrap\")) {\n      dartpad_main[prop].main();\n    }\n  }});\n    "}window.CP.buildFlutterDisplayPen=e;const a="__TESTRESULT__ "}(),function(){function e(e,n,r){const i=CP.buildClassicDisplayPen(e,n,r);return Object.assign(i,{html:"",css:"",js:r.js.textOutput,js_library:n.js_library,scriptsForHead:t(i.scriptsForHead,n)})}function t(e=[],t){let n="https://unpkg.com/vue@2/dist/vue.js";return"3"===t.js_library&&(n="https://unpkg.com/vue@3/dist/vue.runtime.global.js"),e.push({resource_type:"js",order:9999,url:n}),e}window.CP.buildVueDisplayPen=e}(),function(){function e(e,t,n){return"flutter"===CP.editorConfig.id?CP.buildFlutterDisplayPen(e,t,n):"vue"===CP.editorConfig.id?CP.buildVueDisplayPen(e,t,n):CP.buildClassicDisplayPen(e,t,n)}window.CP.buildDisplayPen=e}(),function(){function e(e){const n=generateGuid(),r="index.html",i=`${r}-${n}`;return{html:{content:t(e),key:i,url:window.CP.buildIFrameURL(r,i)}}}function t(e){return`\n<!DOCTYPE html>\n<html lang='en' class='${e.html_classes}'>\n\n<head>\n\n  <meta charset="utf-8">\n  <title>Flutter Demo</title>\n\n  <meta name="robots" content="noindex">\n\n  <link rel="shortcut icon" type="image/x-icon" href="${__favicon_shortcut_icon}">\n  <link rel="mask-icon" href="${__favicon_mask_icon}" color="#111">\n  <link rel="canonical" href="${document.location.href}">\n\n  <style>\n    body {\n      margin: 0;\n    }\n  </style>\n\n  <script>\n    replaceJavaScript = function(value) {\n      // Remove the old node.\n      var oldNode = document.getElementById("compiledJsScript");\n      if (oldNode && oldNode.parentNode) {\n        oldNode.parentNode.removeChild(oldNode);\n      }\n\n      // Create a new node.\n      var scriptNode = document.createElement("script");\n      scriptNode.setAttribute("id", "compiledJsScript");\n      scriptNode.text = value;\n      document.head.appendChild(scriptNode);\n    };\n\n    messageHandler = function(e) {\n      var obj = e.data;\n      var command = obj.command;\n      var body = document.body;\n\n      if (command === "setCss") {\n        document.getElementById("styleId").innerHTML = obj.css;\n      } else if (command === "setHtml") {\n        body.innerHTML = obj.html;\n      } else if (command === "execute") {\n        // Replace all three.\n        body.innerHTML = obj.html;\n        document.getElementById("styleId").innerHTML = obj.css;\n        replaceJavaScript(obj.js);\n      }\n    };\n\n    window.addEventListener("load", function() {\n      window.addEventListener("message", messageHandler, false);\n      parent.postMessage({ sender: "frame", type: "ready" }, "*");\n    });\n  </script>\n\n  <style id="styleId"></style>\n\n  <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js"></script>\n\n  <script id="compiledJsScript">\n    ${e.js}\n  </script>\n\n</head>\n\n<body></body>\n\n</html>`.trim()}window.CP.buildFlutterPenHTML=e}(),function(){function e(e){const r=generateGuid(),i=n(e,r),o=t(e,i,r);return{html:o,js:i}}function t(e,t,n){const a="index.html",u=`${a}-${n}`,c=window.CP.buildIFrameURL(a,u),f=`<!DOCTYPE html>\n<html lang='en' class='${e.html_classes}'>\n\n<head>\n\n  <meta charset="utf-8">\n  <title>${e.title}</title>\n\n  <meta name="robots" content="noindex">\n\n  <link rel="shortcut icon" type="image/x-icon" href="${__favicon_shortcut_icon}">\n  <link rel="mask-icon" href="${__favicon_mask_icon}" color="#111">\n  <link rel="canonical" href="${document.location.href}">\n\n  ${e.head}\n  ${i(e.styles)}\n\n  ${o(e.scriptsForHead)}\n\n  </head>\n\n  <body>\n\n  <div id="${l}"></div>\n\n  ${o(e.scripts)}\n\n  <script type="module">\n    import ${s} from "${t.url}";\n\n    if ( !${s} ) {\n      throw new Error('Error compiling Vue component.');\n    }\n\n    ${r(e)}\n  </script>\n\n</body>\n</html>\n`.trim();return{content:f,key:u,url:c}}function n(e,t){const n="pen.js",r=`${n}-${t}`,i=BunkerBox.makeJSSafe(e.js,"personal"),o=`${a.serve_url}/${n}?key=${r}`;return{content:i,key:r,url:o}}function r(e){return"3"===e.js_library?`var app = Vue.createApp(${s}).mount('#${l}');`:`var app = new Vue(${s}).$mount('#${l}');\n  Vue.config.devtools = true; /* Ensuring Dev Tools is enabled. */`}function i(e){return e.reduce((e,t)=>(t.url?e+=`\n<link rel="stylesheet" href="${t.url}">`:t.content&&(e+=`\n<style>\n${t.content}\n</style>`),e),"")}function o(e){return e.reduce((e,t)=>(t.url?e+=`\n<script src="${t.url}"></script>`:t.content&&(e+=`\n<script>${t.content}</script>`),e),"")}const a=window.__boomboom,s="CodePenVueComponent",l="app";window.CP.buildVuePenHTML=e}(),function(){function e(e){return"flutter"===CP.editorConfig.id?CP.buildFlutterPenHTML(e):"vue"===CP.editorConfig.id?CP.buildVuePenHTML(e):CP.buildClassicPenHTML(e)}window.CP.buildPenHTML=e}(),function(){function e(e){const t=(e||"").match(/(\[\[\[\S+\..{2,10}\/\S+\/pen\/(\S{5,})\]\]\])/gm);return t||[]}function t(e,t){return t.reduce((t,i)=>(i.par&&"html"===i.source.type&&(t=t.replace(n(i),r(e,i))),t),e)}function n(e){const t=e.id.replace(/\//g,"\\/").replace(/\[/g,"\\[").replace(/\]/g,"\\]");return new RegExp(t,"g")}function r(e,t){const n=i(e,t.id);return n?(t.source.body||"").split(/\r|\n/).join(n):t.source.body}function i(e,t){const n="(\\s+)?"+t.replace(/\[/g,"\\[").replace(/\//g,"\\/").replace(/\]/g,"\\]"),r=new RegExp(n,"mg"),i=r.exec(e);return i?i[1]:""}window.PARTemplates={findTemplates:e,renderTemplates:t}}(),function(){async function e(e){const r=await n(e),i=a(e);return t(r,i)}function t(e,t){const n={html:{},css:{},js:{}};return e.forEach(e=>{n[e.source.type][e.id]=e}),t.forEach(e=>{n[e.source.type][e.id]||(n[e.source.type][e.id]=e)}),n}async function n(e){const t=r(e);if(t.pen.pars.length>0){const e=await AJAXUtil.postAsync("/pens_as_resources",{data:JSON.stringify(t)});return e.pars}return[]}function r(e){const t=i(e),n=o(e),r=t.concat(n);return{pen:{html_pre_processor:e.html_pre_processor,css_pre_processor:e.css_pre_processor,js_pre_processor:e.js_pre_processor,pars:r}}}function i(e){const t=PARTemplates.findTemplates(e.html);return t.map(e=>({id:e,order:0,input:{body:e,type:"html"}}))}function o(e){return e.resources.filter(t=>!l(e,t)&&(u(t.url)||c(t.url))).map(e=>({id:e.url,order:e.order,input:{body:e.url,type:e.resource_type}}))}function a(e){return e.resources.filter(e=>u(e.url)).map(e=>({id:e.url,order:e.order,par:!1,source:{body:s(e.url,e.resource_type),syntax:e.resource_type,type:e.resource_type}}))}function s(e,t){const n=(e||"").split("?").shift().replace(/\/$/,""),r=n.replace(/\..{2,10}$/,"");return`${r}.${t}`}function l(e,t){const{resource_type:n}=t,r=e[`${n}_pre_processor`];return"none"===r}function u(e){return/\S+\..{2,10}\/\S+\/pen\/(\w{5,})/i.test(e)}function c(e){if(!e||!CP.editorConfig.isValidEditorType("css"))return!1;const t=CP.editorConfig.getConfigByType("css");if(!t.parSuffixes)return!1;const n=e.split(".").pop();return t.parSuffixes.includes(n)}window.CP.processPARs=e}(),function(){async function e(e){const n=await CP.processPARs(e),i=a(e,n),s=t(i),l=await CP.processPenRequest(i,s);return{errors:r(l,e),logs:o(l),parsHash:n,processedPen:l}}function t(e){const t={};return h.forEach(r=>{const i=e[r];n(i)&&(t[r]=i)}),t}function n(e){return"babel"===e.syntax||!!e.textInput&&("none"!==e.syntax||Object.keys(e.options).length>0)}function r(e,t){return Object.values(e).reduce((e,n)=>{const r=n.id,i=_makeSafe(n.errors,[]);return i.forEach(n=>{const i=n.info||{};e.push({code:n.code||ERRORS.ERROR,level:i.level||LEVELS.ERROR,line:n.line||i.line||1,message:n.message,syntax:t[`${r}_pre_processor`],type:r,info:i})}),e},[]).concat(i(t))}function i(e){return[].concat(...m.map(t=>t(e)).filter(e=>e))}function o(e){return Object.values(e).reduce((e,t)=>{const n=t.id,r=_makeSafe(t.logs,[]),i=r.map(e=>Object.assign({},e,{type:n}));return e.concat(i)},[])}function a(e,t){return{html:s(e,t),css:l(e,t),js:c(e,t)}}function s(e,t){const n=PARTemplates.renderTemplates(e.html,Object.values(t.html));return Object.assign({},p(e,"html"),{textInput:n})}function l(e,t){const n=p(e,"css"),r=f("css",t.css);return n.textInput=`${r}${e.css}`,"scss"!==n.syntax&&"sass"!==n.syntax||(n.version=u(n.textInput)),"autoprefixer"===e.css_prefix&&(n.options[e.css_prefix]=!0),n}function u(e){var t="string"==typeof e?e:"";return/@import\s+('|")?compass('|")?/i.test(t)?g:"default"}function c(e,t){const n=p(e,"js"),r=f("js",t.js);return n.textInput=`${r}${e.js}`,n.options={detectInfiniteLoops:!0},"vue"===n.syntax&&e.js_library&&(n.version=e.js_library),n}function f(e,t){const n=Object.values(t).filter(t=>t.par&&t.source.type===e);return n.sort(d),n.map(e=>e.source.body).join("\n")}function d(e,t){return e.order-t.order}function p(e,t){return{contentType:t,id:t,options:{},syntax:e[`${t}_pre_processor`],version:"default"}}const{TYPES:h}=PEN_CONSTANTS;CP.processPen=e,Hub.sub(HUB_EVENTS.PEN_EDITOR_LOADED,function(){if(CP.user.ownsItem(CP.pen)){const e=CP.pen.getProcessablePenCopy(),t=_makeSafe(i(e),[]);if(t.length>0)return Hub.pub(HUB_EVENTS.PEN_EDITOR_ERRORS,{errors:t}),{errors:t,logs:[]}}});const m=[function(e){const t=_makeSafe(e.html,"");if(/^<!doctype/i.test(t))return{code:"",info:"",level:LEVELS.WARNING,line:0,message:"Just HTML that goes in the <body> goes here.",link:{target:"https://blog.codepen.io/documentation/features/preview-template/",value:"Learn more"},syntax:e.html_pre_processor,type:"html"}}],g="3.4.22"}(),function(){async function e(e,n){s(n);const r=await t(n),i=a(e,r);return l(n,i),i}async function t(e){const t=n(e),{cached:a,uncached:s}=r(t,e),l=await i(s);return o(t,l),Object.assign({},a,l)}function n(e){return Object.values(e).reduce((e,t)=>(e[t.id]=ProcessorRouter.hashObject(t),e),{})}function r(e,t){const n={},r={};return Object.keys(e).forEach(i=>{const o=e[i].key;c[o]?n[i]=JSON.parse(c[o]):r[i]=t[i]}),{cached:n,uncached:r}}async function i(e){if(0===Object.keys(e).length)return e;const{payload:t}=await ProcessorRouter.process(e);return t}function o(e,t){Object.values(t).forEach(t=>{const n=t.id,r=e[n].key;c[r]=JSON.stringify(t),f.unshift(r)}),f.length<d||(f=f.slice(0,d/2),c=f.reduce((e,t)=>(e[t]=c[t],e),{}))}function a(e,t){const n={};return u.forEach(r=>{t[r]?n[r]=t[r]:n[r]={contentType:r,errors:[],id:r,logs:[],metadata:{},syntax:e[r].syntax,textOutput:e[r].textInput}}),n}function s(e){Object.keys(e).forEach(e=>{Hub.pub(HUB_EVENTS.PROCESSING_START,{type:e})})}function l(e,t){Object.keys(e).forEach(e=>{const n=t[e];Hub.pub(HUB_EVENTS.PROCESSING_FINISH,{body:n.textOutput,type:e})})}const{TYPES:u}=PEN_CONSTANTS;let c={},f=[];const d=50;CP.processPenRequest=e}(),function(){function e(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}window.generateGuid=e}(),function(){function e(){$("#loading-text").remove()}function t(e,t){for(var n=e.children("iframe"),r=0,i=n.length;r<i;r++)n[r].id!==t&&$(n[r]).remove();$("#"+t).removeClass("iframe-visual-update")}function n(n,r){t(n,r),e()}function r(e,t){e.prepend(o(t)),i(e,t)}function i(e,t){let r=!1;const{key:i}=t.html;let o=setTimeout(function(){r||(n(e,i),r=!0)},l);$("#"+i).load(function(){clearTimeout(o),r||(n(e,i),r=!0)})}function o(e){const{key:t,url:n}=e.html;return`<iframe id="${t}" src="${n}" ${f}></iframe>`}async function a(e){const t={data:{files:Object.values(e)}};return postWithJWTAuth(u.store_url,t)}async function s(e,t){return await a(t),r(e,t),t.html.url}const l=300,u=window.__boomboom,c={allow:window.__CPDATA.iframe_allow,allowfullscreen:"true",allowpaymentrequest:"true",allowTransparency:"true","class":"result-iframe iframe-visual-update",name:"CodePen",sandbox:window.__CPDATA.iframe_sandbox,loading:"lazy"},f=Object.keys(c).map(e=>`${e}="${c[e]}"`).join(" ");window.IFrameRender={updateIFramePreview:s}}(),function(){function e(e,r){if(null===m)return m=_cloneDeep(e,!0),void s(e);if(n(e,r))try{a(e)}catch(i){s(e)}else s(e);t()}function t(){d=(new Date).getTime()}function n(e,t){if(t)return!1;if(r(e))return!1;if(e.fullRefresh)return!1;var n=o(e,m);return m=_cloneDeep(e,!0),n}function r(e){return!!i(e)||(e.css||"").match(/(keyframes|:target|animation|CP_DoFullRefresh)/gi)}function i(e){var t=e.html||"",n=e.css||"";return t.match(/svg/i)&&n.match(/background/)}function o(e,t){if(null===t)return!1;var n=_diffObjects(e,t);return delete n.css,delete n.fullRefresh,0===Object.keys(n).length}function a(e){for(var t=document.getElementsByClassName("result-iframe"),n=0;n<t.length;n++){const r={action:HUB_EVENTS.IFRAME_PREVIEW_RELOAD_CSS,css:e.css,head:e.head};Hub.pub(HUB_EVENTS.IFRAME_PREVIEW_RELOAD_CSS,r),t[n].contentWindow.postMessage(r,"*")}}function s(e){clearTimeout(h),h=setTimeout(function(){l(e)},p)}async function l(e){const n=CP.buildPenHTML(e);window.CP.getIFrameHTML=(()=>n.html.content),f=await IFrameRender.updateIFramePreview(u,n);const r={action:HUB_EVENTS.IFRAME_PREVIEW_URL_CHANGE,data:{url:f,head:e.head}};Hub.pub(HUB_EVENTS.IFRAME_PREVIEW_URL_CHANGE,r),t()}let u=$("#result_div, #result-box"),c="",f="",d=0;const p=700;let h=0,m=null;window.CP.getIFrameHTML=(()=>c),window.CP.getPenPreviewInfo=(()=>{let e=f;return e||(e=document.getElementsByTagName("iframe")[0].src),{html:c,updatedAt:d,url:e}}),window.CP.updatePenEditorIFrame=e}(),function(){async function e(e){if(CP.pen.processingDisabled())return;const r=CP.pen.getProcessablePenCopy(),i=await CP.processPen(r),{errors:o,logs:a,parsHash:s,processedPen:l}=i;n(o)||(t(s,r,l,e),u=l),Hub.pub(HUB_EVENTS.PEN_EDITOR_ERRORS,{errors:o}),Hub.pub(HUB_EVENTS.PEN_LOGS,{logs:a})}function t(e,t,n,r){Hub.pub(HUB_EVENTS.PEN_PREVIEW_START);const i=CP.buildDisplayPen(e,t,n);Hub.pub(HUB_EVENTS.PEN_LIVE_CHANGE,i),CP.updatePenEditorIFrame(i,r),setTimeout(()=>{Hub.pub(HUB_EVENTS.PEN_PREVIEW_FINISH)},f)}function n(e){return Object.values(e).find(e=>e.level===LEVELS.ERROR)}function r(e,t){CP.pen.editor_settings.auto_run&&i(t.pen)&&c()}function i(e){const t=Object.keys(e),n=t.filter(e=>PEN_CONSTANTS.PREVIEW_ATTRIBUTES.indexOf(e));return n.length>0}function o(){return!window.__item.hashid&&(CP.pen.html||CP.pen.css||CP.pen.js)}async function a(t){if("none"===CP.pen[`${t}_pre_processor`])return CP.pen[t];null===u&&await e();const n=(u[t]||{}).textOutput;return n||""}function s(){null===u&&e()}function l(){o()&&e()}let u=null,c;const f=1200;window.CP.renderPen=c=_.debounce(e,CP.editorConfig.preview.intervalMS,{leading:!1,maxWait:CP.editorConfig.preview.intervalMaxWaitMS}),window.CP.ensureProcessingRunOnce=s,window.CP.getProcessedBodyByType=a,Hub.sub(HUB_EVENTS.PEN_CHANGE,r),Hub.sub(HUB_EVENTS.CONSOLE_OPENED,c),Hub.sub(HUB_EVENTS.PEN_EDITOR_LOADED,l)}(),window.CodeEditorsUtil={getEditorByType:function(e){return"html"===e?CP.editors.html:"css"===e?CP.editors.css:CP.editors.js},getQueryString:function(e){var t=window.location.search;if(t)for(var n,r=t.substring(1).split("&"),i=0,o=r.length;i<o;i++){var a,s=r[i].split("=");if(s[0]===e)return s[1]}}},function(){function e(e,t,n,r){function i(){e.removeEventListener(t,i),n.apply(this,arguments)}return e.addEventListener(t,i,r),i}function t(){i(),r(),n(),o()}function n(){CP.pen=new Pen,CP.item=CP.pen,CP.pen.editor_settings={key_bindings:"normal",indent_with:"spaces",tab_size:"2",auto_run:!0,line_numbers:!0,line_wrapping:!0,code_folding:!0,match_brackets:!1,snippets:{markupSnippets:{},stylesheetSnippets:{}},emmet_active:!0}}function r(){$(".edit-on-codepen").on("click",s)}function i(){Hub.sub(HUB_EVENTS.PEN_CHANGE,_.debounce(a,u,{leading:!1,trailing:!0}))}function o(){if(window.__embed_prefill){CP.ensureProcessingRunOnce();var t=document.getElementById("result-link");t.className.indexOf("active")>-1?a():e(t,"click",a)}}function a(){c||($("#edit-on-text").html("FORK ON"),c=!0)}function s(e){if(c){e.preventDefault();var t=CP.pen.getCopyOfSaveablePen();t.parent=t.id,t.id=0,t.slug_hash="",delete t.fork,AJAXUtil.post("/pen/define",{data:JSON.stringify(t)},l)}}function l(e){window.open(e.url)}var u=500,c=window.__embed_prefill;t()}(),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).CodeMirror=t()}(this,function(){"use strict";function e(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}function t(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function n(e,n){return t(e).appendChild(n)}function r(e,t,n,r){var i=document.createElement(e);if(n&&(i.className=n),r&&(i.style.cssText=r),"string"==typeof t)i.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)i.appendChild(t[o]);return i}function i(e,t,n,i){var o=r(e,t,n,i);return o.setAttribute("role","presentation"),o}function o(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)}function a(){var e;try{e=document.activeElement}catch(ls){e=document.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function s(t,n){var r=t.className;e(n).test(r)||(t.className+=(r?" ":"")+n)}function l(t,n){for(var r=t.split(" "),i=0;i<r.length;i++)r[i]&&!e(r[i]).test(n)&&(n+=" "+r[i]);return n}function u(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function c(e,t,n){for(var r in t||(t={}),e)!e.hasOwnProperty(r)||!1===n&&t.hasOwnProperty(r)||(t[r]=e[r]);return t}function f(e,t,n,r,i){null==t&&-1==(t=e.search(/[^\s\u00a0]/))&&(t=e.length);for(var o=r||0,a=i||0;;){var s=e.indexOf("\t",o);if(s<0||s>=t)return a+(t-o);a+=s-o,a+=n-a%n,o=s+1}}function d(e,t){for(var n=0;n<e.length;++n)if(e[n]==t)return n;return-1}function p(e,t,n){for(var r=0,i=0;;){var o=e.indexOf("\t",r);-1==o&&(o=e.length);var a=o-r;if(o==e.length||i+a>=t)return r+Math.min(a,t-i);if(i+=o-r,r=o+1,(i+=n-i%n)>=t)return r}}function h(e){for(;Xa.length<=e;)Xa.push(m(Xa)+" ");return Xa[e]}function m(e){return e[e.length-1]}function g(e,t){for(var n=[],r=0;r<e.length;r++)n[r]=t(e[r],r);return n}function v(e,t,n){for(var r=0,i=n(t);r<e.length&&n(e[r])<=i;)r++;e.splice(r,0,t)}function y(){}function b(e,t){var n;return Object.create?n=Object.create(e):(y.prototype=e,n=new y),t&&c(t,n),n}function x(e){return/\w/.test(e)||e>"\x80"&&(e.toUpperCase()!=e.toLowerCase()||Ya.test(e))}function w(e,t){return t?!!(t.source.indexOf("\\w")>-1&&x(e))||t.test(e):x(e)}function k(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}function C(e){return e.charCodeAt(0)>=768&&Ja.test(e)}function S(e,t,n){for(;(n<0?t>0:t<e.length)&&C(e.charAt(t));)t+=n;return t}function T(e,t,n){for(var r=t>n?-1:1;;){if(t==n)return t;var i=(t+n)/2,o=r<0?Math.ceil(i):Math.floor(i);if(o==t)return e(o)?t:n;e(o)?n=o:t=o+r}}function _(e,t,n,r){if(!e)return r(t,n,"ltr",0);for(var i=!1,o=0;o<e.length;++o){var a=e[o];(a.from<n&&a.to>t||t==n&&a.to==t)&&(r(Math.max(a.from,t),Math.min(a.to,n),1==a.level?"rtl":"ltr",o),i=!0)}i||r(t,n,"ltr")}function E(e,t,n){var r;Za=null;for(var i=0;i<e.length;++i){var o=e[i];if(o.from<t&&o.to>t)return i;o.to==t&&(o.from!=o.to&&"before"==n?r=i:Za=i),o.from==t&&(o.from!=o.to&&"before"!=n?r=i:Za=i)}return null!=r?r:Za}function L(e,t){var n=e.order;return null==n&&(n=e.order=Qa(e.text,t)),n}function M(e,t){return e._handlers&&e._handlers[t]||es}function A(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else{var r=e._handlers,i=r&&r[t];if(i){var o=d(i,n);o>-1&&(r[t]=i.slice(0,o).concat(i.slice(o+1)))}}}function N(e,t){var n=M(e,t);if(n.length)for(var r=Array.prototype.slice.call(arguments,2),i=0;i<n.length;++i)n[i].apply(null,r)}function P(e,t,n){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),N(e,n||t.type,e,t),I(t)||t.codemirrorIgnore}function O(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),r=0;r<t.length;++r)-1==d(n,t[r])&&n.push(t[r])}function j(e,t){return M(e,t).length>0}function D(e){e.prototype.on=function(e,t){ts(this,e,t)},e.prototype.off=function(e,t){A(this,e,t)}}function F(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function z(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function I(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function $(e){F(e),z(e)}function R(e){return e.target||e.srcElement}function H(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),ja&&e.ctrlKey&&1==t&&(t=3),t}function B(e){if(null==rs){var t=r("span","\u200b");n(e,r("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(rs=t.offsetWidth<=1&&t.offsetHeight>2&&!(ka&&Ca<8))}var i=rs?r("span","\u200b"):r("span","\xa0",null,"display: inline-block; width: 1px; margin-right: -1px");return i.setAttribute("cm-text",""),i}function W(e){if(null!=is)return is;var r=n(e,document.createTextNode("A\u062eA")),i=Ha(r,0,1).getBoundingClientRect(),o=Ha(r,1,2).getBoundingClientRect();return t(e),!(!i||i.left==i.right)&&(is=o.right-i.right<3)}function q(e){if(null!=us)return us;var t=n(e,r("span","x")),i=t.getBoundingClientRect(),o=Ha(t,0,1).getBoundingClientRect();return us=Math.abs(i.left-o.left)>1}function U(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),cs[e]=t}function V(e,t){fs[e]=t}function G(e){if("string"==typeof e&&fs.hasOwnProperty(e))e=fs[e];else if(e&&"string"==typeof e.name&&fs.hasOwnProperty(e.name)){var t=fs[e.name];"string"==typeof t&&(t={name:t}),(e=b(t,e)).name=t.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return G("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return G("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function K(e,t){t=G(t);var n=cs[t.name];if(!n)return K(e,"text/plain");var r=n(e,t);if(ds.hasOwnProperty(t.name)){var i=ds[t.name];for(var o in i)i.hasOwnProperty(o)&&(r.hasOwnProperty(o)&&(r["_"+o]=r[o]),r[o]=i[o])}if(r.name=t.name,t.helperType&&(r.helperType=t.helperType),t.modeProps)for(var a in t.modeProps)r[a]=t.modeProps[a];return r}function X(e,t){var n;c(t,ds.hasOwnProperty(e)?ds[e]:ds[e]={})}function Y(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var n={};for(var r in t){var i=t[r];i instanceof Array&&(i=i.concat([])),n[r]=i}return n}function J(e,t){for(var n;e.innerMode&&(n=e.innerMode(t))&&n.mode!=e;)t=n.state,e=n.mode;return n||{mode:e,state:t}}function Z(e,t,n){return!e.startState||e.startState(t,n)}function Q(e,t){if((t-=e.first)<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var n=e;!n.lines;)for(var r=0;;++r){var i=n.children[r],o=i.chunkSize();if(t<o){n=i;break}t-=o}return n.lines[t]}function ee(e,t,n){var r=[],i=t.line;return e.iter(t.line,n.line+1,function(e){var o=e.text;i==n.line&&(o=o.slice(0,n.ch)),i==t.line&&(o=o.slice(t.ch)),r.push(o),++i}),r}function te(e,t,n){var r=[];return e.iter(t,n,function(e){r.push(e.text)}),r}function ne(e,t){var n=t-e.height;if(n)for(var r=e;r;r=r.parent)r.height+=n}function re(e){if(null==e.parent)return null;for(var t=e.parent,n=d(t.lines,e),r=t.parent;r;t=r,r=r.parent)for(var i=0;r.children[i]!=t;++i)n+=r.children[i].chunkSize();return n+t.first}function ie(e,t){var n=e.first;e:do{for(var r=0;r<e.children.length;++r){var i=e.children[r],o=i.height;if(t<o){e=i;continue e}t-=o,n+=i.chunkSize()}return n}while(!e.lines);for(var a=0;a<e.lines.length;++a){var s,l=e.lines[a].height;if(t<l)break;t-=l}return n+a}function oe(e,t){return t>=e.first&&t<e.first+e.size}function ae(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function se(e,t,n){if(void 0===n&&(n=null),!(this instanceof se))return new se(e,t,n);this.line=e,this.ch=t,this.sticky=n}function le(e,t){return e.line-t.line||e.ch-t.ch}function ue(e,t){return e.sticky==t.sticky&&0==le(e,t)}function ce(e){return se(e.line,e.ch)}function fe(e,t){return le(e,t)<0?t:e}function de(e,t){return le(e,t)<0?e:t}function pe(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function he(e,t){if(t.line<e.first)return se(e.first,0);var n=e.first+e.size-1;return t.line>n?se(n,Q(e,n).text.length):me(t,Q(e,t.line).text.length)}function me(e,t){var n=e.ch;return null==n||n>t?se(e.line,t):n<0?se(e.line,0):e}function ge(e,t){for(var n=[],r=0;r<t.length;r++)n[r]=he(e,t[r]);return n}function ve(e,t,n,r){var i=[e.state.modeGen],o={};Te(e,t.text,e.doc.mode,n,function(e,t){return i.push(e,t)},o,r);for(var a=n.state,s=function(r){n.baseTokens=i;var s=e.state.overlays[r],l=1,u=0;n.state=!0,Te(e,t.text,s.mode,n,function(e,t){for(var n=l;u<e;){var r=i[l];r>e&&i.splice(l,1,e,i[l+1],r),l+=2,u=Math.min(e,r)}if(t)if(s.opaque)i.splice(n,l-n,e,"overlay "+t),l=n+2;else for(;n<l;n+=2){var o=i[n+1];i[n+1]=(o?o+" ":"")+"overlay "+t}},o),n.state=a,n.baseTokens=null,n.baseTokenPos=1},l=0;l<e.state.overlays.length;++l)s(l);return{styles:i,classes:o.bgClass||o.textClass?o:null}}function ye(e,t,n){if(!t.styles||t.styles[0]!=e.state.modeGen){var r=be(e,re(t)),i=t.text.length>e.options.maxHighlightLength&&Y(e.doc.mode,r.state),o=ve(e,t,r);i&&(r.state=i),t.stateAfter=r.save(!i),t.styles=o.styles,o.classes?t.styleClasses=o.classes:t.styleClasses&&(t.styleClasses=null),n===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function be(e,t,n){var r=e.doc,i=e.display;if(!r.mode.startState)return new ms(r,!0,t);var o=_e(e,t,n),a=o>r.first&&Q(r,o-1).stateAfter,s=a?ms.fromSaved(r,a,o):new ms(r,Z(r.mode),o);return r.iter(o,t,function(n){xe(e,n.text,s);var r=s.line;n.stateAfter=r==t-1||r%5==0||r>=i.viewFrom&&r<i.viewTo?s.save():null,s.nextLine()}),n&&(r.modeFrontier=s.line),s}function xe(e,t,n,r){var i=e.doc.mode,o=new ps(t,e.options.tabSize,n);for(o.start=o.pos=r||0,""==t&&we(i,n.state);!o.eol();)ke(i,o,n.state),o.start=o.pos}function we(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var n=J(e,t);return n.mode.blankLine?n.mode.blankLine(n.state):void 0}}function ke(e,t,n,r){for(var i=0;i<10;i++){r&&(r[0]=J(e,n).mode);var o=e.token(t,n);if(t.pos>t.start)return o}throw new Error("Mode "+e.name+" failed to advance stream.")}function Ce(e,t,n,r){var i=e.doc,o=i.mode,a,s=Q(i,(t=he(i,t)).line),l=be(e,t.line,n),u=new ps(s.text,e.options.tabSize,l),c;for(r&&(c=[]);(r||u.pos<t.ch)&&!u.eol();)u.start=u.pos,a=ke(o,u,l.state),r&&c.push(new gs(u,a,Y(i.mode,l.state)));return r?c:new gs(u,a,l.state)}function Se(e,t){if(e)for(;;){var n=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var r=n[1]?"bgClass":"textClass";null==t[r]?t[r]=n[2]:new RegExp("(?:^|\\s)"+n[2]+"(?:$|\\s)").test(t[r])||(t[r]+=" "+n[2])}return e}function Te(e,t,n,r,i,o,a){var s=n.flattenSpans;null==s&&(s=e.options.flattenSpans);var l=0,u=null,c=new ps(t,e.options.tabSize,r),f,d=e.options.addModeClass&&[null];for(""==t&&Se(we(n,r.state),o);!c.eol();){if(c.pos>e.options.maxHighlightLength?(s=!1,a&&xe(e,t,r,c.pos),c.pos=t.length,f=null):f=Se(ke(n,c,r.state,d),o),d){var p=d[0].name;p&&(f="m-"+(f?p+" "+f:p))}if(!s||u!=f){for(;l<c.start;)i(l=Math.min(c.start,l+5e3),u);u=f}c.start=c.pos}for(;l<c.pos;){var h=Math.min(c.pos,l+5e3);i(h,u),l=h}}function _e(e,t,n){for(var r,i,o=e.doc,a=n?-1:t-(e.doc.mode.innerMode?1e3:100),s=t;s>a;--s){if(s<=o.first)return o.first;var l=Q(o,s-1),u=l.stateAfter;if(u&&(!n||s+(u instanceof hs?u.lookAhead:0)<=o.modeFrontier))return s;var c=f(l.text,null,e.options.tabSize);(null==i||r>c)&&(i=s-1,r=c)}return i}function Ee(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var n=e.first,r=t-1;r>n;r--){var i=Q(e,r).stateAfter;if(i&&(!(i instanceof hs)||r+i.lookAhead<t)){n=r+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,n)}}function Le(){vs=!0}function Me(){ys=!0}function Ae(e,t,n){this.marker=e,this.from=t,this.to=n}function Ne(e,t){if(e)for(var n=0;n<e.length;++n){var r=e[n];if(r.marker==t)return r}}function Pe(e,t){for(var n,r=0;r<e.length;++r)e[r]!=t&&(n||(n=[])).push(e[r]);return n}function Oe(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}function je(e,t,n){var r;if(e)for(var i=0;i<e.length;++i){var o=e[i],a=o.marker,s;if(null==o.from||(a.inclusiveLeft?o.from<=t:o.from<t)||o.from==t&&"bookmark"==a.type&&(!n||!o.marker.insertLeft)){var l=null==o.to||(a.inclusiveRight?o.to>=t:o.to>t);(r||(r=[])).push(new Ae(a,o.from,l?null:o.to))}}return r}function De(e,t,n){var r;if(e)for(var i=0;i<e.length;++i){var o=e[i],a=o.marker,s;if(null==o.to||(a.inclusiveRight?o.to>=t:o.to>t)||o.from==t&&"bookmark"==a.type&&(!n||o.marker.insertLeft)){var l=null==o.from||(a.inclusiveLeft?o.from<=t:o.from<t);(r||(r=[])).push(new Ae(a,l?null:o.from-t,null==o.to?null:o.to-t))}}return r}function Fe(e,t){if(t.full)return null;var n=oe(e,t.from.line)&&Q(e,t.from.line).markedSpans,r=oe(e,t.to.line)&&Q(e,t.to.line).markedSpans;if(!n&&!r)return null;var i=t.from.ch,o=t.to.ch,a=0==le(t.from,t.to),s=je(n,i,a),l=De(r,o,a),u=1==t.text.length,c=m(t.text).length+(u?i:0);if(s)for(var f=0;f<s.length;++f){var d=s[f];if(null==d.to){var p=Ne(l,d.marker);p?u&&(d.to=null==p.to?null:p.to+c):d.to=i}}if(l)for(var h=0;h<l.length;++h){var g=l[h],v;if(null!=g.to&&(g.to+=c),null==g.from)Ne(s,g.marker)||(g.from=c,u&&(s||(s=[])).push(g));else g.from+=c,u&&(s||(s=[])).push(g)}s&&(s=ze(s)),l&&l!=s&&(l=ze(l));var y=[s];if(!u){var b=t.text.length-2,x;if(b>0&&s)for(var w=0;w<s.length;++w)null==s[w].to&&(x||(x=[])).push(new Ae(s[w].marker,null,null));for(var k=0;k<b;++k)y.push(x);y.push(l)}return y}function ze(e){for(var t=0;t<e.length;++t){var n=e[t];null!=n.from&&n.from==n.to&&!1!==n.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function Ie(e,t,n){var r=null;if(e.iter(t.line,n.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var n=e.markedSpans[t].marker;!n.readOnly||r&&-1!=d(r,n)||(r||(r=[])).push(n)}}),!r)return null;for(var i=[{from:t,to:n}],o=0;o<r.length;++o)for(var a=r[o],s=a.find(0),l=0;l<i.length;++l){var u=i[l];if(!(le(u.to,s.from)<0||le(u.from,s.to)>0)){var c=[l,1],f=le(u.from,s.from),p=le(u.to,s.to);(f<0||!a.inclusiveLeft&&!f)&&c.push({from:u.from,to:s.from}),(p>0||!a.inclusiveRight&&!p)&&c.push({from:s.to,to:u.to}),i.splice.apply(i,c),l+=c.length-3}}return i}function $e(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}}function Re(e,t){if(t){for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}}function He(e){return e.inclusiveLeft?-1:0}function Be(e){return e.inclusiveRight?1:0}function We(e,t){var n=e.lines.length-t.lines.length;if(0!=n)return n;var r=e.find(),i=t.find(),o=le(r.from,i.from)||He(e)-He(t);if(o)return-o;var a=le(r.to,i.to)||Be(e)-Be(t);return a||t.id-e.id}function qe(e,t){var n=ys&&e.markedSpans,r;if(n)for(var i=void 0,o=0;o<n.length;++o)(i=n[o]).marker.collapsed&&null==(t?i.from:i.to)&&(!r||We(r,i.marker)<0)&&(r=i.marker);return r}function Ue(e){return qe(e,!0)}function Ve(e){return qe(e,!1)}function Ge(e,t){var n=ys&&e.markedSpans,r;if(n)for(var i=0;i<n.length;++i){var o=n[i];o.marker.collapsed&&(null==o.from||o.from<t)&&(null==o.to||o.to>t)&&(!r||We(r,o.marker)<0)&&(r=o.marker)}return r}function Ke(e,t,n,r,i){var o=Q(e,t),a=ys&&o.markedSpans;if(a)for(var s=0;s<a.length;++s){var l=a[s];if(l.marker.collapsed){var u=l.marker.find(0),c=le(u.from,n)||He(l.marker)-He(i),f=le(u.to,r)||Be(l.marker)-Be(i);if(!(c>=0&&f<=0||c<=0&&f>=0)&&(c<=0&&(l.marker.inclusiveRight&&i.inclusiveLeft?le(u.to,n)>=0:le(u.to,n)>0)||c>=0&&(l.marker.inclusiveRight&&i.inclusiveLeft?le(u.from,r)<=0:le(u.from,r)<0)))return!0}}}function Xe(e){for(var t;t=Ue(e);)e=t.find(-1,!0).line;return e}function Ye(e){for(var t;t=Ve(e);)e=t.find(1,!0).line;return e}function Je(e){for(var t,n;t=Ve(e);)e=t.find(1,!0).line,(n||(n=[])).push(e);return n}function Ze(e,t){var n=Q(e,t),r=Xe(n);return n==r?t:re(r)}function Qe(e,t){if(t>e.lastLine())return t;var n=Q(e,t),r;if(!et(e,n))return t;for(;r=Ve(n);)n=r.find(1,!0).line;return re(n)+1}function et(e,t){var n=ys&&t.markedSpans;if(n)for(var r=void 0,i=0;i<n.length;++i)if((r=n[i]).marker.collapsed){if(null==r.from)return!0;if(!r.marker.widgetNode&&0==r.from&&r.marker.inclusiveLeft&&tt(e,t,r))return!0}}function tt(e,t,n){if(null==n.to){var r=n.marker.find(1,!0);return tt(e,r.line,Ne(r.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var i=void 0,o=0;o<t.markedSpans.length;++o)if((i=t.markedSpans[o]).marker.collapsed&&!i.marker.widgetNode&&i.from==n.to&&(null==i.to||i.to!=n.from)&&(i.marker.inclusiveLeft||n.marker.inclusiveRight)&&tt(e,t,i))return!0}function nt(e){for(var t=0,n=(e=Xe(e)).parent,r=0;r<n.lines.length;++r){var i=n.lines[r];if(i==e)break;t+=i.height}for(var o=n.parent;o;o=(n=o).parent)for(var a=0;a<o.children.length;++a){var s=o.children[a];if(s==n)break;t+=s.height}return t}function rt(e){if(0==e.height)return 0;for(var t=e.text.length,n,r=e;n=Ue(r);){var i=n.find(0,!0);r=i.from.line,t+=i.from.ch-i.to.ch}for(r=e;n=Ve(r);){var o=n.find(0,!0);t-=r.text.length-o.from.ch,t+=(r=o.to.line).text.length-o.to.ch}return t}function it(e){var t=e.display,n=e.doc;t.maxLine=Q(n,n.first),t.maxLineLength=rt(t.maxLine),t.maxLineChanged=!0,n.iter(function(e){var n=rt(e);n>t.maxLineLength&&(t.maxLineLength=n,t.maxLine=e)})}function ot(e,t,n,r){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),$e(e),Re(e,n);var i=r?r(e):1;i!=e.height&&ne(e,i)}function at(e){e.parent=null,$e(e)}function st(e,t){if(!e||/^\s*$/.test(e))return null;var n=t.addModeClass?ws:xs;return n[e]||(n[e]=e.replace(/\S+/g,"cm-$&"))}function lt(e,t){var n=i("span",null,null,Sa?"padding-right: .1px":null),r={pre:i("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:e.getOption("lineWrapping")};t.measure={};for(var o=0;o<=(t.rest?t.rest.length:0);o++){var a=o?t.rest[o-1]:t.line,s=void 0,u;r.pos=0,r.addToken=ct,W(e.display.measure)&&(s=L(a,e.doc.direction))&&(r.addToken=dt(r.addToken,s)),r.map=[],ht(a,r,ye(e,a,t!=e.display.externalMeasured&&re(a))),a.styleClasses&&(a.styleClasses.bgClass&&(r.bgClass=l(a.styleClasses.bgClass,r.bgClass||"")),a.styleClasses.textClass&&(r.textClass=l(a.styleClasses.textClass,r.textClass||""))),0==r.map.length&&r.map.push(0,0,r.content.appendChild(B(e.display.measure))),0==o?(t.measure.map=r.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(r.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(Sa){var c=r.content.lastChild;(/\bcm-tab\b/.test(c.className)||c.querySelector&&c.querySelector(".cm-tab"))&&(r.content.className="cm-tab-wrap-hack")}return N(e,"renderLine",e,t.line,r.pre),r.pre.className&&(r.textClass=l(r.pre.className,r.textClass||"")),r}function ut(e){var t=r("span","\u2022","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function ct(e,t,n,i,o,a,s){if(t){var l=e.splitSpaces?ft(t,e.trailingSpace):t,u=e.cm.state.specialChars,c=!1,f;if(u.test(t)){f=document.createDocumentFragment();for(var d=0;;){u.lastIndex=d;var p=u.exec(t),m=p?p.index-d:t.length-d;if(m){var g=document.createTextNode(l.slice(d,d+m));ka&&Ca<9?f.appendChild(r("span",[g])):f.appendChild(g),e.map.push(e.pos,e.pos+m,g),e.col+=m,e.pos+=m}if(!p)break;d+=m+1;var v=void 0;if("\t"==p[0]){var y=e.cm.options.tabSize,b=y-e.col%y;(v=f.appendChild(r("span",h(b),"cm-tab"))).setAttribute("role","presentation"),v.setAttribute("cm-text","\t"),e.col+=b}else"\r"==p[0]||"\n"==p[0]?((v=f.appendChild(r("span","\r"==p[0]?"\u240d":"\u2424","cm-invalidchar"))).setAttribute("cm-text",p[0]),e.col+=1):((v=e.cm.options.specialCharPlaceholder(p[0])).setAttribute("cm-text",p[0]),ka&&Ca<9?f.appendChild(r("span",[v])):f.appendChild(v),e.col+=1);e.map.push(e.pos,e.pos+1,v),e.pos++}}else e.col+=t.length,f=document.createTextNode(l),e.map.push(e.pos,e.pos+t.length,f),ka&&Ca<9&&(c=!0),e.pos+=t.length;if(e.trailingSpace=32==l.charCodeAt(t.length-1),n||i||o||c||a||s){var x=n||"";i&&(x+=i),o&&(x+=o);var w=r("span",[f],x,a);if(s)for(var k in s)s.hasOwnProperty(k)&&"style"!=k&&"class"!=k&&w.setAttribute(k,s[k]);return e.content.appendChild(w)}e.content.appendChild(f)}}function ft(e,t){if(e.length>1&&!/  /.test(e))return e;for(var n=t,r="",i=0;i<e.length;i++){var o=e.charAt(i);" "!=o||!n||i!=e.length-1&&32!=e.charCodeAt(i+1)||(o="\xa0"),r+=o,n=" "==o}return r}function dt(e,t){return function(n,r,i,o,a,s,l){i=i?i+" cm-force-border":"cm-force-border";for(var u=n.pos,c=u+r.length;;){for(var f=void 0,d=0;d<t.length&&!((f=t[d]).to>u&&f.from<=u);d++);if(f.to>=c)return e(n,r,i,o,a,s,l);e(n,r.slice(0,f.to-u),i,o,null,s,l),o=null,r=r.slice(f.to-u),u=f.to}}}function pt(e,t,n,r){var i=!r&&n.widgetNode;i&&e.map.push(e.pos,e.pos+t,i),!r&&e.cm.display.input.needsContentAttribute&&(i||(i=e.content.appendChild(document.createElement("span"))),i.setAttribute("cm-marker",n.id)),i&&(e.cm.display.input.setUneditable(i),e.content.appendChild(i)),e.pos+=t,e.trailingSpace=!1}function ht(e,t,n){var r=e.markedSpans,i=e.text,o=0;if(r)for(var a=i.length,s=0,l=1,u="",c,f,d=0,p,h,m,g,v;;){if(d==s){p=h=m=f="",v=null,g=null,d=Infinity;for(var y=[],b=void 0,x=0;x<r.length;++x){var w=r[x],k=w.marker;if("bookmark"==k.type&&w.from==s&&k.widgetNode)y.push(k);else if(w.from<=s&&(null==w.to||w.to>s||k.collapsed&&w.to==s&&w.from==s)){if(null!=w.to&&w.to!=s&&d>w.to&&(d=w.to,h=""),k.className&&(p+=" "+k.className),k.css&&(f=(f?f+";":"")+k.css),k.startStyle&&w.from==s&&(m+=" "+k.startStyle),k.endStyle&&w.to==d&&(b||(b=[])).push(k.endStyle,w.to),k.title&&((v||(v={})).title=k.title),k.attributes)for(var C in k.attributes)(v||(v={}))[C]=k.attributes[C];k.collapsed&&(!g||We(g.marker,k)<0)&&(g=w)}else w.from>s&&d>w.from&&(d=w.from)}if(b)for(var S=0;S<b.length;S+=2)b[S+1]==d&&(h+=" "+b[S]);if(!g||g.from==s)for(var T=0;T<y.length;++T)pt(t,0,y[T]);if(g&&(g.from||0)==s){if(pt(t,(null==g.to?a+1:g.to)-s,g.marker,null==g.from),null==g.to)return;g.to==s&&(g=!1)}}if(s>=a)break;for(var _=Math.min(a,d);;){if(u){var E=s+u.length;if(!g){var L=E>_?u.slice(0,_-s):u;t.addToken(t,L,c?c+p:p,m,s+L.length==d?h:"",f,v)}if(E>=_){u=u.slice(_-s),s=_;break}s=E,m=""}u=i.slice(o,o=n[l++]),c=st(n[l++],t.cm.options)}}else for(var M=1;M<n.length;M+=2)t.addToken(t,i.slice(o,o=n[M]),st(n[M+1],t.cm.options))}function mt(e,t,n){this.line=t,this.rest=Je(t),this.size=this.rest?re(m(this.rest))-n+1:1,this.node=this.text=null,this.hidden=et(e,t)}function gt(e,t,n){for(var r=[],i,o=t;o<n;o=i){var a=new mt(e.doc,Q(e.doc,o),o);i=o+a.size,r.push(a)}return r}function vt(e){ks?ks.ops.push(e):e.ownsGroup=ks={ops:[e],delayedCallbacks:[]}}function yt(e){var t=e.delayedCallbacks,n=0;do{for(;n<t.length;n++)t[n].call(null);for(var r=0;r<e.ops.length;r++){var i=e.ops[r];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled<i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++].call(null,i.cm)}}while(n<t.length)}function bt(e,t){var n=e.ownsGroup;if(n)try{yt(n)}finally{ks=null,t(n)}}function xt(e,t){var n=M(e,t);if(n.length){var r=Array.prototype.slice.call(arguments,2),i;ks?i=ks.delayedCallbacks:Cs?i=Cs:(i=Cs=[],setTimeout(wt,0));for(var o=function(e){i.push(function(){return n[e].apply(null,r)})},a=0;a<n.length;++a)o(a)}}function wt(){var e=Cs;Cs=null;for(var t=0;t<e.length;++t)e[t]()}function kt(e,t,n,r){for(var i=0;i<t.changes.length;i++){var o=t.changes[i];"text"==o?_t(e,t):"gutter"==o?Lt(e,t,n,r):"class"==o?Et(e,t):"widget"==o&&Mt(e,t,r)}t.changes=null}function Ct(e){return e.node==e.text&&(e.node=r("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),ka&&Ca<8&&(e.node.style.zIndex=2)),e.node}function St(e,t){var n=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(n&&(n+=" CodeMirror-linebackground"),t.background)n?t.background.className=n:(t.background.parentNode.removeChild(t.background),t.background=null);else if(n){var i=Ct(t);t.background=i.insertBefore(r("div",null,n),i.firstChild),e.display.input.setUneditable(t.background)}}function Tt(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):lt(e,t)}function _t(e,t){var n=t.text.className,r=Tt(e,t);t.text==t.node&&(t.node=r.pre),t.text.parentNode.replaceChild(r.pre,t.text),t.text=r.pre,r.bgClass!=t.bgClass||r.textClass!=t.textClass?(t.bgClass=r.bgClass,t.textClass=r.textClass,Et(e,t)):n&&(t.text.className=n)}function Et(e,t){St(e,t),t.line.wrapClass?Ct(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var n=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=n||""}function Lt(e,t,n,i){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var o=Ct(t);t.gutterBackground=r("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px; width: "+i.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),o.insertBefore(t.gutterBackground,t.text)}var a=t.line.gutterMarkers;if(e.options.lineNumbers||a){var s=Ct(t),l=t.gutter=r("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px");if(e.display.input.setUneditable(l),s.insertBefore(l,t.text),t.line.gutterClass&&(l.className+=" "+t.line.gutterClass),!e.options.lineNumbers||a&&a["CodeMirror-linenumbers"]||(t.lineNumber=l.appendChild(r("div",ae(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+i.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),a)for(var u=0;u<e.display.gutterSpecs.length;++u){var c=e.display.gutterSpecs[u].className,f=a.hasOwnProperty(c)&&a[c];f&&l.appendChild(r("div",[f],"CodeMirror-gutter-elt","left: "+i.gutterLeft[c]+"px; width: "+i.gutterWidth[c]+"px"))}}}function Mt(t,n,r){n.alignable&&(n.alignable=null);for(var i=e("CodeMirror-linewidget"),o=n.node.firstChild,a=void 0;o;o=a)a=o.nextSibling,i.test(o.className)&&n.node.removeChild(o);Nt(t,n,r)}function At(e,t,n,r){var i=Tt(e,t);return t.text=t.node=i.pre,i.bgClass&&(t.bgClass=i.bgClass),i.textClass&&(t.textClass=i.textClass),Et(e,t),Lt(e,t,n,r),Nt(e,t,r),t.node}function Nt(e,t,n){if(Pt(e,t.line,t,n,!0),t.rest)for(var r=0;r<t.rest.length;r++)Pt(e,t.rest[r],t,n,!1)}function Pt(e,t,n,i,o){if(t.widgets)for(var a=Ct(n),s=0,l=t.widgets;s<l.length;++s){var u=l[s],c=r("div",[u.node],"CodeMirror-linewidget"+(u.className?" "+u.className:""));u.handleMouseEvents||c.setAttribute("cm-ignore-events","true"),Ot(u,c,n,i),e.display.input.setUneditable(c),o&&u.above?a.insertBefore(c,n.gutter||n.text):a.appendChild(c),xt(u,"redraw")}}function Ot(e,t,n,r){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var i=r.wrapperWidth;t.style.left=r.fixedPos+"px",e.coverGutter||(i-=r.gutterTotalWidth,t.style.paddingLeft=r.gutterTotalWidth+"px"),t.style.width=i+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-r.gutterTotalWidth+"px"))}function jt(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!o(document.body,e.node)){var i="position: relative;";e.coverGutter&&(i+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(i+="width: "+t.display.wrapper.clientWidth+"px;"),n(t.display.measure,r("div",[e.node],null,i))}return e.height=e.node.parentNode.offsetHeight}function Dt(e,t){for(var n=R(t);n!=e.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==e.sizer&&n!=e.mover)return!0}function Ft(e){return e.lineSpace.offsetTop}function zt(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function It(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=n(e.measure,r("pre","x","CodeMirror-line-like")),i=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,o={left:parseInt(i.paddingLeft),right:parseInt(i.paddingRight)};return isNaN(o.left)||isNaN(o.right)||(e.cachedPaddingH=o),o}function $t(e){return qa-e.display.nativeBarWidth}function Rt(e){return e.display.scroller.clientWidth-$t(e)-e.display.barWidth}function Ht(e){return e.display.scroller.clientHeight-$t(e)-e.display.barHeight}function Bt(e,t,n){var r=e.options.lineWrapping,i=r&&Rt(e);if(!t.measure.heights||r&&t.measure.width!=i){var o=t.measure.heights=[];if(r){t.measure.width=i;for(var a=t.text.firstChild.getClientRects(),s=0;s<a.length-1;s++){var l=a[s],u=a[s+1];Math.abs(l.bottom-u.bottom)>2&&o.push((l.bottom+u.top)/2-n.top)}}o.push(n.bottom-n.top)}}function Wt(e,t,n){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var r=0;r<e.rest.length;r++)if(e.rest[r]==t)return{map:e.measure.maps[r],cache:e.measure.caches[r]};for(var i=0;i<e.rest.length;i++)if(re(e.rest[i])>n)return{map:e.measure.maps[i],cache:e.measure.caches[i],before:!0}}function qt(e,t){var r=re(t=Xe(t)),i=e.display.externalMeasured=new mt(e.doc,t,r);i.lineN=r;var o=i.built=lt(e,i);return i.text=o.pre,n(e.display.lineMeasure,o.pre),i}function Ut(e,t,n,r){return Kt(e,Gt(e,t),n,r)}function Vt(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[_n(e,t)];var n=e.display.externalMeasured;return n&&t>=n.lineN&&t<n.lineN+n.size?n:void 0}function Gt(e,t){var n=re(t),r=Vt(e,n);r&&!r.text?r=null:r&&r.changes&&(kt(e,r,n,wn(e)),e.curOp.forceUpdate=!0),r||(r=qt(e,t));var i=Wt(r,t,n);return{line:t,view:r,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function Kt(e,t,n,r,i){t.before&&(n=-1);var o=n+(r||""),a;return t.cache.hasOwnProperty(o)?a=t.cache[o]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(Bt(e,t.view,t.rect),t.hasHeights=!0),(a=Jt(e,t,n,r)).bogus||(t.cache[o]=a)),{left:a.left,right:a.right,top:i?a.rtop:a.top,bottom:i?a.rbottom:a.bottom}}function Xt(e,t,n){for(var r,i,o,a,s,l,u=0;u<e.length;u+=3)if(s=e[u],l=e[u+1],t<s?(i=0,o=1,a="left"):t<l?o=(i=t-s)+1:(u==e.length-3||t==l&&e[u+3]>t)&&(i=(o=l-s)-1,t>=l&&(a="right")),null!=i){if(r=e[u+2],s==l&&n==(r.insertLeft?"left":"right")&&(a=n),"left"==n&&0==i)for(;u&&e[u-2]==e[u-3]&&e[u-1].insertLeft;)r=e[2+(u-=3)],a="left";if("right"==n&&i==l-s)for(;u<e.length-3&&e[u+3]==e[u+4]&&!e[u+5].insertLeft;)r=e[(u+=3)+2],a="right";break}return{node:r,start:i,end:o,collapse:a,coverStart:s,coverEnd:l}}function Yt(e,t){var n=Ss;if("left"==t)for(var r=0;r<e.length&&(n=e[r]).left==n.right;r++);else for(var i=e.length-1;i>=0&&(n=e[i]).left==n.right;i--);return n}function Jt(e,t,n,r){var i=Xt(t.map,n,r),o=i.node,a=i.start,s=i.end,l=i.collapse,u;if(3==o.nodeType){for(var c=0;c<4;c++){for(;a&&C(t.line.text.charAt(i.coverStart+a));)--a;for(;i.coverStart+s<i.coverEnd&&C(t.line.text.charAt(i.coverStart+s));)++s;if((u=ka&&Ca<9&&0==a&&s==i.coverEnd-i.coverStart?o.parentNode.getBoundingClientRect():Yt(Ha(o,a,s).getClientRects(),r)).left||u.right||0==a)break;s=a,a-=1,l="right"}ka&&Ca<11&&(u=Zt(e.display.measure,u))}else{var f;a>0&&(l=r="right"),u=e.options.lineWrapping&&(f=o.getClientRects()).length>1?f["right"==r?f.length-1:0]:o.getBoundingClientRect()}if(ka&&Ca<9&&!a&&(!u||!u.left&&!u.right)){var d=o.parentNode.getClientRects()[0];u=d?{left:d.left,right:d.left+xn(e.display),top:d.top,bottom:d.bottom}:Ss}for(var p=u.top-t.rect.top,h=u.bottom-t.rect.top,m=(p+h)/2,g=t.view.measure.heights,v=0;v<g.length-1&&!(m<g[v]);v++);var y=v?g[v-1]:0,b=g[v],x={left:("right"==l?u.right:u.left)-t.rect.left,right:("left"==l?u.left:u.right)-t.rect.left,top:y,bottom:b};return u.left||u.right||(x.bogus=!0),e.options.singleCursorHeightPerLine||(x.rtop=p,x.rbottom=h),x}function Zt(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!q(e))return t;var n=screen.logicalXDPI/screen.deviceXDPI,r=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*n,right:t.right*n,top:t.top*r,bottom:t.bottom*r}}function Qt(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function en(e){e.display.externalMeasure=null,t(e.display.lineMeasure);for(var n=0;n<e.display.view.length;n++)Qt(e.display.view[n])}function tn(e){en(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function nn(){return _a&&Pa?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function rn(){return _a&&Pa?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}
function on(e){var t=0;if(e.widgets)for(var n=0;n<e.widgets.length;++n)e.widgets[n].above&&(t+=jt(e.widgets[n]));return t}function an(e,t,n,r,i){if(!i){var o=on(t);n.top+=o,n.bottom+=o}if("line"==r)return n;r||(r="local");var a=nt(t);if("local"==r?a+=Ft(e.display):a-=e.display.viewOffset,"page"==r||"window"==r){var s=e.display.lineSpace.getBoundingClientRect();a+=s.top+("window"==r?0:rn());var l=s.left+("window"==r?0:nn());n.left+=l,n.right+=l}return n.top+=a,n.bottom+=a,n}function sn(e,t,n){if("div"==n)return t;var r=t.left,i=t.top;if("page"==n)r-=nn(),i-=rn();else if("local"==n||!n){var o=e.display.sizer.getBoundingClientRect();r+=o.left,i+=o.top}var a=e.display.lineSpace.getBoundingClientRect();return{left:r-a.left,top:i-a.top}}function ln(e,t,n,r,i){return r||(r=Q(e.doc,t.line)),an(e,r,Ut(e,r,t.ch,i),n)}function un(e,t,n,r,i,o){function a(t,a){var s=Kt(e,i,t,a?"right":"left",o);return a?s.left=s.right:s.right=s.left,an(e,r,s,n)}function s(e,t,n){var r,i;return a(n?e-1:e,1==l[t].level!=n)}r=r||Q(e.doc,t.line),i||(i=Gt(e,r));var l=L(r,e.doc.direction),u=t.ch,c=t.sticky;if(u>=r.text.length?(u=r.text.length,c="before"):u<=0&&(u=0,c="after"),!l)return a("before"==c?u-1:u,"before"==c);var f=E(l,u,c),d=Za,p=s(u,f,"before"==c);return null!=d&&(p.other=s(u,d,"before"!=c)),p}function cn(e,t){var n=0;t=he(e.doc,t),e.options.lineWrapping||(n=xn(e.display)*t.ch);var r=Q(e.doc,t.line),i=nt(r)+Ft(e.display);return{left:n,right:n,top:i,bottom:i+r.height}}function fn(e,t,n,r,i){var o=se(e,t,n);return o.xRel=i,r&&(o.outside=r),o}function dn(e,t,n){var r=e.doc;if((n+=e.display.viewOffset)<0)return fn(r.first,0,null,-1,-1);var i=ie(r,n),o=r.first+r.size-1;if(i>o)return fn(r.first+r.size-1,Q(r,o).text.length,null,1,1);t<0&&(t=0);for(var a=Q(r,i);;){var s=gn(e,a,i,t,n),l=Ge(a,s.ch+(s.xRel>0||s.outside>0?1:0));if(!l)return s;var u=l.find(1);if(u.line==i)return u;a=Q(r,i=u.line)}}function pn(e,t,n,r){r-=on(t);var i=t.text.length,o=T(function(t){return Kt(e,n,t-1).bottom<=r},i,0);return{begin:o,end:i=T(function(t){return Kt(e,n,t).top>r},o,i)}}function hn(e,t,n,r){var i;return n||(n=Gt(e,t)),pn(e,t,n,an(e,t,Kt(e,n,r),"line").top)}function mn(e,t,n,r){return!(e.bottom<=n)&&(e.top>n||(r?e.left:e.right)>t)}function gn(e,t,n,r,i){i-=nt(t);var o=Gt(e,t),a=on(t),s=0,l=t.text.length,u=!0,c=L(t,e.doc.direction);if(c){var f=(e.options.lineWrapping?yn:vn)(e,t,n,o,c,r,i);s=(u=1!=f.level)?f.from:f.to-1,l=u?f.to:f.from-1}var d=null,p=null,h=T(function(t){var n=Kt(e,o,t);return n.top+=a,n.bottom+=a,!!mn(n,r,i,!1)&&(n.top<=i&&n.left<=r&&(d=t,p=n),!0)},s,l),m,g,v=!1;if(p){var y=r-p.left<p.right-r,b=y==u;h=d+(b?0:1),g=b?"after":"before",m=y?p.left:p.right}else{u||h!=l&&h!=s||h++,g=0==h?"after":h==t.text.length?"before":Kt(e,o,h-(u?1:0)).bottom+a<=i==u?"after":"before";var x=un(e,se(n,h,g),"line",t,o);m=x.left,v=i<x.top?-1:i>=x.bottom?1:0}return fn(n,h=S(t.text,h,1),g,v,r-m)}function vn(e,t,n,r,i,o,a){var s=T(function(s){var l=i[s],u=1!=l.level;return mn(un(e,se(n,u?l.to:l.from,u?"before":"after"),"line",t,r),o,a,!0)},0,i.length-1),l=i[s];if(s>0){var u=1!=l.level,c=un(e,se(n,u?l.from:l.to,u?"after":"before"),"line",t,r);mn(c,o,a,!0)&&c.top>a&&(l=i[s-1])}return l}function yn(e,t,n,r,i,o,a){var s=pn(e,t,r,a),l=s.begin,u=s.end;/\s/.test(t.text.charAt(u-1))&&u--;for(var c=null,f=null,d=0;d<i.length;d++){var p=i[d];if(!(p.from>=u||p.to<=l)){var h,m=Kt(e,r,1!=p.level?Math.min(u,p.to)-1:Math.max(l,p.from)).right,g=m<o?o-m+1e9:m-o;(!c||f>g)&&(c=p,f=g)}}return c||(c=i[i.length-1]),c.from<l&&(c={from:l,to:c.to,level:c.level}),c.to>u&&(c={from:c.from,to:u,level:c.level}),c}function bn(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==Ts){Ts=r("pre",null,"CodeMirror-line-like");for(var i=0;i<49;++i)Ts.appendChild(document.createTextNode("x")),Ts.appendChild(r("br"));Ts.appendChild(document.createTextNode("x"))}n(e.measure,Ts);var o=Ts.offsetHeight/50;return o>3&&(e.cachedTextHeight=o),t(e.measure),o||1}function xn(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=r("span","xxxxxxxxxx"),i=r("pre",[t],"CodeMirror-line-like");n(e.measure,i);var o=t.getBoundingClientRect(),a=(o.right-o.left)/10;return a>2&&(e.cachedCharWidth=a),a||10}function wn(e){for(var t=e.display,n={},r={},i=t.gutters.clientLeft,o=t.gutters.firstChild,a=0;o;o=o.nextSibling,++a){var s=e.display.gutterSpecs[a].className;n[s]=o.offsetLeft+o.clientLeft+i,r[s]=o.clientWidth}return{fixedPos:kn(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:r,wrapperWidth:t.wrapper.clientWidth}}function kn(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function Cn(e){var t=bn(e.display),n=e.options.lineWrapping,r=n&&Math.max(5,e.display.scroller.clientWidth/xn(e.display)-3);return function(i){if(et(e.doc,i))return 0;var o=0;if(i.widgets)for(var a=0;a<i.widgets.length;a++)i.widgets[a].height&&(o+=i.widgets[a].height);return n?o+(Math.ceil(i.text.length/r)||1)*t:o+t}}function Sn(e){var t=e.doc,n=Cn(e);t.iter(function(e){var t=n(e);t!=e.height&&ne(e,t)})}function Tn(e,t,n,r){var i=e.display;if(!n&&"true"==R(t).getAttribute("cm-not-content"))return null;var o,a,s=i.lineSpace.getBoundingClientRect();try{o=t.clientX-s.left,a=t.clientY-s.top}catch(d){return null}var l=dn(e,o,a),u;if(r&&l.xRel>0&&(u=Q(e.doc,l.line).text).length==l.ch){var c=f(u,u.length,e.options.tabSize)-u.length;l=se(l.line,Math.max(0,Math.round((o-It(e.display).left)/xn(e.display))-c))}return l}function _n(e,t){if(t>=e.display.viewTo)return null;if((t-=e.display.viewFrom)<0)return null;for(var n=e.display.view,r=0;r<n.length;r++)if((t-=n[r].size)<0)return r}function En(e,t,n,r){null==t&&(t=e.doc.first),null==n&&(n=e.doc.first+e.doc.size),r||(r=0);var i=e.display;if(r&&n<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>t)&&(i.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=i.viewTo)ys&&Ze(e.doc,t)<i.viewTo&&Mn(e);else if(n<=i.viewFrom)ys&&Qe(e.doc,n+r)>i.viewFrom?Mn(e):(i.viewFrom+=r,i.viewTo+=r);else if(t<=i.viewFrom&&n>=i.viewTo)Mn(e);else if(t<=i.viewFrom){var o=An(e,n,n+r,1);o?(i.view=i.view.slice(o.index),i.viewFrom=o.lineN,i.viewTo+=r):Mn(e)}else if(n>=i.viewTo){var a=An(e,t,t,-1);a?(i.view=i.view.slice(0,a.index),i.viewTo=a.lineN):Mn(e)}else{var s=An(e,t,t,-1),l=An(e,n,n+r,1);s&&l?(i.view=i.view.slice(0,s.index).concat(gt(e,s.lineN,l.lineN)).concat(i.view.slice(l.index)),i.viewTo+=r):Mn(e)}var u=i.externalMeasured;u&&(n<u.lineN?u.lineN+=r:t<u.lineN+u.size&&(i.externalMeasured=null))}function Ln(e,t,n){e.curOp.viewChanged=!0;var r=e.display,i=e.display.externalMeasured;if(i&&t>=i.lineN&&t<i.lineN+i.size&&(r.externalMeasured=null),!(t<r.viewFrom||t>=r.viewTo)){var o=r.view[_n(e,t)];if(null!=o.node){var a=o.changes||(o.changes=[]);-1==d(a,n)&&a.push(n)}}}function Mn(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function An(e,t,n,r){var i=_n(e,t),o,a=e.display.view;if(!ys||n==e.doc.first+e.doc.size)return{index:i,lineN:n};for(var s=e.display.viewFrom,l=0;l<i;l++)s+=a[l].size;if(s!=t){if(r>0){if(i==a.length-1)return null;o=s+a[i].size-t,i++}else o=s-t;t+=o,n+=o}for(;Ze(e.doc,n)!=n;){if(i==(r<0?0:a.length-1))return null;n+=r*a[i-(r<0?1:0)].size,i+=r}return{index:i,lineN:n}}function Nn(e,t,n){var r=e.display,i;0==r.view.length||t>=r.viewTo||n<=r.viewFrom?(r.view=gt(e,t,n),r.viewFrom=t):(r.viewFrom>t?r.view=gt(e,t,r.viewFrom).concat(r.view):r.viewFrom<t&&(r.view=r.view.slice(_n(e,t))),r.viewFrom=t,r.viewTo<n?r.view=r.view.concat(gt(e,r.viewTo,n)):r.viewTo>n&&(r.view=r.view.slice(0,_n(e,n)))),r.viewTo=n}function Pn(e){for(var t=e.display.view,n=0,r=0;r<t.length;r++){var i=t[r];i.hidden||i.node&&!i.changes||++n}return n}function On(e){e.display.input.showSelection(e.display.input.prepareSelection())}function jn(e,t){void 0===t&&(t=!0);for(var n=e.doc,r={},i=r.cursors=document.createDocumentFragment(),o=r.selection=document.createDocumentFragment(),a=0;a<n.sel.ranges.length;a++)if(t||a!=n.sel.primIndex){var s=n.sel.ranges[a];if(!(s.from().line>=e.display.viewTo||s.to().line<e.display.viewFrom)){var l=s.empty();(l||e.options.showCursorWhenSelecting)&&Dn(e,s.head,i),l||zn(e,s,o)}}return r}function Dn(e,t,n){var i=un(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),o=n.appendChild(r("div","\xa0","CodeMirror-cursor"));if(o.style.left=i.left+"px",o.style.top=i.top+"px",o.style.height=Math.max(0,i.bottom-i.top)*e.options.cursorHeight+"px",i.other){var a=n.appendChild(r("div","\xa0","CodeMirror-cursor CodeMirror-secondarycursor"));a.style.display="",a.style.left=i.other.left+"px",a.style.top=i.other.top+"px",a.style.height=.85*(i.other.bottom-i.other.top)+"px"}}function Fn(e,t){return e.top-t.top||e.left-t.left}function zn(e,t,n){function i(e,t,n,i){t<0&&(t=0),t=Math.round(t),i=Math.round(i),l.appendChild(r("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px;\n                             top: "+t+"px; width: "+(null==n?f-e:n)+"px;\n                             height: "+(i-t)+"px"))}function o(t,n,r){function o(n,r){return ln(e,se(t,n),"div",l,r)}function a(t,n,r){var i=hn(e,l,null,t),a="ltr"==n==("after"==r)?"left":"right",s;return o("after"==r?i.begin:i.end-(/\s/.test(l.text.charAt(i.end-1))?2:1),a)[a]}var l=Q(s,t),u=l.text.length,p,h,m=L(l,s.direction);return _(m,n||0,null==r?u:r,function(e,t,s,l){var g="ltr"==s,v=o(e,g?"left":"right"),y=o(t-1,g?"right":"left"),b=null==n&&0==e,x=null==r&&t==u,w=0==l,k=!m||l==m.length-1;if(y.top-v.top<=3){var C,S=(d?x:b)&&k,T=(d?b:x)&&w?c:(g?v:y).left,_=S?f:(g?y:v).right;i(T,v.top,_-T,v.bottom)}else{var E,L,M,A;g?(E=d&&b&&w?c:v.left,L=d?f:a(e,s,"before"),M=d?c:a(t,s,"after"),A=d&&x&&k?f:y.right):(E=d?a(e,s,"before"):c,L=!d&&b&&w?f:v.right,M=!d&&x&&k?c:y.left,A=d?a(t,s,"after"):f),i(E,v.top,L-E,v.bottom),v.bottom<y.top&&i(c,v.bottom,null,y.top),i(M,y.top,A-M,y.bottom)}(!p||Fn(v,p)<0)&&(p=v),Fn(y,p)<0&&(p=y),(!h||Fn(v,h)<0)&&(h=v),Fn(y,h)<0&&(h=y)}),{start:p,end:h}}var a=e.display,s=e.doc,l=document.createDocumentFragment(),u=It(e.display),c=u.left,f=Math.max(a.sizerWidth,Rt(e)-a.sizer.offsetLeft)-u.right,d="ltr"==s.direction,p=t.from(),h=t.to();if(p.line==h.line)o(p.line,p.ch,h.ch);else{var m=Q(s,p.line),g=Q(s,h.line),v=Xe(m)==Xe(g),y=o(p.line,p.ch,v?m.text.length+1:null).end,b=o(h.line,v?0:null,h.ch).start;v&&(y.top<b.top-2?(i(y.right,y.top,null,y.bottom),i(c,b.top,b.left,b.bottom)):i(y.right,y.top,b.left-y.right,y.bottom)),y.bottom<b.top&&i(c,y.bottom,null,b.top)}n.appendChild(l)}function In(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){e.hasFocus()||Bn(e),t.cursorDiv.style.visibility=(n=!n)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function $n(e){e.state.focused||(e.display.input.focus(),Hn(e))}function Rn(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,Bn(e))},100)}function Hn(e,t){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(N(e,"focus",e,t),e.state.focused=!0,s(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),Sa&&setTimeout(function(){return e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),In(e))}function Bn(e,t){e.state.delayingBlurEvent||(e.state.focused&&(N(e,"blur",e,t),e.state.focused=!1,Ra(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function Wn(e){for(var t=e.display,n=t.lineDiv.offsetTop,r=0;r<t.view.length;r++){var i=t.view[r],o=e.options.lineWrapping,a=void 0,s=0;if(!i.hidden){if(ka&&Ca<8){var l=i.node.offsetTop+i.node.offsetHeight;a=l-n,n=l}else{var u=i.node.getBoundingClientRect();a=u.bottom-u.top,!o&&i.text.firstChild&&(s=i.text.firstChild.getBoundingClientRect().right-u.left-1)}var c=i.line.height-a;if((c>.005||c<-.005)&&(ne(i.line,a),qn(i.line),i.rest))for(var f=0;f<i.rest.length;f++)qn(i.rest[f]);if(s>e.display.sizerWidth){var d=Math.ceil(s/xn(e.display));d>e.display.maxLineLength&&(e.display.maxLineLength=d,e.display.maxLine=i.line,e.display.maxLineChanged=!0)}}}}function qn(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var n=e.widgets[t],r=n.node.parentNode;r&&(n.height=r.offsetHeight)}}function Un(e,t,n){var r=n&&null!=n.top?Math.max(0,n.top):e.scroller.scrollTop;r=Math.floor(r-Ft(e));var i=n&&null!=n.bottom?n.bottom:r+e.wrapper.clientHeight,o=ie(t,r),a=ie(t,i);if(n&&n.ensure){var s=n.ensure.from.line,l=n.ensure.to.line;s<o?(o=s,a=ie(t,nt(Q(t,s))+e.wrapper.clientHeight)):Math.min(l,t.lastLine())>=a&&(o=ie(t,nt(Q(t,l))-e.wrapper.clientHeight),a=l)}return{from:o,to:Math.max(a,o+1)}}function Vn(e,t){if(!P(e,"scrollCursorIntoView")){var n=e.display,i=n.sizer.getBoundingClientRect(),o=null;if(t.top+i.top<0?o=!0:t.bottom+i.top>(window.innerHeight||document.documentElement.clientHeight)&&(o=!1),null!=o&&!Aa){var a=r("div","\u200b",null,"position: absolute;\n                         top: "+(t.top-n.viewOffset-Ft(e.display))+"px;\n                         height: "+(t.bottom-t.top+$t(e)+n.barHeight)+"px;\n                         left: "+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(a),a.scrollIntoView(o),e.display.lineSpace.removeChild(a)}}}function Gn(e,t,n,r){var i;null==r&&(r=0),e.options.lineWrapping||t!=n||(n="before"==(t=t.ch?se(t.line,"before"==t.sticky?t.ch-1:t.ch,"after"):t).sticky?se(t.line,t.ch+1,"before"):t);for(var o=0;o<5;o++){var a=!1,s=un(e,t),l=n&&n!=t?un(e,n):s,u=Xn(e,i={left:Math.min(s.left,l.left),top:Math.min(s.top,l.top)-r,right:Math.max(s.left,l.left),bottom:Math.max(s.bottom,l.bottom)+r}),c=e.doc.scrollTop,f=e.doc.scrollLeft;if(null!=u.scrollTop&&(nr(e,u.scrollTop),Math.abs(e.doc.scrollTop-c)>1&&(a=!0)),null!=u.scrollLeft&&(ir(e,u.scrollLeft),Math.abs(e.doc.scrollLeft-f)>1&&(a=!0)),!a)break}return i}function Kn(e,t){var n=Xn(e,t);null!=n.scrollTop&&nr(e,n.scrollTop),null!=n.scrollLeft&&ir(e,n.scrollLeft)}function Xn(e,t){var n=e.display,r=bn(e.display);t.top<0&&(t.top=0);var i=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:n.scroller.scrollTop,o=Ht(e),a={};t.bottom-t.top>o&&(t.bottom=t.top+o);var s=e.doc.height+zt(n),l=t.top<r,u=t.bottom>s-r;if(t.top<i)a.scrollTop=l?0:t.top;else if(t.bottom>i+o){var c=Math.min(t.top,(u?s:t.bottom)-o);c!=i&&(a.scrollTop=c)}var f=e.options.fixedGutter?0:n.gutters.offsetWidth,d=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:n.scroller.scrollLeft-f,p=Rt(e)-n.gutters.offsetWidth,h=t.right-t.left>p;return h&&(t.right=t.left+p),t.left<10?a.scrollLeft=0:t.left<d?a.scrollLeft=Math.max(0,t.left+f-(h?0:10)):t.right>p+d-3&&(a.scrollLeft=t.right+(h?0:10)-p),a}function Yn(e,t){null!=t&&(er(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+t)}function Jn(e){er(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function Zn(e,t,n){null==t&&null==n||er(e),null!=t&&(e.curOp.scrollLeft=t),null!=n&&(e.curOp.scrollTop=n)}function Qn(e,t){er(e),e.curOp.scrollToPos=t}function er(e){var t=e.curOp.scrollToPos,n,r;t&&(e.curOp.scrollToPos=null,tr(e,cn(e,t.from),cn(e,t.to),t.margin))}function tr(e,t,n,r){var i=Xn(e,{left:Math.min(t.left,n.left),top:Math.min(t.top,n.top)-r,right:Math.max(t.right,n.right),bottom:Math.max(t.bottom,n.bottom)+r});Zn(e,i.scrollLeft,i.scrollTop)}function nr(e,t){Math.abs(e.doc.scrollTop-t)<2||(ya||Lr(e,{top:t}),rr(e,t,!0),ya&&Lr(e),wr(e,100))}function rr(e,t,n){t=Math.max(0,Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t)),(e.display.scroller.scrollTop!=t||n)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function ir(e,t,n,r){t=Math.max(0,Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth)),(n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!r||(e.doc.scrollLeft=t,Pr(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function or(e){var t=e.display,n=t.gutters.offsetWidth,r=Math.round(e.doc.height+zt(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?n:0,docHeight:r,scrollHeight:r+$t(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:n}}function ar(e,t){t||(t=or(e));var n=e.display.barWidth,r=e.display.barHeight;sr(e,t);for(var i=0;i<4&&n!=e.display.barWidth||r!=e.display.barHeight;i++)n!=e.display.barWidth&&e.options.lineWrapping&&Wn(e),sr(e,or(e)),n=e.display.barWidth,r=e.display.barHeight}function sr(e,t){var n=e.display,r=n.scrollbars.update(t);n.sizer.style.paddingRight=(n.barWidth=r.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=r.bottom)+"px",n.heightForcer.style.borderBottom=r.bottom+"px solid transparent",r.right&&r.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=r.bottom+"px",n.scrollbarFiller.style.width=r.right+"px"):n.scrollbarFiller.style.display="",r.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=r.bottom+"px",n.gutterFiller.style.width=t.gutterWidth+"px"):n.gutterFiller.style.display=""}function lr(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&Ra(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new Ls[e.options.scrollbarStyle](function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),ts(t,"mousedown",function(){e.state.focused&&setTimeout(function(){return e.display.input.focus()},0)}),t.setAttribute("cm-not-content","true")},function(t,n){"horizontal"==n?ir(e,t):nr(e,t)},e),e.display.scrollbars.addClass&&s(e.display.wrapper,e.display.scrollbars.addClass)}function ur(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Ms},vt(e.curOp)}function cr(e){var t=e.curOp;t&&bt(t,function(e){for(var t=0;t<e.ops.length;t++)e.ops[t].cm.curOp=null;fr(e)})}function fr(e){for(var t=e.ops,n=0;n<t.length;n++)dr(t[n]);for(var r=0;r<t.length;r++)pr(t[r]);for(var i=0;i<t.length;i++)hr(t[i]);for(var o=0;o<t.length;o++)mr(t[o]);for(var a=0;a<t.length;a++)gr(t[a])}function dr(e){var t=e.cm,n=t.display;Cr(t),e.updateMaxLine&&it(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<n.viewFrom||e.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new As(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function pr(e){e.updatedDisplay=e.mustUpdate&&_r(e.cm,e.update)}function hr(e){var t=e.cm,n=t.display;e.updatedDisplay&&Wn(t),e.barMeasure=or(t),n.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=Ut(t,n.maxLine,n.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+e.adjustWidthTo+$t(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo-Rt(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=n.input.prepareSelection())}function mr(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&ir(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var n=e.focus&&e.focus==a();e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,n),(e.updatedDisplay||e.startHeight!=t.doc.height)&&ar(t,e.barMeasure),e.updatedDisplay&&Nr(t,e.barMeasure),e.selectionChanged&&In(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),n&&$n(e.cm)}function gr(e){var t=e.cm,n=t.display,r=t.doc,i;(e.updatedDisplay&&Er(t,e.update),null==n.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null!=e.scrollTop&&rr(t,e.scrollTop,e.forceScroll),null!=e.scrollLeft&&ir(t,e.scrollLeft,!0,!0),e.scrollToPos)&&Vn(t,Gn(t,he(r,e.scrollToPos.from),he(r,e.scrollToPos.to),e.scrollToPos.margin));var o=e.maybeHiddenMarkers,a=e.maybeUnhiddenMarkers;if(o)for(var s=0;s<o.length;++s)o[s].lines.length||N(o[s],"hide");if(a)for(var l=0;l<a.length;++l)a[l].lines.length&&N(a[l],"unhide");n.wrapper.offsetHeight&&(r.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&N(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function vr(e,t){if(e.curOp)return t();ur(e);try{return t()}finally{cr(e)}}function yr(e,t){return function(){if(e.curOp)return t.apply(e,arguments);ur(e);try{return t.apply(e,arguments)}finally{cr(e)}}}function br(e){return function(){if(this.curOp)return e.apply(this,arguments);ur(this);try{return e.apply(this,arguments)}finally{cr(this)}}}function xr(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);ur(t);try{return e.apply(this,arguments)}finally{cr(t)}}}function wr(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,u(kr,e))}function kr(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var n=+new Date+e.options.workTime,r=be(e,t.highlightFrontier),i=[];t.iter(r.line,Math.min(t.first+t.size,e.display.viewTo+500),function(o){if(r.line>=e.display.viewFrom){var a=o.styles,s=o.text.length>e.options.maxHighlightLength?Y(t.mode,r.state):null,l=ve(e,o,r,!0);s&&(r.state=s),o.styles=l.styles;var u=o.styleClasses,c=l.classes;c?o.styleClasses=c:u&&(o.styleClasses=null);for(var f=!a||a.length!=o.styles.length||u!=c&&(!u||!c||u.bgClass!=c.bgClass||u.textClass!=c.textClass),d=0;!f&&d<a.length;++d)f=a[d]!=o.styles[d];f&&i.push(r.line),o.stateAfter=r.save(),r.nextLine()}else o.text.length<=e.options.maxHighlightLength&&xe(e,o.text,r),o.stateAfter=r.line%5==0?r.save():null,r.nextLine();if(+new Date>n)return wr(e,e.options.workDelay),!0}),t.highlightFrontier=r.line,t.modeFrontier=Math.max(t.modeFrontier,r.line),i.length&&vr(e,function(){for(var t=0;t<i.length;t++)Ln(e,i[t],"text")})}}function Cr(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=$t(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=$t(e)+"px",t.scrollbarsClipped=!0)}function Sr(e){if(e.hasFocus())return null;var t=a();if(!t||!o(e.display.lineDiv,t))return null;var n={activeElt:t};if(window.getSelection){var r=window.getSelection();r.anchorNode&&r.extend&&o(e.display.lineDiv,r.anchorNode)&&(n.anchorNode=r.anchorNode,n.anchorOffset=r.anchorOffset,n.focusNode=r.focusNode,n.focusOffset=r.focusOffset)}return n}function Tr(e){if(e&&e.activeElt&&e.activeElt!=a()&&(e.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(e.activeElt.nodeName)&&e.anchorNode&&o(document.body,e.anchorNode)&&o(document.body,e.focusNode))){var t=window.getSelection(),n=document.createRange();n.setEnd(e.anchorNode,e.anchorOffset),n.collapse(!1),t.removeAllRanges(),t.addRange(n),t.extend(e.focusNode,e.focusOffset)}}function _r(e,n){var r=e.display,i=e.doc;if(n.editorIsHidden)return Mn(e),!1;if(!n.force&&n.visible.from>=r.viewFrom&&n.visible.to<=r.viewTo&&(null==r.updateLineNumbers||r.updateLineNumbers>=r.viewTo)&&r.renderedView==r.view&&0==Pn(e))return!1;Or(e)&&(Mn(e),n.dims=wn(e));var o=i.first+i.size,a=Math.max(n.visible.from-e.options.viewportMargin,i.first),s=Math.min(o,n.visible.to+e.options.viewportMargin);r.viewFrom<a&&a-r.viewFrom<20&&(a=Math.max(i.first,r.viewFrom)),r.viewTo>s&&r.viewTo-s<20&&(s=Math.min(o,r.viewTo)),ys&&(a=Ze(e.doc,a),s=Qe(e.doc,s));var l=a!=r.viewFrom||s!=r.viewTo||r.lastWrapHeight!=n.wrapperHeight||r.lastWrapWidth!=n.wrapperWidth;Nn(e,a,s),r.viewOffset=nt(Q(e.doc,r.viewFrom)),e.display.mover.style.top=r.viewOffset+"px";var u=Pn(e);if(!l&&0==u&&!n.force&&r.renderedView==r.view&&(null==r.updateLineNumbers||r.updateLineNumbers>=r.viewTo))return!1;var c=Sr(e);return u>4&&(r.lineDiv.style.display="none"),Mr(e,r.updateLineNumbers,n.dims),u>4&&(r.lineDiv.style.display=""),r.renderedView=r.view,Tr(c),t(r.cursorDiv),t(r.selectionDiv),r.gutters.style.height=r.sizer.style.minHeight=0,l&&(r.lastWrapHeight=n.wrapperHeight,r.lastWrapWidth=n.wrapperWidth,wr(e,400)),r.updateLineNumbers=null,!0}function Er(e,t){for(var n=t.viewport,r=!0;;r=!1){if(r&&e.options.lineWrapping&&t.oldDisplayWidth!=Rt(e))r&&(t.visible=Un(e.display,e.doc,n));else if(n&&null!=n.top&&(n={top:Math.min(e.doc.height+zt(e.display)-Ht(e),n.top)}),t.visible=Un(e.display,e.doc,n),t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)break;if(!_r(e,t))break;Wn(e);var i=or(e);On(e),ar(e,i),Nr(e,i),t.force=!1}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function Lr(e,t){var n=new As(e,t);if(_r(e,n)){Wn(e),Er(e,n);var r=or(e);On(e),ar(e,r),Nr(e,r),n.finish()}}function Mr(e,n,r){function i(t){var n=t.nextSibling;return Sa&&ja&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),n}for(var o=e.display,a=e.options.lineNumbers,s=o.lineDiv,l=s.firstChild,u=o.view,c=o.viewFrom,f=0;f<u.length;f++){var p=u[f];if(p.hidden);else if(p.node&&p.node.parentNode==s){for(;l!=p.node;)l=i(l);var h=a&&null!=n&&n<=c&&p.lineNumber;p.changes&&(d(p.changes,"gutter")>-1&&(h=!1),kt(e,p,c,r)),h&&(t(p.lineNumber),p.lineNumber.appendChild(document.createTextNode(ae(e.options,c)))),l=p.node.nextSibling}else{var m=At(e,p,c,r);s.insertBefore(m,l)}c+=p.size}for(;l;)l=i(l)}function Ar(e){var t=e.gutters.offsetWidth;e.sizer.style.marginLeft=t+"px"}function Nr(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+$t(e)+"px"}function Pr(e){var t=e.display,n=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var r=kn(t)-t.scroller.scrollLeft+e.doc.scrollLeft,i=t.gutters.offsetWidth,o=r+"px",a=0;a<n.length;a++)if(!n[a].hidden){e.options.fixedGutter&&(n[a].gutter&&(n[a].gutter.style.left=o),n[a].gutterBackground&&(n[a].gutterBackground.style.left=o));var s=n[a].alignable;if(s)for(var l=0;l<s.length;l++)s[l].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=r+i+"px")}}function Or(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=ae(e.options,t.first+t.size-1),i=e.display;if(n.length!=i.lineNumChars){var o=i.measure.appendChild(r("div",[r("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),a=o.firstChild.offsetWidth,s=o.offsetWidth-a;return i.lineGutter.style.width="",i.lineNumInnerWidth=Math.max(a,i.lineGutter.offsetWidth-s)+1,i.lineNumWidth=i.lineNumInnerWidth+s,i.lineNumChars=i.lineNumInnerWidth?n.length:-1,i.lineGutter.style.width=i.lineNumWidth+"px",Ar(e.display),!0}return!1}function jr(e,t){for(var n=[],r=!1,i=0;i<e.length;i++){var o=e[i],a=null;if("string"!=typeof o&&(a=o.style,o=o.className),"CodeMirror-linenumbers"==o){if(!t)continue;r=!0}n.push({className:o,style:a})}return t&&!r&&n.push({className:"CodeMirror-linenumbers",style:null}),n}function Dr(e){var n=e.gutters,i=e.gutterSpecs;t(n),e.lineGutter=null;for(var o=0;o<i.length;++o){var a=i[o],s=a.className,l=a.style,u=n.appendChild(r("div",null,"CodeMirror-gutter "+s));l&&(u.style.cssText=l),"CodeMirror-linenumbers"==s&&(e.lineGutter=u,u.style.width=(e.lineNumWidth||1)+"px")}n.style.display=i.length?"":"none",Ar(e)}function Fr(e){Dr(e.display),En(e),Pr(e)}function zr(e,t,n,o){var a=this;this.input=n,a.scrollbarFiller=r("div",null,"CodeMirror-scrollbar-filler"),a.scrollbarFiller.setAttribute("cm-not-content","true"),a.gutterFiller=r("div",null,"CodeMirror-gutter-filler"),a.gutterFiller.setAttribute("cm-not-content","true"),a.lineDiv=i("div",null,"CodeMirror-code"),a.selectionDiv=r("div",null,null,"position: relative; z-index: 1"),a.cursorDiv=r("div",null,"CodeMirror-cursors"),a.measure=r("div",null,"CodeMirror-measure"),a.lineMeasure=r("div",null,"CodeMirror-measure"),a.lineSpace=i("div",[a.measure,a.lineMeasure,a.selectionDiv,a.cursorDiv,a.lineDiv],null,"position: relative; outline: none");var s=i("div",[a.lineSpace],"CodeMirror-lines");a.mover=r("div",[s],null,"position: relative"),a.sizer=r("div",[a.mover],"CodeMirror-sizer"),a.sizerWidth=null,a.heightForcer=r("div",null,null,"position: absolute; height: "+qa+"px; width: 1px;"),a.gutters=r("div",null,"CodeMirror-gutters"),a.lineGutter=null,a.scroller=r("div",[a.sizer,a.heightForcer,a.gutters],"CodeMirror-scroll"),a.scroller.setAttribute("tabIndex","-1"),a.wrapper=r("div",[a.scrollbarFiller,a.gutterFiller,a.scroller],"CodeMirror"),ka&&Ca<8&&(a.gutters.style.zIndex=-1,a.scroller.style.paddingRight=0),Sa||ya&&Oa||(a.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(a.wrapper):e(a.wrapper)),a.viewFrom=a.viewTo=t.first,a.reportedViewFrom=a.reportedViewTo=t.first,a.view=[],a.renderedView=null,a.externalMeasured=null,a.viewOffset=0,a.lastWrapHeight=a.lastWrapWidth=0,a.updateLineNumbers=null,a.nativeBarWidth=a.barHeight=a.barWidth=0,a.scrollbarsClipped=!1,a.lineNumWidth=a.lineNumInnerWidth=a.lineNumChars=null,a.alignWidgets=!1,a.cachedCharWidth=a.cachedTextHeight=a.cachedPaddingH=null,a.maxLine=null,a.maxLineLength=0,a.maxLineChanged=!1,a.wheelDX=a.wheelDY=a.wheelStartX=a.wheelStartY=null,a.shift=!1,a.selForContextMenu=null,a.activeTouch=null,a.gutterSpecs=jr(o.gutters,o.lineNumbers),Dr(a),n.init(a)}function Ir(e){var t=e.wheelDeltaX,n=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==n&&e.detail&&e.axis==e.VERTICAL_AXIS?n=e.detail:null==n&&(n=e.wheelDelta),{x:t,y:n}}function $r(e){var t=Ir(e);return t.x*=Ps,t.y*=Ps,t}function Rr(e,t){var n=Ir(t),r=n.x,i=n.y,o=e.display,a=o.scroller,s=a.scrollWidth>a.clientWidth,l=a.scrollHeight>a.clientHeight;if(r&&s||i&&l){if(i&&ja&&Sa)e:for(var u=t.target,c=o.view;u!=a;u=u.parentNode)for(var f=0;f<c.length;f++)if(c[f].node==u){e.display.currentWheelTarget=u;break e}if(r&&!ya&&!Ea&&null!=Ps)return i&&l&&nr(e,Math.max(0,a.scrollTop+i*Ps)),ir(e,Math.max(0,a.scrollLeft+r*Ps)),(!i||i&&l)&&F(t),void(o.wheelStartX=null);if(i&&null!=Ps){var d=i*Ps,p=e.doc.scrollTop,h=p+o.wrapper.clientHeight;d<0?p=Math.max(0,p+d-50):h=Math.min(e.doc.height,h+d+50),Lr(e,{top:p,bottom:h})}Ns<20&&(null==o.wheelStartX?(o.wheelStartX=a.scrollLeft,o.wheelStartY=a.scrollTop,o.wheelDX=r,o.wheelDY=i,setTimeout(function(){if(null!=o.wheelStartX){var e=a.scrollLeft-o.wheelStartX,t=a.scrollTop-o.wheelStartY,n=t&&o.wheelDY&&t/o.wheelDY||e&&o.wheelDX&&e/o.wheelDX;o.wheelStartX=o.wheelStartY=null,n&&(Ps=(Ps*Ns+n)/(Ns+1),++Ns)}},200)):(o.wheelDX+=r,o.wheelDY+=i))}}function Hr(e,t,n){var r=e&&e.options.selectionsMayTouch,i=t[n];t.sort(function(e,t){return le(e.from(),t.from())}),n=d(t,i);for(var o=1;o<t.length;o++){var a=t[o],s=t[o-1],l=le(s.to(),a.from());if(r&&!a.empty()?l>0:l>=0){var u=de(s.from(),a.from()),c=fe(s.to(),a.to()),f=s.empty()?a.from()==a.head:s.from()==s.head;o<=n&&--n,t.splice(--o,2,new js(f?c:u,f?u:c))}}return new Os(t,n)}function Br(e,t){return new Os([new js(e,t||e)],0)}function Wr(e){return e.text?se(e.from.line+e.text.length-1,m(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function qr(e,t){if(le(e,t.from)<0)return e;if(le(e,t.to)<=0)return Wr(t);var n=e.line+t.text.length-(t.to.line-t.from.line)-1,r=e.ch;return e.line==t.to.line&&(r+=Wr(t).ch-t.to.ch),se(n,r)}function Ur(e,t){for(var n=[],r=0;r<e.sel.ranges.length;r++){var i=e.sel.ranges[r];n.push(new js(qr(i.anchor,t),qr(i.head,t)))}return Hr(e.cm,n,e.sel.primIndex)}function Vr(e,t,n){return e.line==t.line?se(n.line,e.ch-t.ch+n.ch):se(n.line+(e.line-t.line),e.ch)}function Gr(e,t,n){for(var r=[],i=se(e.first,0),o=i,a=0;a<t.length;a++){var s=t[a],l=Vr(s.from,i,o),u=Vr(Wr(s),i,o);if(i=s.to,o=u,"around"==n){var c=e.sel.ranges[a],f=le(c.head,c.anchor)<0;r[a]=new js(f?u:l,f?l:u)}else r[a]=new js(l,l)}return new Os(r,e.sel.primIndex)}function Kr(e){e.doc.mode=K(e.options,e.doc.modeOption),Xr(e)}function Xr(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,wr(e,100),e.state.modeGen++,e.curOp&&En(e)}function Yr(e,t){return 0==t.from.ch&&0==t.to.ch&&""==m(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Jr(e,t,n,r){function i(e){return n?n[e]:null}function o(e,n,i){ot(e,n,i,r),xt(e,"change",e,t)}function a(e,t){for(var n=[],o=e;o<t;++o)n.push(new bs(u[o],i(o),r));return n}var s=t.from,l=t.to,u=t.text,c=Q(e,s.line),f=Q(e,l.line),d=m(u),p=i(u.length-1),h=l.line-s.line;if(t.full)e.insert(0,a(0,u.length)),e.remove(u.length,e.size-u.length);else if(Yr(e,t)){var g=a(0,u.length-1);o(f,f.text,p),h&&e.remove(s.line,h),g.length&&e.insert(s.line,g)}else if(c==f)if(1==u.length)o(c,c.text.slice(0,s.ch)+d+c.text.slice(l.ch),p);else{var v=a(1,u.length-1);v.push(new bs(d+c.text.slice(l.ch),p,r)),o(c,c.text.slice(0,s.ch)+u[0],i(0)),e.insert(s.line+1,v)}else if(1==u.length)o(c,c.text.slice(0,s.ch)+u[0]+f.text.slice(l.ch),i(0)),e.remove(s.line+1,h);else{o(c,c.text.slice(0,s.ch)+u[0],i(0)),o(f,d+f.text.slice(l.ch),p);var y=a(1,u.length-1);h>1&&e.remove(s.line+1,h-1),e.insert(s.line+1,y)}xt(e,"change",e,t)}function Zr(e,t,n){function r(e,i,o){if(e.linked)for(var a=0;a<e.linked.length;++a){var s=e.linked[a];if(s.doc!=i){var l=o&&s.sharedHist;n&&!l||(t(s.doc,l),r(s.doc,e,l))}}}r(e,null,!0)}function Qr(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,Sn(e),Kr(e),ei(e),e.options.lineWrapping||it(e),e.options.mode=t.modeOption,En(e)}function ei(e){("rtl"==e.doc.direction?s:Ra)(e.display.lineDiv,"CodeMirror-rtl")}function ti(e){vr(e,function(){ei(e),En(e)})}function ni(e){this.done=[],this.undone=[],this.undoDepth=Infinity,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function ri(e,t){var n={from:ce(t.from),to:Wr(t),text:ee(e,t.from,t.to)};return ci(e,n,t.from.line,t.to.line+1),Zr(e,function(e){return ci(e,n,t.from.line,t.to.line+1)},!0),n}function ii(e){for(;e.length;){var t;if(!m(e).ranges)break;e.pop()}}function oi(e,t){return t?(ii(e.done),m(e.done)):e.done.length&&!m(e.done).ranges?m(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),m(e.done)):void 0}function ai(e,t,n,r){var i=e.history;i.undone.length=0;var o=+new Date,a,s;if((i.lastOp==r||i.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&i.lastModTime>o-(e.cm?e.cm.options.historyEventDelay:500)||"*"==t.origin.charAt(0)))&&(a=oi(i,i.lastOp==r)))s=m(a.changes),0==le(t.from,t.to)&&0==le(t.from,s.to)?s.to=Wr(t):a.changes.push(ri(e,t));else{var l=m(i.done);for(l&&l.ranges||ui(e.sel,i.done),a={changes:[ri(e,t)],generation:i.generation},i.done.push(a);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(n),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=o,i.lastOp=i.lastSelOp=r,i.lastOrigin=i.lastSelOrigin=t.origin,s||N(e,"historyAdded")}function si(e,t,n,r){var i=t.charAt(0);return"*"==i||"+"==i&&n.ranges.length==r.ranges.length&&n.somethingSelected()==r.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function li(e,t,n,r){var i=e.history,o=r&&r.origin;n==i.lastSelOp||o&&i.lastSelOrigin==o&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==o||si(e,o,m(i.done),t))?i.done[i.done.length-1]=t:ui(t,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=o,i.lastSelOp=n,r&&!1!==r.clearRedo&&ii(i.undone)}function ui(e,t){var n=m(t);n&&n.ranges&&n.equals(e)||t.push(e)}function ci(e,t,n,r){var i=t["spans_"+e.id],o=0;e.iter(Math.max(e.first,n),Math.min(e.first+e.size,r),function(n){n.markedSpans&&((i||(i=t["spans_"+e.id]={}))[o]=n.markedSpans),++o})}function fi(e){if(!e)return null;for(var t,n=0;n<e.length;++n)e[n].marker.explicitlyCleared?t||(t=e.slice(0,n)):t&&t.push(e[n]);return t?t.length?t:null:e}function di(e,t){var n=t["spans_"+e.id];if(!n)return null;for(var r=[],i=0;i<t.text.length;++i)r.push(fi(n[i]));return r}function pi(e,t){var n=di(e,t),r=Fe(e,t);if(!n)return r;if(!r)return n;for(var i=0;i<n.length;++i){var o=n[i],a=r[i];if(o&&a)e:for(var s=0;s<a.length;++s){for(var l=a[s],u=0;u<o.length;++u)if(o[u].marker==l.marker)continue e;o.push(l)}else a&&(n[i]=a)}return n}function hi(e,t,n){for(var r=[],i=0;i<e.length;++i){var o=e[i];if(o.ranges)r.push(n?Os.prototype.deepCopy.call(o):o);else{var a=o.changes,s=[];r.push({changes:s});for(var l=0;l<a.length;++l){var u=a[l],c=void 0;if(s.push({from:u.from,to:u.to,text:u.text}),t)for(var f in u)(c=f.match(/^spans_(\d+)$/))&&d(t,Number(c[1]))>-1&&(m(s)[f]=u[f],delete u[f])}}}return r}function mi(e,t,n,r){if(r){var i=e.anchor;if(n){var o=le(t,i)<0;o!=le(n,i)<0?(i=t,t=n):o!=le(t,n)<0&&(t=n)}return new js(i,t)}return new js(n||t,t)}function gi(e,t,n,r,i){null==i&&(i=e.cm&&(e.cm.display.shift||e.extend)),ki(e,new Os([mi(e.sel.primary(),t,n,i)],0),r)}function vi(e,t,n){for(var r=[],i=e.cm&&(e.cm.display.shift||e.extend),o=0;o<e.sel.ranges.length;o++)r[o]=mi(e.sel.ranges[o],t[o],null,i);var a;ki(e,Hr(e.cm,r,e.sel.primIndex),n)}function yi(e,t,n,r){var i=e.sel.ranges.slice(0);i[t]=n,ki(e,Hr(e.cm,i,e.sel.primIndex),r)}function bi(e,t,n,r){ki(e,Br(t,n),r)}function xi(e,t,n){var r={ranges:t.ranges,update:function(t){this.ranges=[];for(var n=0;n<t.length;n++)this.ranges[n]=new js(he(e,t[n].anchor),he(e,t[n].head))},origin:n&&n.origin};return N(e,"beforeSelectionChange",e,r),e.cm&&N(e.cm,"beforeSelectionChange",e.cm,r),r.ranges!=t.ranges?Hr(e.cm,r.ranges,r.ranges.length-1):t}function wi(e,t,n){var r=e.history.done,i=m(r);i&&i.ranges?(r[r.length-1]=t,Ci(e,t,n)):ki(e,t,n)}function ki(e,t,n){Ci(e,t,n),li(e,e.sel,e.cm?e.cm.curOp.id:NaN,n)}function Ci(e,t,n){var r;(j(e,"beforeSelectionChange")||e.cm&&j(e.cm,"beforeSelectionChange"))&&(t=xi(e,t,n)),Si(e,_i(e,t,n&&n.bias||(le(t.primary().head,e.sel.primary().head)<0?-1:1),!0)),n&&!1===n.scroll||!e.cm||Jn(e.cm)}function Si(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=1,e.cm.curOp.selectionChanged=!0,O(e.cm)),xt(e,"cursorActivity",e))}function Ti(e){Si(e,_i(e,e.sel,null,!1))}function _i(e,t,n,r){for(var i,o=0;o<t.ranges.length;o++){var a=t.ranges[o],s=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[o],l=Li(e,a.anchor,s&&s.anchor,n,r),u=Li(e,a.head,s&&s.head,n,r);(i||l!=a.anchor||u!=a.head)&&(i||(i=t.ranges.slice(0,o)),i[o]=new js(l,u))}return i?Hr(e.cm,i,t.primIndex):t}function Ei(e,t,n,r,i){var o=Q(e,t.line);if(o.markedSpans)for(var a=0;a<o.markedSpans.length;++a){var s=o.markedSpans[a],l=s.marker,u="selectLeft"in l?!l.selectLeft:l.inclusiveLeft,c="selectRight"in l?!l.selectRight:l.inclusiveRight;if((null==s.from||(u?s.from<=t.ch:s.from<t.ch))&&(null==s.to||(c?s.to>=t.ch:s.to>t.ch))){if(i&&(N(l,"beforeCursorEnter"),l.explicitlyCleared)){if(o.markedSpans){--a;continue}break}if(!l.atomic)continue;if(n){var f=l.find(r<0?1:-1),d=void 0;if((r<0?c:u)&&(f=Mi(e,f,-r,f&&f.line==t.line?o:null)),f&&f.line==t.line&&(d=le(f,n))&&(r<0?d<0:d>0))return Ei(e,f,t,r,i)}var p=l.find(r<0?-1:1);return(r<0?u:c)&&(p=Mi(e,p,r,p.line==t.line?o:null)),p?Ei(e,p,t,r,i):null}}return t}function Li(e,t,n,r,i){var o=r||1,a=Ei(e,t,n,o,i)||!i&&Ei(e,t,n,o,!0)||Ei(e,t,n,-o,i)||!i&&Ei(e,t,n,-o,!0);return a||(e.cantEdit=!0,se(e.first,0))}function Mi(e,t,n,r){return n<0&&0==t.ch?t.line>e.first?he(e,se(t.line-1)):null:n>0&&t.ch==(r||Q(e,t.line)).text.length?t.line<e.first+e.size-1?se(t.line+1,0):null:new se(t.line,t.ch+n)}function Ai(e){e.setSelection(se(e.firstLine(),0),se(e.lastLine()),Va)}function Ni(e,t,n){var r={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return r.canceled=!0}};return n&&(r.update=function(t,n,i,o){t&&(r.from=he(e,t)),n&&(r.to=he(e,n)),i&&(r.text=i),o!==undefined&&(r.origin=o)}),N(e,"beforeChange",e,r),e.cm&&N(e.cm,"beforeChange",e.cm,r),r.canceled?(e.cm&&(e.cm.curOp.updateInput=2),null):{from:r.from,to:r.to,text:r.text,origin:r.origin}}function Pi(e,t,n){if(e.cm){if(!e.cm.curOp)return yr(e.cm,Pi)(e,t,n);if(e.cm.state.suppressEdits)return}if(!(j(e,"beforeChange")||e.cm&&j(e.cm,"beforeChange"))||(t=Ni(e,t,!0))){var r=vs&&!n&&Ie(e,t.from,t.to);if(r)for(var i=r.length-1;i>=0;--i)Oi(e,{from:r[i].from,to:r[i].to,text:i?[""]:t.text,origin:t.origin});else Oi(e,t)}}function Oi(e,t){if(1!=t.text.length||""!=t.text[0]||0!=le(t.from,t.to)){var n=Ur(e,t);ai(e,t,n,e.cm?e.cm.curOp.id:NaN),Fi(e,t,n,Fe(e,t));var r=[];Zr(e,function(e,n){n||-1!=d(r,e.history)||(Hi(e.history,t),r.push(e.history)),Fi(e,t,null,Fe(e,t))})}}function ji(e,t,n){var r=e.cm&&e.cm.state.suppressEdits;if(!r||n){for(var i=e.history,o,a=e.sel,s="undo"==t?i.done:i.undone,l="undo"==t?i.undone:i.done,u=0;u<s.length&&(o=s[u],n?!o.ranges||o.equals(e.sel):o.ranges);u++);if(u!=s.length){for(i.lastOrigin=i.lastSelOrigin=null;;){if(!(o=s.pop()).ranges){if(r)return void s.push(o);break}if(ui(o,l),n&&!o.equals(e.sel))return void ki(e,o,{clearRedo:!1});a=o}var c=[];ui(a,l),l.push({changes:c,generation:i.generation}),i.generation=o.generation||++i.maxGeneration;for(var f=j(e,"beforeChange")||e.cm&&j(e.cm,"beforeChange"),p=function(n){var r=o.changes[n];if(r.origin=t,f&&!Ni(e,r,!1))return s.length=0,{};c.push(ri(e,r));var i=n?Ur(e,r):m(s);Fi(e,r,i,pi(e,r)),!n&&e.cm&&e.cm.scrollIntoView({from:r.from,to:Wr(r)});var a=[];Zr(e,function(e,t){t||-1!=d(a,e.history)||(Hi(e.history,r),a.push(e.history)),Fi(e,r,null,pi(e,r))})},h=o.changes.length-1;h>=0;--h){var g=p(h);if(g)return g.v}}}}function Di(e,t){if(0!=t&&(e.first+=t,e.sel=new Os(g(e.sel.ranges,function(e){return new js(se(e.anchor.line+t,e.anchor.ch),se(e.head.line+t,e.head.ch))}),e.sel.primIndex),e.cm)){En(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,r=n.viewFrom;r<n.viewTo;r++)Ln(e.cm,r,"gutter")}}function Fi(e,t,n,r){if(e.cm&&!e.cm.curOp)return yr(e.cm,Fi)(e,t,n,r);if(t.to.line<e.first)Di(e,t.text.length-1-(t.to.line-t.from.line));else if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var i=t.text.length-1-(e.first-t.from.line);Di(e,i),t={from:se(e.first,0),to:se(t.to.line+i,t.to.ch),text:[m(t.text)],origin:t.origin}}var o=e.lastLine();t.to.line>o&&(t={from:t.from,to:se(o,Q(e,o).text.length),text:[t.text[0]],origin:t.origin}),t.removed=ee(e,t.from,t.to),n||(n=Ur(e,t)),e.cm?zi(e.cm,t,r):Jr(e,t,r),Ci(e,n,Va),e.cantEdit&&Li(e,se(e.firstLine(),0))&&(e.cantEdit=!1)}}function zi(e,t,n){var r=e.doc,i=e.display,o=t.from,a=t.to,s=!1,l=o.line;e.options.lineWrapping||(l=re(Xe(Q(r,o.line))),r.iter(l,a.line+1,function(e){if(e==i.maxLine)return s=!0,!0})),r.sel.contains(t.from,t.to)>-1&&O(e),Jr(r,t,n,Cn(e)),e.options.lineWrapping||(r.iter(l,o.line+t.text.length,function(e){var t=rt(e);t>i.maxLineLength&&(i.maxLine=e,i.maxLineLength=t,i.maxLineChanged=!0,s=!1)}),s&&(e.curOp.updateMaxLine=!0)),Ee(r,o.line),wr(e,400);var u=t.text.length-(a.line-o.line)-1;t.full?En(e):o.line!=a.line||1!=t.text.length||Yr(e.doc,t)?En(e,o.line,a.line+1,u):Ln(e,o.line,"text");var c=j(e,"changes"),f=j(e,"change");if(f||c){var d={from:o,to:a,text:t.text,removed:t.removed,origin:t.origin};f&&xt(e,"change",e,d),c&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(d)}e.display.selForContextMenu=null}function Ii(e,t,n,r,i){var o;r||(r=n),le(r,n)<0&&(n=(o=[r,n])[0],r=o[1]),"string"==typeof t&&(t=e.splitLines(t)),Pi(e,{from:n,to:r,text:t,origin:i})}function $i(e,t,n,r){n<e.line?e.line+=r:t<e.line&&(e.line=t,e.ch=0)}function Ri(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i],a=!0;if(o.ranges){o.copied||((o=e[i]=o.deepCopy()).copied=!0);for(var s=0;s<o.ranges.length;s++)$i(o.ranges[s].anchor,t,n,r),$i(o.ranges[s].head,t,n,r)}else{for(var l=0;l<o.changes.length;++l){var u=o.changes[l];if(n<u.from.line)u.from=se(u.from.line+r,u.from.ch),u.to=se(u.to.line+r,u.to.ch);else if(t<=u.to.line){a=!1;break}}a||(e.splice(0,i+1),i=0)}}}function Hi(e,t){var n=t.from.line,r=t.to.line,i=t.text.length-(r-n)-1;Ri(e.done,n,r,i),Ri(e.undone,n,r,i)}function Bi(e,t,n,r){var i=t,o=t;return"number"==typeof t?o=Q(e,pe(e,t)):i=re(t),null==i?null:(r(o,i)&&e.cm&&Ln(e.cm,i,n),o)}function Wi(e){this.lines=e,this.parent=null;for(var t=0,n=0;n<e.length;++n)e[n].parent=this,t+=e[n].height;this.height=t}function qi(e){this.children=e;for(var t=0,n=0,r=0;r<e.length;++r){var i=e[r];t+=i.chunkSize(),n+=i.height,i.parent=this}this.size=t,this.height=n,this.parent=null}function Ui(e,t,n){nt(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&Yn(e,n)}function Vi(e,t,n,r){var i=new Ds(e,n,r),o=e.cm;return o&&i.noHScroll&&(o.display.alignWidgets=!0),Bi(e,t,"widget",function(t){var n=t.widgets||(t.widgets=[]);if(null==i.insertAt?n.push(i):n.splice(Math.min(n.length-1,Math.max(0,i.insertAt)),0,i),i.line=t,o&&!et(e,t)){var r=nt(t)<e.scrollTop;ne(t,t.height+jt(i)),r&&Yn(o,i.height),o.curOp.forceUpdate=!0}return!0}),o&&xt(o,"lineWidgetAdded",o,i,"number"==typeof t?t:re(t)),i}function Gi(e,t,n,r,o){if(r&&r.shared)return Ki(e,t,n,r,o);if(e.cm&&!e.cm.curOp)return yr(e.cm,Gi)(e,t,n,r,o);var a=new zs(e,o),s=le(t,n);if(r&&c(r,a,!1),s>0||0==s&&!1!==a.clearWhenEmpty)return a;if(a.replacedWith&&(a.collapsed=!0,a.widgetNode=i("span",[a.replacedWith],"CodeMirror-widget"),r.handleMouseEvents||a.widgetNode.setAttribute("cm-ignore-events","true"),r.insertLeft&&(a.widgetNode.insertLeft=!0)),a.collapsed){if(Ke(e,t.line,t,n,a)||t.line!=n.line&&Ke(e,n.line,t,n,a))throw new Error("Inserting collapsed marker partially overlapping an existing one");Me()}a.addToHistory&&ai(e,{from:t,to:n,origin:"markText"},e.sel,NaN);var l=t.line,u=e.cm,f;if(e.iter(l,n.line+1,function(e){u&&a.collapsed&&!u.options.lineWrapping&&Xe(e)==u.display.maxLine&&(f=!0),a.collapsed&&l!=t.line&&ne(e,0),Oe(e,new Ae(a,l==t.line?t.ch:null,l==n.line?n.ch:null)),++l}),a.collapsed&&e.iter(t.line,n.line+1,function(t){et(e,t)&&ne(t,0)}),a.clearOnEnter&&ts(a,"beforeCursorEnter",function(){return a.clear()}),a.readOnly&&(Le(),(e.history.done.length||e.history.undone.length)&&e.clearHistory()),a.collapsed&&(a.id=++Fs,a.atomic=!0),u){if(f&&(u.curOp.updateMaxLine=!0),a.collapsed)En(u,t.line,n.line+1);else if(a.className||a.startStyle||a.endStyle||a.css||a.attributes||a.title)for(var d=t.line;d<=n.line;d++)Ln(u,d,"text");a.atomic&&Ti(u.doc),xt(u,"markerAdded",u,a)}return a}function Ki(e,t,n,r,i){(r=c(r)).shared=!1;var o=[Gi(e,t,n,r,i)],a=o[0],s=r.widgetNode;return Zr(e,function(e){s&&(r.widgetNode=s.cloneNode(!0)),o.push(Gi(e,he(e,t),he(e,n),r,i));for(var l=0;l<e.linked.length;++l)if(e.linked[l].isParent)return;a=m(o)}),new Is(o,a)}function Xi(e){return e.findMarks(se(e.first,0),e.clipPos(se(e.lastLine())),function(e){return e.parent})}function Yi(e,t){for(var n=0;n<t.length;n++){var r=t[n],i=r.find(),o=e.clipPos(i.from),a=e.clipPos(i.to);if(le(o,a)){var s=Gi(e,o,a,r.primary,r.primary.type);r.markers.push(s),s.parent=r}}}function Ji(e){for(var t=function(t){var n=e[t],r=[n.primary.doc];Zr(n.primary.doc,function(e){return r.push(e)});for(var i=0;i<n.markers.length;i++){var o=n.markers[i];-1==d(r,o.doc)&&(o.parent=null,n.markers.splice(i--,1))}},n=0;n<e.length;n++)t(n)}function Zi(e){var t=this;if(to(t),!P(t,e)&&!Dt(t.display,e)){F(e),ka&&(Hs=+new Date);var n=Tn(t,e,!0),r=e.dataTransfer.files;if(n&&!t.isReadOnly())if(r&&r.length&&window.FileReader&&window.File)for(var i=r.length,o=Array(i),a=0,s=function(){++a==i&&yr(t,function(){var e={from:n=he(t.doc,n),to:n,text:t.doc.splitLines(o.filter(function(e){return null!=e}).join(t.doc.lineSeparator())),origin:"paste"};Pi(t.doc,e),wi(t.doc,Br(he(t.doc,n),he(t.doc,Wr(e))))})()},l=function(e,n){if(t.options.allowDropFileTypes&&-1==d(t.options.allowDropFileTypes,e.type))s();else{var r=new FileReader;r.onerror=function(){return s()},r.onload=function(){var e=r.result;/[\x00-\x08\x0e-\x1f]{2}/.test(e)?s():(o[n]=e,s())},r.readAsText(e)}},u=0;u<r.length;u++)l(r[u],u);else{if(t.state.draggingText&&t.doc.sel.contains(n)>-1)return t.state.draggingText(e),void setTimeout(function(){return t.display.input.focus()},20);try{var c=e.dataTransfer.getData("Text");if(c){var f;if(t.state.draggingText&&!t.state.draggingText.copy&&(f=t.listSelections()),Ci(t.doc,Br(n,n)),f)for(var p=0;p<f.length;++p)Ii(t.doc,"",f[p].anchor,f[p].head,"drag");t.replaceSelection(c,"around","paste"),t.display.input.focus()}}catch(h){}}}}function Qi(e,t){if(ka&&(!e.state.draggingText||+new Date-Hs<100))$(t);else if(!P(e,t)&&!Dt(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!La)){var n=r("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",Ea&&(n.width=n.height=1,e.display.wrapper.appendChild(n),n._top=n.offsetTop),t.dataTransfer.setDragImage(n,0,0),Ea&&n.parentNode.removeChild(n)}}function eo(e,t){var i=Tn(e,t);if(i){var o=document.createDocumentFragment();Dn(e,i,o),e.display.dragCursor||(e.display.dragCursor=r("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),n(e.display.dragCursor,o)}}function to(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function no(e){if(document.getElementsByClassName){for(var t=document.getElementsByClassName("CodeMirror"),n=[],r=0;r<t.length;r++){var i=t[r].CodeMirror;i&&n.push(i)}n.length&&n[0].operation(function(){for(var t=0;t<n.length;t++)e(n[t])})}}function ro(){Bs||(io(),Bs=!0)}function io(){var e;ts(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null,no(oo)},100))}),ts(window,"blur",function(){return no(Bn)})}function oo(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize()}function ao(e){var t=e.split(/-(?!$)/),n,r,i,o;e=t[t.length-1];for(var a=0;a<t.length-1;a++){var s=t[a];if(/^(cmd|meta|m)$/i.test(s))o=!0;else if(/^a(lt)?$/i.test(s))n=!0;else if(/^(c|ctrl|control)$/i.test(s))r=!0;else{if(!/^s(hift)?$/i.test(s))throw new Error("Unrecognized modifier name: "+s);i=!0}}return n&&(e="Alt-"+e),r&&(e="Ctrl-"+e),o&&(e="Cmd-"+e),i&&(e="Shift-"+e),e}function so(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==r){delete e[n];continue}for(var i=g(n.split(" "),ao),o=0;o<i.length;o++){var a=void 0,s=void 0;o==i.length-1?(s=i.join(" "),a=r):(s=i.slice(0,o+1).join(" "),a="...");var l=t[s];if(l){if(l!=a)throw new Error("Inconsistent bindings for "+s)}else t[s]=a}delete e[n]}for(var u in t)e[u]=t[u];return e}function lo(e,t,n,r){var i=(t=po(t)).call?t.call(e,r):t[e];if(!1===i)return"nothing";if("..."===i)return"multi";if(null!=i&&n(i))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return lo(e,t.fallthrough,n,r);for(var o=0;o<t.fallthrough.length;o++){var a=lo(e,t.fallthrough[o],n,r);if(a)return a}}}function uo(e){var t="string"==typeof e?e:Ws[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function co(e,t,n){var r=e;return t.altKey&&"Alt"!=r&&(e="Alt-"+e),(Ia?t.metaKey:t.ctrlKey)&&"Ctrl"!=r&&(e="Ctrl-"+e),(Ia?t.ctrlKey:t.metaKey)&&"Mod"!=r&&(e="Cmd-"+e),!n&&t.shiftKey&&"Shift"!=r&&(e="Shift-"+e),e}function fo(e,t){if(Ea&&34==e.keyCode&&e.char)return!1;var n=Ws[e.keyCode];return null!=n&&!e.altGraphKey&&(3==e.keyCode&&e.code&&(n=e.code),co(n,e,t))}function po(e){return"string"==typeof e?Gs[e]:e}function ho(e,t){for(var n=e.doc.sel.ranges,r=[],i=0;i<n.length;i++){for(var o=t(n[i]);r.length&&le(o.from,m(r).to)<=0;){var a=r.pop();if(le(a.from,o.from)<0){o.from=a.from;break}}r.push(o)}vr(e,function(){for(var t=r.length-1;t>=0;t--)Ii(e.doc,"",r[t].from,r[t].to,"+delete");Jn(e)})}function mo(e,t,n){var r=S(e.text,t+n,n);return r<0||r>e.text.length?null:r}function go(e,t,n){var r=mo(e,t.ch,n);return null==r?null:new se(t.line,r,n<0?"after":"before")}function vo(e,t,n,r,i){if(e){"rtl"==t.doc.direction&&(i=-i);var o=L(n,t.doc.direction);if(o){var a=i<0?m(o):o[0],s,l=i<0==(1==a.level)?"after":"before",u;if(a.level>0||"rtl"==t.doc.direction){var c=Gt(t,n);u=i<0?n.text.length-1:0;var f=Kt(t,c,u).top;u=T(function(e){return Kt(t,c,e).top==f},i<0==(1==a.level)?a.from:a.to-1,u),"before"==l&&(u=mo(n,u,1))}else u=i<0?a.to:a.from;return new se(r,u,l)}}return new se(r,i<0?n.text.length:0,i<0?"before":"after")}function yo(e,t,n,r){var i=L(t,e.doc.direction);if(!i)return go(t,n,r);n.ch>=t.text.length?(n.ch=t.text.length,n.sticky="before"):n.ch<=0&&(n.ch=0,n.sticky="after");var o=E(i,n.ch,n.sticky),a=i[o];if("ltr"==e.doc.direction&&a.level%2==0&&(r>0?a.to>n.ch:a.from<n.ch))return go(t,n,r);var s=function(e,n){return mo(t,e instanceof se?e.ch:e,n)},l,u=function(n){return e.options.lineWrapping?(l=l||Gt(e,t),hn(e,t,l,n)):{begin:0,end:t.text.length}},c=u("before"==n.sticky?s(n,-1):n.ch);if("rtl"==e.doc.direction||1==a.level){var f=1==a.level==r<0,d=s(n,f?1:-1);if(null!=d&&(f?d<=a.to&&d<=c.end:d>=a.from&&d>=c.begin)){var p=f?"before":"after";return new se(n.line,d,p)}}var h=function(e,t,r){for(var o=function(e,t){return t?new se(n.line,s(e,1),"before"):new se(n.line,e,"after")};e>=0&&e<i.length;e+=t){var a=i[e],l=t>0==(1!=a.level),u=l?r.begin:s(r.end,-1);if(a.from<=u&&u<a.to)return o(u,l);if(u=l?a.from:s(a.to,-1),r.begin<=u&&u<r.end)return o(u,l)}},m=h(o+r,r,c);if(m)return m;var g=r>0?c.end:s(c.begin,-1);return null==g||r>0&&g==t.text.length||!(m=h(r>0?0:i.length-1,r,u(g)))?null:m}function bo(e,t){var n=Q(e.doc,t),r=Xe(n);return r!=n&&(t=re(r)),vo(!0,e,r,t,1)}function xo(e,t){var n=Q(e.doc,t),r=Ye(n);return r!=n&&(t=re(r)),vo(!0,e,n,t,-1)}function wo(e,t){var n=bo(e,t.line),r=Q(e.doc,n.line),i=L(r,e.doc.direction);if(!i||0==i[0].level){var o=Math.max(n.ch,r.text.search(/\S/)),a=t.line==n.line&&t.ch<=o&&t.ch;return se(n.line,a?0:o,n.sticky)}return n}function ko(e,t,n){if("string"==typeof t&&!(t=Ks[t]))return!1;e.display.input.ensurePolled();var r=e.display.shift,i=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),i=t(e)!=Ua}finally{e.display.shift=r,e.state.suppressEdits=!1}return i}function Co(e,t,n){for(var r=0;r<e.state.keyMaps.length;r++){var i=lo(t,e.state.keyMaps[r],n,e);if(i)return i}return e.options.extraKeys&&lo(t,e.options.extraKeys,n,e)||lo(t,e.options.keyMap,n,e)}function So(e,t,n,r){var i=e.state.keySeq;if(i){if(uo(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:Xs.set(50,function(){e.state.keySeq==i&&(e.state.keySeq=null,e.display.input.reset())}),To(e,i+" "+t,n,r))return!0}return To(e,t,n,r)}function To(e,t,n,r){var i=Co(e,t,r);return"multi"==i&&(e.state.keySeq=t),"handled"==i&&xt(e,"keyHandled",e,t,n),"handled"!=i&&"multi"!=i||(F(n),In(e)),!!i}function _o(e,t){var n=fo(t,!0);return!!n&&(t.shiftKey&&!e.state.keySeq?So(e,"Shift-"+n,t,function(t){return ko(e,t,!0)})||So(e,n,t,function(t){if("string"==typeof t?/^go[A-Z]/.test(t):t.motion)return ko(e,t)}):So(e,n,t,function(t){return ko(e,t)}))}function Eo(e,t,n){return So(e,"'"+n+"'",t,function(t){return ko(e,t,!0)})}function Lo(e){var t=this;if(!(e.target&&e.target!=t.display.input.getField()||(t.curOp.focus=a(),P(t,e)))){ka&&Ca<11&&27==e.keyCode&&(e.returnValue=!1);var n=e.keyCode;t.display.shift=16==n||e.shiftKey;var r=_o(t,e);Ea&&(Ys=r?n:null,!r&&88==n&&!ss&&(ja?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),ya&&!ja&&!r&&46==n&&e.shiftKey&&!e.ctrlKey&&document.execCommand&&document.execCommand("cut"),18!=n||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||Mo(t)}}function Mo(e){function t(e){18!=e.keyCode&&e.altKey||(Ra(n,"CodeMirror-crosshair"),A(document,"keyup",t),A(document,"mouseover",t))}var n=e.display.lineDiv;s(n,"CodeMirror-crosshair"),ts(document,"keyup",t),ts(document,"mouseover",t)}function Ao(e){16==e.keyCode&&(this.doc.sel.shift=!1),P(this,e)}function No(e){var t=this;if(!(e.target&&e.target!=t.display.input.getField()||Dt(t.display,e)||P(t,e)||e.ctrlKey&&!e.altKey||ja&&e.metaKey)){var n=e.keyCode,r=e.charCode;if(Ea&&n==Ys)return Ys=null,void F(e);if(!Ea||e.which&&!(e.which<10)||!_o(t,e)){var i=String.fromCharCode(null==r?n:r);"\b"!=i&&(Eo(t,e,i)||t.display.input.onKeyPress(e))}}}function Po(e,t){var n=+new Date;return el&&el.compare(n,e,t)?(Qs=el=null,"triple"):Qs&&Qs.compare(n,e,t)?(el=new Zs(n,e,t),Qs=null,"double"):(Qs=new Zs(n,e,t),el=null,"single")}function Oo(e){var t=this,n=t.display;if(!(P(t,e)||n.activeTouch&&n.input.supportsTouch()))if(n.input.ensurePolled(),n.shift=e.shiftKey,Dt(n,e))Sa||(n.scroller.draggable=!1,setTimeout(function(){return n.scroller.draggable=!0},100));else if(!Bo(t,e)){var r=Tn(t,e),i=H(e),o=r?Po(r,i):"single";window.focus(),1==i&&t.state.selectingText&&t.state.selectingText(e),r&&jo(t,i,r,o,e)||(1==i?r?Fo(t,r,o,e):R(e)==n.scroller&&F(e):2==i?(r&&gi(t.doc,r),setTimeout(function(){return n.input.focus()},20)):3==i&&($a?t.display.input.onContextMenu(e):Rn(t)))}}function jo(e,t,n,r,i){var o="Click";return"double"==r?o="Double"+o:"triple"==r&&(o="Triple"+o),So(e,co(o=(1==t?"Left":2==t?"Middle":"Right")+o,i),i,function(t){if("string"==typeof t&&(t=Ks[t]),!t)return!1;var r=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),r=t(e,n)!=Ua}finally{e.state.suppressEdits=!1}return r})}function Do(e,t,n){var r=e.getOption("configureMouse"),i=r?r(e,t,n):{};if(null==i.unit){var o=Da?n.shiftKey&&n.metaKey:n.altKey;i.unit=o?"rectangle":"single"==t?"char":"double"==t?"word":"line"}return(null==i.extend||e.doc.extend)&&(i.extend=e.doc.extend||n.shiftKey),null==i.addNew&&(i.addNew=ja?n.metaKey:n.ctrlKey),null==i.moveOnDrag&&(i.moveOnDrag=!(ja?n.altKey:n.ctrlKey)),i}function Fo(e,t,n,r){ka?setTimeout(u($n,e),0):e.curOp.focus=a();var i=Do(e,n,r),o=e.doc.sel,s;e.options.dragDrop&&ns&&!e.isReadOnly()&&"single"==n&&(s=o.contains(t))>-1&&(le((s=o.ranges[s]).from(),t)<0||t.xRel>0)&&(le(s.to(),t)>0||t.xRel<0)?zo(e,r,t,i):$o(e,r,t,i)}function zo(e,t,n,r){var i=e.display,o=!1,a=yr(e,function(t){Sa&&(i.scroller.draggable=!1),e.state.draggingText=!1,A(i.wrapper.ownerDocument,"mouseup",a),A(i.wrapper.ownerDocument,"mousemove",s),A(i.scroller,"dragstart",l),A(i.scroller,"drop",a),o||(F(t),r.addNew||gi(e.doc,n,null,null,r.extend),Sa&&!La||ka&&9==Ca?setTimeout(function(){i.wrapper.ownerDocument.body.focus({preventScroll:!0}),i.input.focus()},20):i.input.focus())}),s=function(e){o=o||Math.abs(t.clientX-e.clientX)+Math.abs(t.clientY-e.clientY)>=10},l=function(){return o=!0};Sa&&(i.scroller.draggable=!0),e.state.draggingText=a,a.copy=!r.moveOnDrag,i.scroller.dragDrop&&i.scroller.dragDrop(),ts(i.wrapper.ownerDocument,"mouseup",a),ts(i.wrapper.ownerDocument,"mousemove",s),ts(i.scroller,"dragstart",l),ts(i.scroller,"drop",a),Rn(e),setTimeout(function(){return i.input.focus()},20)}function Io(e,t,n){if("char"==n)return new js(t,t);if("word"==n)return e.findWordAt(t);if("line"==n)return new js(se(t.line,0),he(e.doc,se(t.line+1,0)));var r=n(e,t);return new js(r.from,r.to)}function $o(e,t,n,r){function i(t){if(0!=le(v,t))if(v=t,"rectangle"==r.unit){for(var i=[],o=e.options.tabSize,a=f(Q(u,n.line).text,n.ch,o),s=f(Q(u,t.line).text,t.ch,o),l=Math.min(a,s),m=Math.max(a,s),g=Math.min(n.line,t.line),y=Math.min(e.lastLine(),Math.max(n.line,t.line));g<=y;g++){var b=Q(u,g).text,x=p(b,l,o);l==m?i.push(new js(se(g,x),se(g,x))):b.length>x&&i.push(new js(se(g,x),se(g,p(b,m,o))))}i.length||i.push(new js(n,n)),ki(u,Hr(e,h.ranges.slice(0,d).concat(i),d),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var w=c,k=Io(e,t,r.unit),C=w.anchor,S;le(k.anchor,C)>0?(S=k.head,C=de(w.from(),k.anchor)):(S=k.anchor,C=fe(w.to(),k.head));var T=h.ranges.slice(0);T[d]=Ro(e,new js(he(u,C),S)),ki(u,Hr(e,T,d),Ga)}}function o(t){var n=++b,s=Tn(e,t,!0,"rectangle"==r.unit);if(s)if(0!=le(s,v)){e.curOp.focus=a(),i(s);var c=Un(l,u);(s.line>=c.to||s.line<c.from)&&setTimeout(yr(e,function(){b==n&&o(t)}),150)}else{var f=t.clientY<y.top?-20:t.clientY>y.bottom?20:0;f&&setTimeout(yr(e,function(){b==n&&(l.scroller.scrollTop+=f,o(t))}),50)}}function s(t){e.state.selectingText=!1,b=Infinity,t&&(F(t),l.input.focus()),A(l.wrapper.ownerDocument,"mousemove",x),A(l.wrapper.ownerDocument,"mouseup",w),u.history.lastSelOrigin=null}var l=e.display,u=e.doc;F(t);var c,d,h=u.sel,m=h.ranges;if(r.addNew&&!r.extend?(d=u.sel.contains(n),c=d>-1?m[d]:new js(n,n)):(c=u.sel.primary(),d=u.sel.primIndex),"rectangle"==r.unit)r.addNew||(c=new js(n,n)),n=Tn(e,t,!0,!0),d=-1;else{var g=Io(e,n,r.unit);c=r.extend?mi(c,g.anchor,g.head,r.extend):g}r.addNew?-1==d?(d=m.length,ki(u,Hr(e,m.concat([c]),d),{scroll:!1,origin:"*mouse"})):m.length>1&&m[d].empty()&&"char"==r.unit&&!r.extend?(ki(u,Hr(e,m.slice(0,d).concat(m.slice(d+1)),0),{scroll:!1,origin:"*mouse"}),h=u.sel):yi(u,d,c,Ga):(d=0,ki(u,new Os([c],0),Ga),h=u.sel);var v=n,y=l.wrapper.getBoundingClientRect(),b=0,x=yr(e,function(e){0!==e.buttons&&H(e)?o(e):s(e)}),w=yr(e,s);e.state.selectingText=w,ts(l.wrapper.ownerDocument,"mousemove",x),ts(l.wrapper.ownerDocument,"mouseup",w)}function Ro(e,t){var n=t.anchor,r=t.head,i=Q(e.doc,n.line);if(0==le(n,r)&&n.sticky==r.sticky)return t;var o=L(i);if(!o)return t;var a=E(o,n.ch,n.sticky),s=o[a];if(s.from!=n.ch&&s.to!=n.ch)return t;var l=a+(s.from==n.ch==(1!=s.level)?0:1),u;if(0==l||l==o.length)return t;if(r.line!=n.line)u=(r.line-n.line)*("ltr"==e.doc.direction?1:-1)>0;else{var c=E(o,r.ch,r.sticky),f=c-a||(r.ch-n.ch)*(1==s.level?-1:1);u=c==l-1||c==l?f<0:f>0}var d=o[l+(u?-1:0)],p=u==(1==d.level),h=p?d.from:d.to,m=p?"after":"before";return n.ch==h&&n.sticky==m?t:new js(new se(n.line,h,m),r)}function Ho(e,t,n,r){var i,o;if(t.touches)i=t.touches[0].clientX,o=t.touches[0].clientY;else try{i=t.clientX,o=t.clientY}catch(d){return!1}if(i>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;r&&F(t);var a=e.display,s=a.lineDiv.getBoundingClientRect();if(o>s.bottom||!j(e,n))return I(t);o-=s.top-a.viewOffset;for(var l=0;l<e.display.gutterSpecs.length;++l){var u=a.gutters.childNodes[l],c,f;if(u&&u.getBoundingClientRect().right>=i)return N(e,n,e,ie(e.doc,o),e.display.gutterSpecs[l].className,t),I(t)}}function Bo(e,t){return Ho(e,t,"gutterClick",!0)}function Wo(e,t){Dt(e.display,t)||qo(e,t)||P(e,t,"contextmenu")||$a||e.display.input.onContextMenu(t)}function qo(e,t){return!!j(e,"gutterContextMenu")&&Ho(e,t,"gutterContextMenu",!1)}function Uo(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),tn(e)}function Vo(e){function t(t,r,i,o){e.defaults[t]=r,i&&(n[t]=o?function(e,t,n){n!=tl&&i(e,t,n)}:i)}var n=e.optionHandlers;e.defineOption=t,e.Init=tl,t("value","",function(e,t){return e.setValue(t)},!0),t("mode",null,function(e,t){e.doc.modeOption=t,Kr(e)},!0),t("indentUnit",2,Kr,!0),t("indentWithTabs",!1),t("smartIndent",!0),t("tabSize",4,function(e){Xr(e),tn(e),En(e)},!0),t("lineSeparator",null,function(e,t){if(e.doc.lineSep=t,t){var n=[],r=e.doc.first;e.doc.iter(function(e){for(var i=0;;){var o=e.text.indexOf(t,i);if(-1==o)break;i=o+t.length,n.push(se(r,o))}r++});for(var i=n.length-1;i>=0;i--)Ii(e.doc,t,n[i],se(n[i].line,n[i].ch+t.length))}}),t("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200c\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,function(e,t,n){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),n!=tl&&e.refresh()}),t("specialCharPlaceholder",ut,function(e){return e.refresh()},!0),t("electricChars",!0),t("inputStyle",Oa?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),t("spellcheck",!1,function(e,t){return e.getInputField().spellcheck=t},!0),t("autocorrect",!1,function(e,t){return e.getInputField().autocorrect=t},!0),t("autocapitalize",!1,function(e,t){return e.getInputField().autocapitalize=t},!0),t("rtlMoveVisually",!Fa),t("wholeLineUpdateBefore",!0),t("theme","default",function(e){Uo(e),Fr(e)},!0),t("keyMap","default",function(e,t,n){var r=po(t),i=n!=tl&&po(n);i&&i.detach&&i.detach(e,r),r.attach&&r.attach(e,i||null)}),t("extraKeys",null),t("configureMouse",null),t("lineWrapping",!1,Ko,!0),t("gutters",[],function(e,t){e.display.gutterSpecs=jr(t,e.options.lineNumbers),Fr(e)},!0),t("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?kn(e.display)+"px":"0",e.refresh()},!0),t("coverGutterNextToScrollbar",!1,function(e){return ar(e)},!0),t("scrollbarStyle","native",function(e){lr(e),ar(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},!0),t("lineNumbers",!1,function(e,t){e.display.gutterSpecs=jr(e.options.gutters,t),Fr(e)},!0),t("firstLineNumber",1,Fr,!0),t("lineNumberFormatter",function(e){return e},Fr,!0),t("showCursorWhenSelecting",!1,On,!0),t("resetSelectionOnContextMenu",!0),t("lineWiseCopyCut",!0),t("pasteLinesPerSelection",!0),t("selectionsMayTouch",!1),t("readOnly",!1,function(e,t){"nocursor"==t&&(Bn(e),e.display.input.blur()),e.display.input.readOnlyChanged(t)}),t("screenReaderLabel",null,function(e,t){t=""===t?null:t,e.display.input.screenReaderLabelChanged(t)}),t("disableInput",!1,function(e,t){t||e.display.input.reset()},!0),t("dragDrop",!0,Go),t("allowDropFileTypes",null),t("cursorBlinkRate",530),t("cursorScrollMargin",0),t("cursorHeight",1,On,!0),t("singleCursorHeightPerLine",!0,On,!0),t("workTime",100),t("workDelay",100),t("flattenSpans",!0,Xr,!0),t("addModeClass",!1,Xr,!0),t("pollInterval",100),t("undoDepth",200,function(e,t){return e.doc.history.undoDepth=t}),t("historyEventDelay",1250),t("viewportMargin",10,function(e){return e.refresh()},!0),t("maxHighlightLength",1e4,Xr,!0),t("moveInputWithCursor",!0,function(e,t){t||e.display.input.resetPosition()}),t("tabindex",null,function(e,t){return e.display.input.getField().tabIndex=t||""}),t("autofocus",null),t("direction","ltr",function(e,t){return e.doc.setDirection(t)},!0),t("phrases",null)}function Go(e,t,n){var r;if(!t!=!(n&&n!=tl)){var i=e.display.dragFunctions,o=t?ts:A;o(e.display.scroller,"dragstart",i.start),o(e.display.scroller,"dragenter",i.enter),o(e.display.scroller,"dragover",i.over),o(e.display.scroller,"dragleave",i.leave),o(e.display.scroller,"drop",i.drop)}}function Ko(e){e.options.lineWrapping?(s(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(Ra(e.display.wrapper,"CodeMirror-wrap"),it(e)),Sn(e),En(e),tn(e),setTimeout(function(){return ar(e)},100)}function Xo(e,t){var n=this;if(!(this instanceof Xo))return new Xo(e,t);this.options=t=t?c(t):{},c(nl,t,!1);var r=t.value;"string"==typeof r?r=new Rs(r,t.mode,null,t.lineSeparator,t.direction):t.mode&&(r.modeOption=t.mode),this.doc=r;var i=new Xo.inputStyles[t.inputStyle](this),o=this.display=new zr(e,r,i,t);for(var a in o.wrapper.CodeMirror=this,Uo(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),lr(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new Wa,keySeq:null,specialChars:null},t.autofocus&&!Oa&&o.input.focus(),ka&&Ca<11&&setTimeout(function(){return n.display.input.reset(!0)},20),Yo(this),ro(),ur(this),this.curOp.forceUpdate=!0,Qr(this,r),t.autofocus&&!Oa||this.hasFocus()?setTimeout(function(){n.hasFocus()&&!n.state.focused&&Hn(n)},20):Bn(this),rl)rl.hasOwnProperty(a)&&rl[a](this,t[a],tl);Or(this),t.finishInit&&t.finishInit(this);for(var s=0;s<il.length;++s)il[s](this);cr(this),Sa&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering="auto")}function Yo(e){function t(){i.activeTouch&&(o=setTimeout(function(){return i.activeTouch=null},1e3),(a=i.activeTouch).end=+new Date)}function n(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}function r(e,t){if(null==t.left)return!0;var n=t.left-e.left,r=t.top-e.top;return n*n+r*r>400}var i=e.display;ts(i.scroller,"mousedown",yr(e,Oo)),ts(i.scroller,"dblclick",ka&&Ca<11?yr(e,function(t){if(!P(e,t)){var n=Tn(e,t);if(n&&!Bo(e,t)&&!Dt(e.display,t)){F(t);var r=e.findWordAt(n);gi(e.doc,r.anchor,r.head)}}}):function(t){return P(e,t)||F(t)}),ts(i.scroller,"contextmenu",function(t){return Wo(e,t)}),ts(i.input.getField(),"contextmenu",function(t){i.scroller.contains(t.target)||Wo(e,t)});var o,a={end:0};ts(i.scroller,"touchstart",function(t){if(!P(e,t)&&!n(t)&&!Bo(e,t)){i.input.ensurePolled(),clearTimeout(o);var r=+new Date;i.activeTouch={start:r,moved:!1,prev:r-a.end<=300?a:null},1==t.touches.length&&(i.activeTouch.left=t.touches[0].pageX,i.activeTouch.top=t.touches[0].pageY)}}),ts(i.scroller,"touchmove",function(){i.activeTouch&&(i.activeTouch.moved=!0)}),ts(i.scroller,"touchend",function(n){var o=i.activeTouch;if(o&&!Dt(i,n)&&null!=o.left&&!o.moved&&new Date-o.start<300){var a=e.coordsChar(i.activeTouch,"page"),s;s=!o.prev||r(o,o.prev)?new js(a,a):!o.prev.prev||r(o,o.prev.prev)?e.findWordAt(a):new js(se(a.line,0),he(e.doc,se(a.line+1,0))),e.setSelection(s.anchor,s.head),e.focus(),F(n)}t()}),ts(i.scroller,"touchcancel",t),ts(i.scroller,"scroll",function(){i.scroller.clientHeight&&(nr(e,i.scroller.scrollTop),ir(e,i.scroller.scrollLeft,!0),N(e,"scroll",e))}),ts(i.scroller,"mousewheel",function(t){return Rr(e,t)}),ts(i.scroller,"DOMMouseScroll",function(t){return Rr(e,t)}),ts(i.wrapper,"scroll",function(){return i.wrapper.scrollTop=i.wrapper.scrollLeft=0}),i.dragFunctions={enter:function(t){P(e,t)||$(t)},over:function(t){P(e,t)||(eo(e,t),$(t))},start:function(t){return Qi(e,t)},drop:yr(e,Zi),leave:function(t){P(e,t)||to(e)}};var s=i.input.getField();ts(s,"keyup",function(t){return Ao.call(e,t)}),ts(s,"keydown",yr(e,Lo)),ts(s,"keypress",yr(e,No)),ts(s,"focus",function(t){return Hn(e,t)}),ts(s,"blur",function(t){return Bn(e,t)})}function Jo(e,t,n,r){var i=e.doc,o;null==n&&(n="add"),"smart"==n&&(i.mode.indent?o=be(e,t).state:n="prev");var a=e.options.tabSize,s=Q(i,t),l=f(s.text,null,a);s.stateAfter&&(s.stateAfter=null);var u=s.text.match(/^\s*/)[0],c;if(r||/\S/.test(s.text)){if("smart"==n&&((c=i.mode.indent(o,s.text.slice(u.length),s.text))==Ua||c>150)){if(!r)return;n="prev"}}else c=0,n="not";"prev"==n?c=t>i.first?f(Q(i,t-1).text,null,a):0:"add"==n?c=l+e.options.indentUnit:"subtract"==n?c=l-e.options.indentUnit:"number"==typeof n&&(c=l+n),c=Math.max(0,c);var d="",p=0;if(e.options.indentWithTabs)for(var m=Math.floor(c/a);m;--m)p+=a,d+="\t";if(p<c&&(d+=h(c-p)),d!=u)return Ii(i,d,se(t,0),se(t,u.length),"+input"),s.stateAfter=null,!0;for(var g=0;g<i.sel.ranges.length;g++){var v=i.sel.ranges[g];if(v.head.line==t&&v.head.ch<u.length){var y=se(t,u.length);yi(i,g,new js(y,y));break}}}function Zo(e){ol=e}function Qo(e,t,n,r,i){var o=e.doc;e.display.shift=!1,r||(r=o.sel);var a=+new Date-200,s="paste"==i||e.state.pasteIncoming>a,l=os(t),u=null;if(s&&r.ranges.length>1)if(ol&&ol.text.join("\n")==t){if(r.ranges.length%ol.text.length==0){u=[];for(var c=0;c<ol.text.length;c++)u.push(o.splitLines(ol.text[c]))}}else l.length==r.ranges.length&&e.options.pasteLinesPerSelection&&(u=g(l,function(e){return[e]}));for(var f=e.curOp.updateInput,d=r.ranges.length-1;d>=0;d--){var p=r.ranges[d],h=p.from(),v=p.to();p.empty()&&(n&&n>0?h=se(h.line,h.ch-n):e.state.overwrite&&!s?v=se(v.line,Math.min(Q(o,v.line).text.length,v.ch+m(l).length)):s&&ol&&ol.lineWise&&ol.text.join("\n")==l.join("\n")&&(h=v=se(h.line,0)));var y={from:h,to:v,text:u?u[d%u.length]:l,origin:i||(s?"paste":e.state.cutIncoming>a?"cut":"+input")};Pi(e.doc,y),xt(e,"inputRead",e,y)}t&&!s&&ta(e,t),Jn(e),e.curOp.updateInput<2&&(e.curOp.updateInput=f),e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=-1}function ea(e,t){var n=e.clipboardData&&e.clipboardData.getData("Text");if(n)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||vr(t,function(){return Qo(t,n,0,null,"paste")}),!0}function ta(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var n=e.doc.sel,r=n.ranges.length-1;r>=0;r--){var i=n.ranges[r];if(!(i.head.ch>100||r&&n.ranges[r-1].head.line==i.head.line)){var o=e.getModeAt(i.head),a=!1;if(o.electricChars){for(var s=0;s<o.electricChars.length;s++)if(t.indexOf(o.electricChars.charAt(s))>-1){a=Jo(e,i.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(Q(e.doc,i.head.line).text.slice(0,i.head.ch))&&(a=Jo(e,i.head.line,"smart"));a&&xt(e,"electricInput",e,i.head.line)}}}function na(e){for(var t=[],n=[],r=0;r<e.doc.sel.ranges.length;r++){var i=e.doc.sel.ranges[r].head.line,o={anchor:se(i,0),head:se(i+1,0)};n.push(o),t.push(e.getRange(o.anchor,o.head))}return{text:t,ranges:n}}function ra(e,t,n,r){e.setAttribute("autocorrect",n?"":"off"),e.setAttribute("autocapitalize",r?"":"off"),e.setAttribute("spellcheck",!!t)}function ia(){var e=r("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),t=r("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return Sa?e.style.width="1000px":e.setAttribute("wrap","off"),Na&&(e.style.border="1px solid black"),ra(e),t}function oa(e){var t=e.optionHandlers,n=e.helpers={};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,n){var r=this.options,i=r[e];r[e]==n&&"mode"!=e||(r[e]=n,t.hasOwnProperty(e)&&yr(this,t[e])(this,n,i),N(this,"optionChange",this,e))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](po(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,n=0;n<t.length;++n)if(t[n]==e||t[n].name==e)return t.splice(n,1),!0},addOverlay:br(function(t,n){var r=t.token?t:e.getMode(this.options,t);if(r.startState)throw new Error("Overlays may not be stateful.");v(this.state.overlays,{mode:r,modeSpec:t,opaque:n&&n.opaque,priority:n&&n.priority||0},function(e){return e.priority}),this.state.modeGen++,En(this)}),removeOverlay:br(function(e){for(var t=this.state.overlays,n=0;n<t.length;++n){var r=t[n].modeSpec;if(r==e||"string"==typeof e&&r.name==e)return t.splice(n,1),this.state.modeGen++,void En(this)}}),indentLine:br(function(e,t,n){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),oe(this.doc,e)&&Jo(this,e,t,n)}),indentSelection:br(function(e){for(var t=this.doc.sel.ranges,n=-1,r=0;r<t.length;r++){var i=t[r];if(i.empty())i.head.line>n&&(Jo(this,i.head.line,e,!0),n=i.head.line,r==this.doc.sel.primIndex&&Jn(this));else{var o=i.from(),a=i.to(),s=Math.max(n,o.line);n=Math.min(this.lastLine(),a.line-(a.ch?0:1))+1;for(var l=s;l<n;++l)Jo(this,l,e);var u=this.doc.sel.ranges;0==o.ch&&t.length==u.length&&u[r].from().ch>0&&yi(this.doc,r,new js(o,u[r].to()),Va)}}}),getTokenAt:function(e,t){return Ce(this,e,t)},getLineTokens:function(e,t){return Ce(this,se(e),t,!0)},getTokenTypeAt:function(e){e=he(this.doc,e);var t=ye(this,Q(this.doc,e.line)),n=0,r=(t.length-1)/2,i=e.ch,o;if(0==i)o=t[2];else for(;;){var a=n+r>>1;if((a?t[2*a-1]:0)>=i)r=a;else{if(!(t[2*a+1]<i)){o=t[2*a+2];break}n=a+1}}var s=o?o.indexOf("overlay "):-1;return s<0?o:0==s?null:o.slice(0,s-1)},getModeAt:function(t){var n=this.doc.mode;return n.innerMode?e.innerMode(n,this.getTokenAt(t).state).mode:n},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var r=[];if(!n.hasOwnProperty(t))return r;var i=n[t],o=this.getModeAt(e);if("string"==typeof o[t])i[o[t]]&&r.push(i[o[t]]);else if(o[t])for(var a=0;a<o[t].length;a++){var s=i[o[t][a]];s&&r.push(s)}else o.helperType&&i[o.helperType]?r.push(i[o.helperType]):i[o.name]&&r.push(i[o.name]);for(var l=0;l<i._global.length;l++){var u=i._global[l];u.pred(o,this)&&-1==d(r,u.val)&&r.push(u.val)}return r},getStateAfter:function(e,t){var n=this.doc;return be(this,(e=pe(n,null==e?n.first+n.size-1:e))+1,t).state},cursorCoords:function(e,t){var n,r=this.doc.sel.primary();return un(this,n=null==e?r.head:"object"==typeof e?he(this.doc,e):e?r.from():r.to(),t||"page")},charCoords:function(e,t){return ln(this,he(this.doc,e),t||"page")},coordsChar:function(e,t){return dn(this,(e=sn(this,e,t||"page")).left,e.top)},lineAtHeight:function(e,t){return e=sn(this,{top:e,left:0},t||"page").top,ie(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t,n){var r=!1,i;if("number"==typeof e){var o=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>o&&(e=o,r=!0),i=Q(this.doc,e)}else i=e;return an(this,i,{top:0,left:0},t||"page",n||r).top+(r?this.doc.height-nt(i):0)},defaultTextHeight:function(){return bn(this.display)},defaultCharWidth:function(){return xn(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,n,r,i){var o=this.display,a=(e=un(this,he(this.doc,e))).bottom,s=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),o.sizer.appendChild(t),"over"==r)a=e.top;else if("above"==r||"near"==r){var l=Math.max(o.wrapper.clientHeight,this.doc.height),u=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);("above"==r||e.bottom+t.offsetHeight>l)&&e.top>t.offsetHeight?a=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=l&&(a=e.bottom),s+t.offsetWidth>u&&(s=u-t.offsetWidth)}t.style.top=a+"px",t.style.left=t.style.right="","right"==i?(s=o.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==i?s=0:"middle"==i&&(s=(o.sizer.clientWidth-t.offsetWidth)/2),t.style.left=s+"px"),n&&Kn(this,{left:s,top:a,right:s+t.offsetWidth,bottom:a+t.offsetHeight})},triggerOnKeyDown:br(Lo),triggerOnKeyPress:br(No),triggerOnKeyUp:Ao,triggerOnMouseDown:br(Oo),execCommand:function(e){if(Ks.hasOwnProperty(e))return Ks[e].call(null,this)},triggerElectric:br(function(e){ta(this,e)}),findPosH:function(e,t,n,r){var i=1;t<0&&(i=-1,t=-t);for(var o=he(this.doc,e),a=0;a<t&&!(o=aa(this.doc,o,i,n,r)).hitSide;++a);return o},moveH:br(function(e,t){var n=this;this.extendSelectionsBy(function(r){return n.display.shift||n.doc.extend||r.empty()?aa(n.doc,r.head,e,t,n.options.rtlMoveVisually):e<0?r.from():r.to()},Ka)}),deleteH:br(function(e,t){var n=this.doc.sel,r=this.doc;n.somethingSelected()?r.replaceSelection("",null,"+delete"):ho(this,function(n){var i=aa(r,n.head,e,t,!1);return e<0?{from:i,to:n.head}:{from:n.head,to:i}})}),findPosV:function(e,t,n,r){var i=1,o=r;t<0&&(i=-1,t=-t);for(var a=he(this.doc,e),s=0;s<t;++s){var l=un(this,a,"div");if(null==o?o=l.left:l.left=o,(a=sa(this,l,i,n)).hitSide)break}return a},moveV:br(function(e,t){var n=this,r=this.doc,i=[],o=!this.display.shift&&!r.extend&&r.sel.somethingSelected();if(r.extendSelectionsBy(function(a){if(o)return e<0?a.from():a.to();var s=un(n,a.head,"div");null!=a.goalColumn&&(s.left=a.goalColumn),i.push(s.left);var l=sa(n,s,e,t);return"page"==t&&a==r.sel.primary()&&Yn(n,ln(n,l,"div").top-s.top),l},Ka),i.length)for(var a=0;a<r.sel.ranges.length;a++)r.sel.ranges[a].goalColumn=i[a]}),findWordAt:function(e){var t,n=Q(this.doc,e.line).text,r=e.ch,i=e.ch;if(n){var o=this.getHelper(e,"wordChars");"before"!=e.sticky&&i!=n.length||!r?++i:--r;for(var a=n.charAt(r),s=w(a,o)?function(e){return w(e,o)}:/\s/.test(a)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!w(e)};r>0&&s(n.charAt(r-1));)--r;for(;i<n.length&&s(n.charAt(i));)++i}return new js(se(e.line,r),se(e.line,i))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?s(this.display.cursorDiv,"CodeMirror-overwrite"):Ra(this.display.cursorDiv,"CodeMirror-overwrite"),N(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==a()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:br(function(e,t){Zn(this,e,t)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-$t(this)-this.display.barHeight,width:e.scrollWidth-$t(this)-this.display.barWidth,clientHeight:Ht(this),clientWidth:Rt(this)}},scrollIntoView:br(function(e,t){null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:se(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line?Qn(this,e):tr(this,e.from,e.to,e.margin)}),setSize:br(function(e,t){var n=this,r=function(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e};null!=e&&(this.display.wrapper.style.width=r(e)),null!=t&&(this.display.wrapper.style.height=r(t)),this.options.lineWrapping&&en(this);var i=this.display.viewFrom;this.doc.iter(i,this.display.viewTo,function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){Ln(n,i,"widget");break}++i}),this.curOp.forceUpdate=!0,N(this,"refresh",this)}),operation:function(e){return vr(this,e)},startOperation:function(){return ur(this)},endOperation:function(){return cr(this)},refresh:br(function(){var e=this.display.cachedTextHeight;En(this),this.curOp.forceUpdate=!0,tn(this),Zn(this,this.doc.scrollLeft,this.doc.scrollTop),Ar(this.display),(null==e||Math.abs(e-bn(this.display))>.5||this.options.lineWrapping)&&Sn(this),N(this,"refresh",this)}),swapDoc:br(function(e){var t=this.doc;return t.cm=null,this.state.selectingText&&this.state.selectingText(),Qr(this,e),tn(this),this.display.input.reset(),Zn(this,e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,xt(this,"swapDoc",this,t),t}),phrase:function(e){var t=this.options.phrases;return t&&Object.prototype.hasOwnProperty.call(t,e)?t[e]:e},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},D(e),e.registerHelper=function(t,r,i){n.hasOwnProperty(t)||(n[t]=e[t]={_global:[]}),n[t][r]=i},e.registerGlobalHelper=function(t,r,i,o){e.registerHelper(t,r,o),n[t]._global.push({pred:i,val:o})}}function aa(e,t,n,r,i){function o(){var n=t.line+c;return!(n<e.first||n>=e.first+e.size)&&(t=new se(n,t.ch,t.sticky),u=Q(e,n))}function a(a){var s;if("codepoint"==r){var l=u.text.charCodeAt(t.ch+(r>0?0:-1));s=isNaN(l)?null:new se(t.line,Math.max(0,Math.min(u.text.length,t.ch+n*(l>=55296&&l<56320?2:1))),-n)}else s=i?yo(e.cm,u,t,n):go(u,t,n);if(null==s){if(a||!o())return!1;t=vo(i,e.cm,u,t.line,c)}else t=s;return!0}var s=t,l=n,u=Q(e,t.line),c=i&&"rtl"==e.direction?-n:n;if("char"==r||"codepoint"==r)a();else if("column"==r)a(!0);else if("word"==r||"group"==r)for(var f=null,d="group"==r,p=e.cm&&e.cm.getHelper(t,"wordChars"),h=!0;!(n<0)||a(!h);h=!1){var m=u.text.charAt(t.ch)||"\n",g=w(m,p)?"w":d&&"\n"==m?"n":!d||/\s/.test(m)?null:"p";if(!d||h||g||(g="s"),f&&f!=g){n<0&&(n=1,a(),t.sticky="after");break}if(g&&(f=g),n>0&&!a(!h))break}var v=Li(e,t,s,l,!0);return ue(s,v)&&(v.hitSide=!0),v}function sa(e,t,n,r){var i=e.doc,o=t.left,a,s;if("page"==r){var l=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),u=Math.max(l-.5*bn(e.display),3);a=(n>0?t.bottom:t.top)+n*u}else"line"==r&&(a=n>0?t.bottom+3:t.top-3);for(;(s=dn(e,o,a)).outside;){if(n<0?a<=0:a>=i.height){s.hitSide=!0;break}a+=5*n}return s}function la(e,t){var n=Vt(e,t.line);if(!n||n.hidden)return null;var r=Q(e.doc,t.line),i=Wt(n,r,t.line),o=L(r,e.doc.direction),a="left",s;o&&(a=E(o,t.ch)%2?"right":"left");var l=Xt(i.map,t.ch,a);return l.offset="right"==l.collapse?l.end:l.start,l}function ua(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}function ca(e,t){return t&&(e.bad=!0),e}function fa(e,t,n,r,i){function o(e){return function(t){return t.id==e}}function a(){c&&(u+=f,d&&(u+=f),c=d=!1)}function s(e){e&&(a(),u+=e)}function l(t){if(1==t.nodeType){var n=t.getAttribute("cm-text");if(n)return void s(n);var u=t.getAttribute("cm-marker"),p;if(u){var h=e.findMarks(se(r,0),se(i+1,0),o(+u));return void(h.length&&(p=h[0].find(0))&&s(ee(e.doc,p.from,p.to).join(f)))}if("false"==t.getAttribute("contenteditable"))return;var m=/^(pre|div|p|li|table|br)$/i.test(t.nodeName);if(!/^br$/i.test(t.nodeName)&&0==t.textContent.length)return;m&&a();for(var g=0;g<t.childNodes.length;g++)l(t.childNodes[g]);/^(pre|p)$/i.test(t.nodeName)&&(d=!0),m&&(c=!0)}else 3==t.nodeType&&s(t.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(var u="",c=!1,f=e.doc.lineSeparator(),d=!1;l(t),t!=n;)t=t.nextSibling,d=!1;return u}function da(e,t,n){var r;if(t==e.display.lineDiv){if(!(r=e.display.lineDiv.childNodes[n]))return ca(e.clipPos(se(e.display.viewTo-1)),!0);t=null,n=0}else for(r=t;;r=r.parentNode){if(!r||r==e.display.lineDiv)return null;if(r.parentNode&&r.parentNode==e.display.lineDiv)break}for(var i=0;i<e.display.view.length;i++){var o=e.display.view[i];if(o.node==r)return pa(o,t,n)}}function pa(e,t,n){function r(t,n,r){for(var i=-1;i<(f?f.length:0);i++)for(var o=i<0?c.map:f[i],a=0;a<o.length;a+=3){var s=o[a+2];if(s==t||s==n){var l=re(i<0?e.line:e.rest[i]),u=o[a]+r;return(r<0||s!=t)&&(u=o[a+(r?1:0)]),se(l,u)}}}var i=e.text.firstChild,a=!1;if(!t||!o(i,t))return ca(se(re(e.line),0),!0);if(t==i&&(a=!0,t=i.childNodes[n],n=0,!t)){var s=e.rest?m(e.rest):e.line;return ca(se(re(s),s.text.length),a)}var l=3==t.nodeType?t:null,u=t;for(l||1!=t.childNodes.length||3!=t.firstChild.nodeType||(l=t.firstChild,n&&(n=l.nodeValue.length));u.parentNode!=i;)u=u.parentNode;var c=e.measure,f=c.maps,d=r(l,u,n);if(d)return ca(d,a);for(var p=u.nextSibling,h=l?l.nodeValue.length-n:0;p;p=p.nextSibling){if(d=r(p,p.firstChild,0))return ca(se(d.line,d.ch-h),a);h+=p.textContent.length}for(var g=u.previousSibling,v=n;g;g=g.previousSibling){if(d=r(g,g.firstChild,-1))return ca(se(d.line,d.ch+v),a);v+=g.textContent.length}}function ha(e,t){function n(){e.value=l.getValue()}if((t=t?c(t):{}).value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),null==t.autofocus){var r=a();t.autofocus=r==e||null!=e.getAttribute("autofocus")&&r==document.body}var i;if(e.form&&(ts(e.form,"submit",n),!t.leaveSubmitMethodAlone)){var o=e.form;i=o.submit;try{var s=o.submit=function(){n(),o.submit=i,o.submit(),o.submit=s}}catch(ls){}}t.finishInit=function(r){r.save=n,r.getTextArea=function(){return e},r.toTextArea=function(){r.toTextArea=isNaN,n(),e.parentNode.removeChild(r.getWrapperElement()),e.style.display="",e.form&&(A(e.form,"submit",n),t.leaveSubmitMethodAlone||"function"!=typeof e.form.submit||(e.form.submit=i))}},e.style.display="none";var l=Xo(function(t){return e.parentNode.insertBefore(t,e.nextSibling)},t);return l}function ma(e){e.off=A,e.on=ts,e.wheelEventPixels=$r,e.Doc=Rs,e.splitLines=os,e.countColumn=f,e.findColumn=p,e.isWordChar=x,e.Pass=Ua,e.signal=N,e.Line=bs,e.changeEnd=Wr,e.scrollbarModel=Ls,e.Pos=se,e.cmpPos=le,e.modes=cs,e.mimeModes=fs,e.resolveMode=G,e.getMode=K,e.modeExtensions=ds,e.extendMode=X,e.copyState=Y,e.startState=Z,e.innerMode=J,e.commands=Ks,e.keyMap=Gs,e.keyName=fo,e.isModifierKey=uo,e.lookupKey=lo,e.normalizeKeyMap=so,e.StringStream=ps,e.SharedTextMarker=Is,e.TextMarker=zs,e.LineWidget=Ds,e.e_preventDefault=F,e.e_stopPropagation=z,e.e_stop=$,e.addClass=s,e.contains=o,e.rmClass=Ra,e.keyNames=Ws}var ga=navigator.userAgent,va=navigator.platform,ya=/gecko\/\d/i.test(ga),ba=/MSIE \d/.test(ga),xa=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ga),wa=/Edge\/(\d+)/.exec(ga),ka=ba||xa||wa,Ca=ka&&(ba?document.documentMode||6:+(wa||xa)[1]),Sa=!wa&&/WebKit\//.test(ga),Ta=Sa&&/Qt\/\d+\.\d+/.test(ga),_a=!wa&&/Chrome\//.test(ga),Ea=/Opera\//.test(ga),La=/Apple Computer/.test(navigator.vendor),Ma=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(ga),Aa=/PhantomJS/.test(ga),Na=!wa&&/AppleWebKit/.test(ga)&&/Mobile\/\w+/.test(ga),Pa=/Android/.test(ga),Oa=Na||Pa||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(ga),ja=Na||/Mac/.test(va),Da=/\bCrOS\b/.test(ga),Fa=/win/i.test(va),za=Ea&&ga.match(/Version\/(\d*\.\d*)/);za&&(za=Number(za[1])),za&&za>=15&&(Ea=!1,Sa=!0);var Ia=ja&&(Ta||Ea&&(null==za||za<12.11)),$a=ya||ka&&Ca>=9,Ra=function(t,n){var r=t.className,i=e(n).exec(r);if(i){var o=r.slice(i.index+i[0].length);t.className=r.slice(0,i.index)+(o?i[1]+o:"")}},Ha;Ha=document.createRange?function(e,t,n,r){var i=document.createRange();return i.setEnd(r||e,n),i.setStart(e,t),i}:function(e,t,n){var r=document.body.createTextRange();try{r.moveToElementText(e.parentNode)}catch(ls){return r}return r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",t),r};var Ba=function(e){e.select()};Na?Ba=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:ka&&(Ba=function(e){try{e.select()}catch(t){}});var Wa=function(){this.id=null,this.f=null,this.time=0,this.handler=u(this.onTimeout,this)};Wa.prototype.onTimeout=function(e){e.id=0,e.time<=+new Date?e.f():setTimeout(e.handler,e.time-+new Date)},Wa.prototype.set=function(e,t){this.f=t;var n=+new Date+e;(!this.id||n<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,e),this.time=n)};var qa=50,Ua={toString:function(){return"CodeMirror.Pass"}},Va={scroll:!1},Ga={origin:"*mouse"},Ka={origin:"+move"},Xa=[""],Ya=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,Ja=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/,Za=null,Qa=function(){function e(e){return e<=247?n.charAt(e):1424<=e&&e<=1524?"R":1536<=e&&e<=1785?r.charAt(e-1536):1774<=e&&e<=2220?"r":8192<=e&&e<=8203?"w":8204==e?"b":"L"}function t(e,t,n){this.level=e,this.from=t,this.to=n}var n="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",r="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111",i=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,o=/[stwN]/,a=/[LRr]/,s=/[Lb1n]/,l=/[1n]/;return function(n,r){var u="ltr"==r?"L":"R";if(0==n.length||"ltr"==r&&!i.test(n))return!1;for(var c=n.length,f=[],d=0;d<c;++d)f.push(e(n.charCodeAt(d)));for(var p=0,h=u;p<c;++p){var g=f[p];"m"==g?f[p]=h:h=g}for(var v=0,y=u;v<c;++v){var b=f[v];"1"==b&&"r"==y?f[v]="n":a.test(b)&&(y=b,"r"==b&&(f[v]="R"))}for(var x=1,w=f[0];x<c-1;++x){var k=f[x];"+"==k&&"1"==w&&"1"==f[x+1]?f[x]="1":","!=k||w!=f[x+1]||"1"!=w&&"n"!=w||(f[x]=w),w=k}for(var C=0;C<c;++C){var S=f[C];if(","==S)f[C]="N";else if("%"==S){var T=void 0;for(T=C+1;T<c&&"%"==f[T];++T);for(var _=C&&"!"==f[C-1]||T<c&&"1"==f[T]?"1":"N",E=C;E<T;++E)f[E]=_;C=T-1}}for(var L=0,M=u;L<c;++L){var A=f[L];"L"==M&&"1"==A?f[L]="L":a.test(A)&&(M=A)}for(var N=0;N<c;++N)if(o.test(f[N])){var P=void 0;for(P=N+1;P<c&&o.test(f[P]);++P);for(var O="L"==(N?f[N-1]:u),j,D=O==("L"==(P<c?f[P]:u))?O?"L":"R":u,F=N;F<P;++F)f[F]=D;N=P-1}for(var z=[],I,$=0;$<c;)if(s.test(f[$])){var R=$;for(++$;$<c&&s.test(f[$]);++$);z.push(new t(0,R,$))}else{var H=$,B=z.length,W="rtl"==r?1:0;for(++$;$<c&&"L"!=f[$];++$);for(var q=H;q<$;)if(l.test(f[q])){H<q&&(z.splice(B,0,new t(1,H,q)),B+=W);var U=q;for(++q;q<$&&l.test(f[q]);++q);z.splice(B,0,new t(2,U,q)),B+=W,H=q}else++q;H<$&&z.splice(B,0,new t(1,H,$))}return"ltr"==r&&(1==z[0].level&&(I=n.match(/^\s+/))&&(z[0].from=I[0].length,z.unshift(new t(0,0,I[0].length))),1==m(z).level&&(I=n.match(/\s+$/))&&(m(z).to-=I[0].length,z.push(new t(0,c-I[0].length,c)))),"rtl"==r?z.reverse():z}}(),es=[],ts=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var r=e._handlers||(e._handlers={});r[t]=(r[t]||es).concat(n)}},ns=function(){if(ka&&Ca<9)return!1;var e=r("div");return"draggable"in e||"dragDrop"in e}(),rs,is,os=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,n=[],r=e.length;t<=r;){var i=e.indexOf("\n",t);-1==i&&(i=e.length);var o=e.slice(t,"\r"==e.charAt(i-1)?i-1:i),a=o.indexOf("\r");-1!=a?(n.push(o.slice(0,a)),t+=a+1):(n.push(o),t=i+1)}return n}:function(e){return(e||"").split(/\r\n?|\n/)},as=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(ls){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(ls){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},ss="oncopy"in(ls=r("div"))||(ls.setAttribute("oncopy","return;"),"function"==typeof ls.oncopy),ls,us=null,cs={},fs={},ds={},ps=function(e,t,n){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=n};ps.prototype.eol=function(){return this.pos>=this.string.length},ps.prototype.sol=function(){return this.pos==this.lineStart},ps.prototype.peek=function(){return this.string.charAt(this.pos)||undefined},ps.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},ps.prototype.eat=function(e){var t=this.string.charAt(this.pos),n;if(n="string"==typeof e?t==e:t&&(e.test?e.test(t):e(t)))return++this.pos,t},ps.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},ps.prototype.eatSpace=function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},ps.prototype.skipToEnd=function(){this.pos=this.string.length},ps.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},ps.prototype.backUp=function(e){this.pos-=e},ps.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=f(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?f(this.string,this.lineStart,this.tabSize):0)},ps.prototype.indentation=function(){return f(this.string,null,this.tabSize)-(this.lineStart?f(this.string,this.lineStart,this.tabSize):0)},ps.prototype.match=function(e,t,n){if("string"!=typeof e){var r=this.string.slice(this.pos).match(e);return r&&r.index>0?null:(r&&!1!==t&&(this.pos+=r[0].length),r)}var i=function(e){return n?e.toLowerCase():e},o;if(i(this.string.substr(this.pos,e.length))==i(e))return!1!==t&&(this.pos+=e.length),!0},ps.prototype.current=function(){return this.string.slice(this.start,this.pos)},ps.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},ps.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},ps.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var hs=function(e,t){this.state=e,this.lookAhead=t},ms=function(e,t,n,r){this.state=t,this.doc=e,this.line=n,this.maxLookAhead=r||0,this.baseTokens=null,this.baseTokenPos=1};ms.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return null!=t&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},ms.prototype.baseToken=function(e){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)this.baseTokenPos+=2;var t=this.baseTokens[this.baseTokenPos+1];return{type:t&&t.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},ms.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},ms.fromSaved=function(e,t,n){return t instanceof hs?new ms(e,Y(e.mode,t.state),n,t.lookAhead):new ms(e,Y(e.mode,t),n)},ms.prototype.save=function(e){var t=!1!==e?Y(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new hs(t,this.maxLookAhead):t};var gs=function(e,t,n){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=n},vs=!1,ys=!1,bs=function(e,t,n){this.text=e,Re(this,t),this.height=n?n(this):1};bs.prototype.lineNo=function(){return re(this)},D(bs);var xs={},ws={},ks=null,Cs=null,Ss={left:0,right:0,top:0,bottom:0},Ts,_s=function(e,t,n){this.cm=n;var i=this.vert=r("div",[r("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),o=this.horiz=r("div",[r("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");i.tabIndex=o.tabIndex=-1,e(i),e(o),ts(i,"scroll",function(){i.clientHeight&&t(i.scrollTop,"vertical")}),ts(o,"scroll",function(){o.clientWidth&&t(o.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,ka&&Ca<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};_s.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,n=e.scrollHeight>e.clientHeight+1,r=e.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=t?r+"px":"0";var i=e.viewHeight-(t?r:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+i)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=n?r+"px":"0",this.horiz.style.left=e.barLeft+"px";var o=e.viewWidth-e.barLeft-(n?r:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+o)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==r&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?r:0,bottom:t?r:0}},_s.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},_s.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},_s.prototype.zeroWidthHack=function(){var e=ja&&!Ma?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new Wa,this.disableVert=new Wa},_s.prototype.enableZeroWidthBar=function(e,t,n){function r(){var i=e.getBoundingClientRect(),o;("vert"==n?document.elementFromPoint(i.right-1,(i.top+i.bottom)/2):document.elementFromPoint((i.right+i.left)/2,i.bottom-1))!=e?e.style.pointerEvents="none":t.set(1e3,r)}e.style.pointerEvents="auto",t.set(1e3,r)},_s.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var Es=function(){};Es.prototype.update=function(){return{bottom:0,right:0}},Es.prototype.setScrollLeft=function(){},Es.prototype.setScrollTop=function(){},Es.prototype.clear=function(){};var Ls={native:_s,"null":Es},Ms=0,As=function(e,t,n){var r=e.display;this.viewport=t,this.visible=Un(r,e.doc,t),this.editorIsHidden=!r.wrapper.offsetWidth,this.wrapperHeight=r.wrapper.clientHeight,this.wrapperWidth=r.wrapper.clientWidth,this.oldDisplayWidth=Rt(e),this.force=n,this.dims=wn(e),this.events=[]};As.prototype.signal=function(e,t){j(e,t)&&this.events.push(arguments)},As.prototype.finish=function(){for(var e=0;e<this.events.length;e++)N.apply(null,this.events[e])};var Ns=0,Ps=null;ka?Ps=-.53:ya?Ps=15:_a?Ps=-.7:La&&(Ps=-1/3);var Os=function(e,t){this.ranges=e,this.primIndex=t};Os.prototype.primary=function(){return this.ranges[this.primIndex]},Os.prototype.equals=function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var n=this.ranges[t],r=e.ranges[t];if(!ue(n.anchor,r.anchor)||!ue(n.head,r.head))return!1}return!0},Os.prototype.deepCopy=function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new js(ce(this.ranges[t].anchor),ce(this.ranges[t].head));return new Os(e,this.primIndex)},Os.prototype.somethingSelected=function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},Os.prototype.contains=function(e,t){t||(t=e);for(var n=0;n<this.ranges.length;n++){var r=this.ranges[n];if(le(t,r.from())>=0&&le(e,r.to())<=0)return n}return-1};var js=function(e,t){this.anchor=e,this.head=t};js.prototype.from=function(){return de(this.anchor,this.head)},js.prototype.to=function(){return fe(this.anchor,this.head)},js.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},Wi.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var n=e,r=e+t;n<r;++n){var i=this.lines[n];this.height-=i.height,at(i),xt(i,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,n){this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var r=0;r<t.length;++r)t[r].parent=this},iterN:function(e,t,n){for(var r=e+t;e<r;++e)if(n(this.lines[e]))return!0}},qi.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var n=0;n<this.children.length;++n){var r=this.children[n],i=r.chunkSize();if(e<i){var o=Math.min(t,i-e),a=r.height;if(r.removeInner(e,o),this.height-=a-r.height,i==o&&(this.children.splice(n--,1),r.parent=null),0==(t-=o))break;e=0}else e-=i}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof Wi))){var s=[];this.collapse(s),this.children=[new Wi(s)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,n){this.size+=t.length,this.height+=n;for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(e<=o){if(i.insertInner(e,t,n),i.lines&&i.lines.length>50){for(var a=i.lines.length%25+25,s=a;s<i.lines.length;){var l=new Wi(i.lines.slice(s,s+=25));i.height-=l.height,this.children.splice(++r,0,l),l.parent=this}i.lines=i.lines.slice(0,a),this.maybeSpill()}break}e-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t,n=new qi(e.children.splice(e.children.length-5,5));if(e.parent){e.size-=n.size,e.height-=n.height;var r=d(e.parent.children,e);e.parent.children.splice(r+1,0,n)}else{var i=new qi(e.children);i.parent=e,e.children=[i,n],e=i}n.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,n){for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(e<o){var a=Math.min(t,o-e);if(i.iterN(e,a,n))return!0;if(0==(t-=a))break;e=0}else e-=o}}};var Ds=function(e,t,n){if(n)for(var r in n)n.hasOwnProperty(r)&&(this[r]=n[r]);this.doc=e,this.node=t};Ds.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,n=this.line,r=re(n);if(null!=r&&t){for(var i=0;i<t.length;++i)t[i]==this&&t.splice(i--,1);t.length||(n.widgets=null);var o=jt(this);ne(n,Math.max(0,n.height-o)),e&&(vr(e,function(){Ui(e,n,-o),Ln(e,r,"widget")}),xt(e,"lineWidgetCleared",e,this,r))}},Ds.prototype.changed=function(){var e=this,t=this.height,n=this.doc.cm,r=this.line;this.height=null;var i=jt(this)-t;i&&(et(this.doc,r)||ne(r,r.height+i),n&&vr(n,function(){n.curOp.forceUpdate=!0,Ui(n,r,i),xt(n,"lineWidgetChanged",n,e,re(r))}))},D(Ds);var Fs=0,zs=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++Fs};zs.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&ur(e),j(this,"clear")){var n=this.find();n&&xt(this,"clear",n.from,n.to)}for(var r=null,i=null,o=0;o<this.lines.length;++o){var a=this.lines[o],s=Ne(a.markedSpans,this);e&&!this.collapsed?Ln(e,re(a),"text"):e&&(null!=s.to&&(i=re(a)),null!=s.from&&(r=re(a))),a.markedSpans=Pe(a.markedSpans,s),null==s.from&&this.collapsed&&!et(this.doc,a)&&e&&ne(a,bn(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var l=0;l<this.lines.length;++l){var u=Xe(this.lines[l]),c=rt(u);c>e.display.maxLineLength&&(e.display.maxLine=u,e.display.maxLineLength=c,e.display.maxLineChanged=!0)}null!=r&&e&&this.collapsed&&En(e,r,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&Ti(e.doc)),e&&xt(e,"markerCleared",e,this,r,i),t&&cr(e),this.parent&&this.parent.clear()}},zs.prototype.find=function(e,t){var n,r;null==e&&"bookmark"==this.type&&(e=1);for(var i=0;i<this.lines.length;++i){var o=this.lines[i],a=Ne(o.markedSpans,this);if(null!=a.from&&(n=se(t?o:re(o),a.from),-1==e))return n;if(null!=a.to&&(r=se(t?o:re(o),a.to),1==e))return r}return n&&{from:n,to:r}},zs.prototype.changed=function(){var e=this,t=this.find(-1,!0),n=this,r=this.doc.cm;t&&r&&vr(r,function(){var i=t.line,o=re(t.line),a=Vt(r,o);if(a&&(Qt(a),r.curOp.selectionChanged=r.curOp.forceUpdate=!0),r.curOp.updateMaxLine=!0,!et(n.doc,i)&&null!=n.height){var s=n.height;n.height=null;var l=jt(n)-s;l&&ne(i,i.height+l)}xt(r,"markerChanged",r,e)})},zs.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=d(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},zs.prototype.detachLine=function(e){if(this.lines.splice(d(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},D(zs);var Is=function(e,t){this.markers=e,this.primary=t;for(var n=0;n<e.length;++n)e[n].parent=this};Is.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();xt(this,"clear")}},Is.prototype.find=function(e,t){return this.primary.find(e,t)},D(Is);var $s=0,Rs=function(e,t,n,r,i){if(!(this instanceof Rs))return new Rs(e,t,n,r,i);null==n&&(n=0),qi.call(this,[new Wi([new bs("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=n;var o=se(n,0);this.sel=Br(o),this.history=new ni(null),this.id=++$s,this.modeOption=t,this.lineSep=r,this.direction="rtl"==i?"rtl":"ltr",this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),Jr(this,{from:o,to:o,text:e}),ki(this,Br(o),Va)};Rs.prototype=b(qi.prototype,{constructor:Rs,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var n=0,r=0;r<t.length;++r)n+=t[r].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=te(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:xr(function(e){var t=se(this.first,0),n=this.first+this.size-1;Pi(this,{from:t,to:se(n,Q(this,n).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&Zn(this.cm,0,0),ki(this,Br(t),Va)}),replaceRange:function(e,t,n,r){Ii(this,e,t=he(this,t),n=n?he(this,n):t,r)},getRange:function(e,t,n){var r=ee(this,he(this,e),he(this,t));return!1===n?r:r.join(n||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(oe(this,e))return Q(this,e)},getLineNumber:function(e){return re(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=Q(this,e)),Xe(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return he(this,e)},getCursor:function(e){var t=this.sel.primary(),n;return n=null==e||"head"==e?t.head:"anchor"==e?t.anchor:"end"==e||"to"==e||!1===e?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:xr(function(e,t,n){bi(this,he(this,"number"==typeof e?se(e,t||0):e),null,n)}),setSelection:xr(function(e,t,n){bi(this,he(this,e),he(this,t||e),n)}),extendSelection:xr(function(e,t,n){gi(this,he(this,e),t&&he(this,t),n)}),extendSelections:xr(function(e,t){vi(this,ge(this,e),t)}),extendSelectionsBy:xr(function(e,t){var n;vi(this,ge(this,g(this.sel.ranges,e)),t)}),setSelections:xr(function(e,t,n){if(e.length){for(var r=[],i=0;i<e.length;i++)r[i]=new js(he(this,e[i].anchor),he(this,e[i].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),ki(this,Hr(this.cm,r,t),n)}}),addSelection:xr(function(e,t,n){var r=this.sel.ranges.slice(0);r.push(new js(he(this,e),he(this,t||e))),ki(this,Hr(this.cm,r,r.length-1),n)}),getSelection:function(e){for(var t=this.sel.ranges,n,r=0;r<t.length;r++){var i=ee(this,t[r].from(),t[r].to());n=n?n.concat(i):i}return!1===e?n:n.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],n=this.sel.ranges,r=0;r<n.length;r++){var i=ee(this,n[r].from(),n[r].to());!1!==e&&(i=i.join(e||this.lineSeparator())),t[r]=i}return t},replaceSelection:function(e,t,n){for(var r=[],i=0;i<this.sel.ranges.length;i++)r[i]=e;this.replaceSelections(r,t,n||"+input")},replaceSelections:xr(function(e,t,n){for(var r=[],i=this.sel,o=0;o<i.ranges.length;o++){var a=i.ranges[o];r[o]={from:a.from(),to:a.to(),text:this.splitLines(e[o]),origin:n}}for(var s=t&&"end"!=t&&Gr(this,r,t),l=r.length-1;l>=0;l--)Pi(this,r[l]);s?wi(this,s):this.cm&&Jn(this.cm)}),undo:xr(function(){ji(this,"undo")}),redo:xr(function(){ji(this,"redo")}),undoSelection:xr(function(){ji(this,"undo",!0)}),redoSelection:xr(function(){ji(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,n=0,r=0;r<e.done.length;r++)e.done[r].ranges||++t;for(var i=0;i<e.undone.length;i++)e.undone[i].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){var e=this;this.history=new ni(this.history.maxGeneration),Zr(this,function(t){return t.history=e.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:hi(this.history.done),undone:hi(this.history.undone)}},setHistory:function(e){var t=this.history=new ni(this.history.maxGeneration);t.done=hi(e.done.slice(0),null,!0),t.undone=hi(e.undone.slice(0),null,!0)},setGutterMarker:xr(function(e,t,n){return Bi(this,e,"gutter",function(e){var r=e.gutterMarkers||(e.gutterMarkers={});return r[t]=n,!n&&k(r)&&(e.gutterMarkers=null),!0})}),clearGutter:xr(function(e){var t=this;this.iter(function(n){n.gutterMarkers&&n.gutterMarkers[e]&&Bi(t,n,"gutter",function(){return n.gutterMarkers[e]=null,k(n.gutterMarkers)&&(n.gutterMarkers=null),!0})})}),lineInfo:function(e){var t;if("number"==typeof e){if(!oe(this,e))return null;if(t=e,!(e=Q(this,e)))return null}else if(null==(t=re(e)))return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:xr(function(t,n,r){return Bi(this,t,"gutter"==n?"gutter":"class",function(t){var i="text"==n?"textClass":"background"==n?"bgClass":"gutter"==n?"gutterClass":"wrapClass";if(t[i]){if(e(r).test(t[i]))return!1;t[i]+=" "+r}else t[i]=r;return!0})}),removeLineClass:xr(function(t,n,r){return Bi(this,t,"gutter"==n?"gutter":"class",function(t){var i="text"==n?"textClass":"background"==n?"bgClass":"gutter"==n?"gutterClass":"wrapClass",o=t[i];if(!o)return!1;if(null==r)t[i]=null;else{var a=o.match(e(r));if(!a)return!1;var s=a.index+a[0].length;t[i]=o.slice(0,a.index)+(a.index&&s!=o.length?" ":"")+o.slice(s)||null}return!0})}),addLineWidget:xr(function(e,t,n){return Vi(this,e,t,n)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,n){return Gi(this,he(this,e),he(this,t),n,n&&n.type||"range")},setBookmark:function(e,t){var n={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return Gi(this,e=he(this,e),e,n,"bookmark")},findMarksAt:function(e){var t=[],n=Q(this,(e=he(this,e)).line).markedSpans;if(n)for(var r=0;r<n.length;++r){var i=n[r];(null==i.from||i.from<=e.ch)&&(null==i.to||i.to>=e.ch)&&t.push(i.marker.parent||i.marker)}return t},findMarks:function(e,t,n){e=he(this,e),t=he(this,t);var r=[],i=e.line;return this.iter(e.line,t.line+1,function(o){var a=o.markedSpans;if(a)for(var s=0;s<a.length;s++){var l=a[s];null!=l.to&&i==e.line&&e.ch>=l.to||null==l.from&&i!=e.line||null!=l.from&&i==t.line&&l.from>=t.ch||n&&!n(l.marker)||r.push(l.marker.parent||l.marker)}++i}),r},getAllMarks:function(){var e=[];return this.iter(function(t){var n=t.markedSpans;if(n)for(var r=0;r<n.length;++r)null!=n[r].from&&e.push(n[r].marker)}),e},posFromIndex:function(e){var t,n=this.first,r=this.lineSeparator().length;return this.iter(function(i){var o=i.text.length+r;if(o>e)return t=e,!0;e-=o,++n}),he(this,se(n,t))},indexFromPos:function(e){var t=(e=he(this,e)).ch;if(e.line<this.first||e.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,e.line,function(e){t+=e.text.length+n}),t},copy:function(e){var t=new Rs(te(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<n&&(n=e.to);var r=new Rs(te(this,t,n),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:e.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],Yi(r,Xi(this)),r},unlinkDoc:function(e){if(e instanceof Xo&&(e=e.doc),this.linked)for(var t=0;t<this.linked.length;++t){var n;if(this.linked[t].doc==e){this.linked.splice(t,1),e.unlinkDoc(this),Ji(Xi(this));break}}if(e.history==this.history){var r=[e.id];Zr(e,function(e){return r.push(e.id)},!0),e.history=new ni(null),e.history.done=hi(this.history.done,r),e.history.undone=hi(this.history.undone,r)}},iterLinkedDocs:function(e){Zr(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):os(e)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:xr(function(e){"rtl"!=e&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter(function(e){return e.order=null}),this.cm&&ti(this.cm))})}),Rs.prototype.eachLine=Rs.prototype.iter;for(var Hs=0,Bs=!1,Ws={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},qs=0;qs<10;qs++)Ws[qs+48]=Ws[qs+96]=String(qs);for(var Us=65;Us<=90;Us++)Ws[Us]=String.fromCharCode(Us);for(var Vs=1;Vs<=12;Vs++)Ws[Vs+111]=Ws[Vs+63235]="F"+Vs;var Gs={basic:{Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},pcDefault:{"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},emacsy:{"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},macDefault:{"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]}};Gs["default"]=ja?Gs.macDefault:Gs.pcDefault;var Ks={selectAll:Ai,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),Va)},killLine:function(e){return ho(e,function(t){if(t.empty()){var n=Q(e.doc,t.head.line).text.length;return t.head.ch==n&&t.head.line<e.lastLine()?{from:t.head,to:se(t.head.line+1,0)}:{from:t.head,to:se(t.head.line,n)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){return ho(e,function(t){return{from:se(t.from().line,0),to:he(e.doc,se(t.to().line+1,0))}})},delLineLeft:function(e){return ho(e,function(e){return{from:se(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(e){return ho(e,function(t){var n=e.charCoords(t.head,"div").top+5,r;return{from:e.coordsChar({left:0,top:n},"div"),to:t.from()}})},delWrappedLineRight:function(e){return ho(e,function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div");return{from:t.from(),to:r}})},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(se(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(se(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy(function(t){return bo(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy(function(t){return wo(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy(function(t){return xo(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy(function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div")},Ka)},goLineLeft:function(e){return e.extendSelectionsBy(function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:n},"div")},Ka)},goLineLeftSmart:function(e){return e.extendSelectionsBy(function(t){var n=e.cursorCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:n},"div");return r.ch<e.getLine(r.line).search(/\S/)?wo(e,t.head):r},Ka)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"codepoint")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],n=e.listSelections(),r=e.options.tabSize,i=0;i<n.length;i++){var o=n[i].from(),a=f(e.getLine(o.line),o.ch,r);t.push(h(r-a%r))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return vr(e,function(){for(var t=e.listSelections(),n=[],r=0;r<t.length;r++)if(t[r].empty()){var i=t[r].head,o=Q(e.doc,i.line).text;if(o)if(i.ch==o.length&&(i=new se(i.line,i.ch-1)),i.ch>0)i=new se(i.line,i.ch+1),e.replaceRange(o.charAt(i.ch-1)+o.charAt(i.ch-2),se(i.line,i.ch-2),i,"+transpose");else if(i.line>e.doc.first){var a=Q(e.doc,i.line-1).text;a&&(i=new se(i.line,1),e.replaceRange(o.charAt(0)+e.doc.lineSeparator()+a.charAt(a.length-1),se(i.line-1,a.length-1),i,"+transpose"))}n.push(new js(i,i))}e.setSelections(n)})},newlineAndIndent:function(e){return vr(e,function(){for(var t=e.listSelections(),n=t.length-1;n>=0;n--)e.replaceRange(e.doc.lineSeparator(),t[n].anchor,t[n].head,"+input");t=e.listSelections();for(var r=0;r<t.length;r++)e.indentLine(t[r].from().line,null,!0);Jn(e)})},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}},Xs=new Wa,Ys=null,Js=400,Zs=function(e,t,n){this.time=e,this.pos=t,this.button=n},Qs,el;Zs.prototype.compare=function(e,t,n){return this.time+Js>e&&0==le(t,this.pos)&&n==this.button};var tl={toString:function(){return"CodeMirror.Init"}},nl={},rl={};Xo.defaults=nl,Xo.optionHandlers=rl;var il=[];Xo.defineInitHook=function(e){return il.push(e)};var ol=null,al=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Wa,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};al.prototype.init=function(e){function t(e){for(var t=e.target;t;t=t.parentNode){if(t==a)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(t.className))break}return!1}function n(e){if(t(e)&&!P(o,e)){if(o.somethingSelected())Zo({lineWise:!1,text:o.getSelections()}),"cut"==e.type&&o.replaceSelection("",null,"cut");else{if(!o.options.lineWiseCopyCut)return;var n=na(o);Zo({lineWise:!0,text:n.text}),"cut"==e.type&&o.operation(function(){o.setSelections(n.ranges,0,Va),o.replaceSelection("",null,"cut")})}if(e.clipboardData){e.clipboardData.clearData();var r=ol.text.join("\n");if(e.clipboardData.setData("Text",r),e.clipboardData.getData("Text")==r)return void e.preventDefault()}var s=ia(),l=s.firstChild;o.display.lineSpace.insertBefore(s,o.display.lineSpace.firstChild),l.value=ol.text.join("\n");var u=document.activeElement;Ba(l),setTimeout(function(){o.display.lineSpace.removeChild(s),u.focus(),u==a&&i.showPrimarySelection()},50)}}var r=this,i=this,o=i.cm,a=i.div=e.lineDiv;ra(a,o.options.spellcheck,o.options.autocorrect,o.options.autocapitalize),ts(a,"paste",function(e){!t(e)||P(o,e)||ea(e,o)||Ca<=11&&setTimeout(yr(o,function(){return r.updateFromDOM()}),20)}),ts(a,"compositionstart",function(e){r.composing={data:e.data,done:!1}}),ts(a,"compositionupdate",function(e){r.composing||(r.composing={data:e.data,done:!1})}),ts(a,"compositionend",function(e){r.composing&&(e.data!=r.composing.data&&r.readFromDOMSoon(),r.composing.done=!0)}),ts(a,"touchstart",function(){return i.forceCompositionEnd()}),ts(a,"input",function(){r.composing||r.readFromDOMSoon()}),ts(a,"copy",n),ts(a,"cut",n)},al.prototype.screenReaderLabelChanged=function(e){e?this.div.setAttribute("aria-label",e):this.div.removeAttribute("aria-label")},al.prototype.prepareSelection=function(){var e=jn(this.cm,!1);return e.focus=document.activeElement==this.div,e},al.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},al.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},al.prototype.showPrimarySelection=function(){var e=this.getSelection(),t=this.cm,n=t.doc.sel.primary(),r=n.from(),i=n.to();if(t.display.viewTo==t.display.viewFrom||r.line>=t.display.viewTo||i.line<t.display.viewFrom)e.removeAllRanges();else{var o=da(t,e.anchorNode,e.anchorOffset),a=da(t,e.focusNode,e.focusOffset);if(!o||o.bad||!a||a.bad||0!=le(de(o,a),r)||0!=le(fe(o,a),i)){var s=t.display.view,l=r.line>=t.display.viewFrom&&la(t,r)||{node:s[0].measure.map[2],offset:0},u=i.line<t.display.viewTo&&la(t,i);if(!u){var c=s[s.length-1].measure,f=c.maps?c.maps[c.maps.length-1]:c.map;u={node:f[f.length-1],offset:f[f.length-2]-f[f.length-3]}}if(l&&u){var d=e.rangeCount&&e.getRangeAt(0),p;try{p=Ha(l.node,l.offset,u.offset,u.node)}catch(ls){}p&&(!ya&&t.state.focused?(e.collapse(l.node,l.offset),p.collapsed||(e.removeAllRanges(),e.addRange(p))):(e.removeAllRanges(),e.addRange(p)),d&&null==e.anchorNode?e.addRange(d):ya&&this.startGracePeriod()),this.rememberSelection()}else e.removeAllRanges()}}},al.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){return e.cm.curOp.selectionChanged=!0})},20)},al.prototype.showMultipleSelections=function(e){n(this.cm.display.cursorDiv,e.cursors),n(this.cm.display.selectionDiv,e.selection)},al.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},al.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return o(this.div,t)},al.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()&&document.activeElement==this.div||this.showSelection(this.prepareSelection(),!0),this.div.focus())},al.prototype.blur=function(){this.div.blur()},al.prototype.getField=function(){return this.div},al.prototype.supportsTouch=function(){return!0},al.prototype.receivedFocus=function(){function e(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,e))}var t=this;this.selectionInEditor()?this.pollSelection():vr(this.cm,function(){return t.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,e)},al.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},al.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=this.getSelection(),t=this.cm;if(Pa&&_a&&this.cm.display.gutterSpecs.length&&ua(e.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var n=da(t,e.anchorNode,e.anchorOffset),r=da(t,e.focusNode,e.focusOffset);n&&r&&vr(t,function(){ki(t.doc,Br(n,r),Va),(n.bad||r.bad)&&(t.curOp.selectionChanged=!0)})}}},al.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e=this.cm,t=e.display,n=e.doc.sel.primary(),r=n.from(),i=n.to(),o,a,s;if(0==r.ch&&r.line>e.firstLine()&&(r=se(r.line-1,Q(e.doc,r.line-1).length)),i.ch==Q(e.doc,i.line).text.length&&i.line<e.lastLine()&&(i=se(i.line+1,0)),r.line<t.viewFrom||i.line>t.viewTo-1)return!1;r.line==t.viewFrom||0==(o=_n(e,r.line))?(a=re(t.view[0].line),s=t.view[0].node):(a=re(t.view[o].line),s=t.view[o-1].node.nextSibling);var l=_n(e,i.line),u,c;if(l==t.view.length-1?(u=t.viewTo-1,c=t.lineDiv.lastChild):(u=re(t.view[l+1].line)-1,c=t.view[l+1].node.previousSibling),!s)return!1;for(var f=e.doc.splitLines(fa(e,s,c,a,u)),d=ee(e.doc,se(a,0),se(u,Q(e.doc,u).text.length));f.length>1&&d.length>1;)if(m(f)==m(d))f.pop(),d.pop(),u--;else{if(f[0]!=d[0])break;f.shift(),d.shift(),a++}for(var p=0,h=0,g=f[0],v=d[0],y=Math.min(g.length,v.length);p<y&&g.charCodeAt(p)==v.charCodeAt(p);)++p;for(var b=m(f),x=m(d),w=Math.min(b.length-(1==f.length?p:0),x.length-(1==d.length?p:0));h<w&&b.charCodeAt(b.length-h-1)==x.charCodeAt(x.length-h-1);)++h;if(1==f.length&&1==d.length&&a==r.line)for(;p&&p>r.ch&&b.charCodeAt(b.length-h-1)==x.charCodeAt(x.length-h-1);)p--,h++;f[f.length-1]=b.slice(0,b.length-h).replace(/^\u200b+/,""),f[0]=f[0].slice(p).replace(/\u200b+$/,"");var k=se(a,p),C=se(u,d.length?m(d).length-h:0);return f.length>1||f[0]||le(k,C)?(Ii(e.doc,f,k,C,"+input"),!0):void 0},al.prototype.ensurePolled=function(){this.forceCompositionEnd()},al.prototype.reset=function(){this.forceCompositionEnd()},al.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},al.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()},80))},al.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||vr(this.cm,function(){return En(e.cm)})},al.prototype.setUneditable=function(e){e.contentEditable="false"},al.prototype.onKeyPress=function(e){0==e.charCode||this.composing||(e.preventDefault(),this.cm.isReadOnly()||yr(this.cm,Qo)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},al.prototype.readOnlyChanged=function(e){this.div.contentEditable=String("nocursor"!=e)},al.prototype.onContextMenu=function(){},al.prototype.resetPosition=function(){},al.prototype.needsContentAttribute=!0;var sl=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new Wa,this.hasSelection=!1,this.composing=null};sl.prototype.init=function(e){function t(e){if(!P(i,e)){if(i.somethingSelected())Zo({lineWise:!1,text:i.getSelections()});else{if(!i.options.lineWiseCopyCut)return;var t=na(i);Zo({lineWise:!0,text:t.text}),"cut"==e.type?i.setSelections(t.ranges,null,Va):(r.prevInput="",o.value=t.text.join("\n"),Ba(o))}"cut"==e.type&&(i.state.cutIncoming=+new Date)}}var n=this,r=this,i=this.cm;this.createField(e);var o=this.textarea;e.wrapper.insertBefore(this.wrapper,e.wrapper.firstChild),Na&&(o.style.width="0px"),ts(o,"input",function(){ka&&Ca>=9&&n.hasSelection&&(n.hasSelection=null),r.poll()}),ts(o,"paste",function(e){P(i,e)||ea(e,i)||(i.state.pasteIncoming=+new Date,r.fastPoll())}),ts(o,"cut",t),ts(o,"copy",t),ts(e.scroller,"paste",function(t){if(!Dt(e,t)&&!P(i,t)){if(!o.dispatchEvent)return i.state.pasteIncoming=+new Date,void r.focus();var n=new Event("paste");n.clipboardData=t.clipboardData,o.dispatchEvent(n)}}),ts(e.lineSpace,"selectstart",function(t){Dt(e,t)||F(t)}),ts(o,"compositionstart",function(){var e=i.getCursor("from");r.composing&&r.composing.range.clear(),r.composing={start:e,range:i.markText(e,i.getCursor("to"),{className:"CodeMirror-composing"})}}),ts(o,"compositionend",function(){r.composing&&(r.poll(),r.composing.range.clear(),r.composing=null)})},sl.prototype.createField=function(e){this.wrapper=ia(),this.textarea=this.wrapper.firstChild},sl.prototype.screenReaderLabelChanged=function(e){e?this.textarea.setAttribute("aria-label",e):this.textarea.removeAttribute("aria-label")},sl.prototype.prepareSelection=function(){var e=this.cm,t=e.display,n=e.doc,r=jn(e);if(e.options.moveInputWithCursor){var i=un(e,n.sel.primary().head,"div"),o=t.wrapper.getBoundingClientRect(),a=t.lineDiv.getBoundingClientRect();r.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,i.top+a.top-o.top)),r.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,i.left+a.left-o.left))}return r},sl.prototype.showSelection=function(e){var t,r=this.cm.display;n(r.cursorDiv,e.cursors),n(r.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},sl.prototype.reset=function(e){if(!this.contextMenuPending&&!this.composing){var t=this.cm;if(t.somethingSelected()){this.prevInput="";var n=t.getSelection();this.textarea.value=n,t.state.focused&&Ba(this.textarea),ka&&Ca>=9&&(this.hasSelection=n)}else e||(this.prevInput=this.textarea.value="",ka&&Ca>=9&&(this.hasSelection=null))}},sl.prototype.getField=function(){return this.textarea},sl.prototype.supportsTouch=function(){return!1},sl.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!Oa||a()!=this.textarea))try{this.textarea.focus()}catch(ls){}},sl.prototype.blur=function(){this.textarea.blur()},sl.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},sl.prototype.receivedFocus=function(){this.slowPoll()},sl.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},sl.prototype.fastPoll=function(){function e(){var r;n.poll()||t?(n.pollingFast=!1,n.slowPoll()):(t=!0,n.polling.set(60,e))}var t=!1,n=this;n.pollingFast=!0,n.polling.set(20,e)},sl.prototype.poll=function(){var e=this,t=this.cm,n=this.textarea,r=this.prevInput;if(this.contextMenuPending||!t.state.focused||as(n)&&!r&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var i=n.value;if(i==r&&!t.somethingSelected())return!1;if(ka&&Ca>=9&&this.hasSelection===i||ja&&/[\uf700-\uf7ff]/.test(i))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var o=i.charCodeAt(0);if(8203!=o||r||(r="\u200b"),8666==o)return this.reset(),this.cm.execCommand("undo")}for(var a=0,s=Math.min(r.length,i.length);a<s&&r.charCodeAt(a)==i.charCodeAt(a);)++a;return vr(t,function(){Qo(t,i.slice(a),r.length-a,null,e.composing?"*compose":null),i.length>1e3||i.indexOf("\n")>-1?n.value=e.prevInput="":e.prevInput=i,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},sl.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},sl.prototype.onKeyPress=function(){ka&&Ca>=9&&(this.hasSelection=null),this.fastPoll()},sl.prototype.onContextMenu=function(e){function t(){if(null!=a.selectionStart){var e=i.somethingSelected(),t="\u200b"+(e?a.value:"");a.value="\u21da",a.value=t,r.prevInput=e?"":"\u200b",a.selectionStart=1,a.selectionEnd=t.length,o.selForContextMenu=i.doc.sel}}function n(){if(r.contextMenuPending==n&&(r.contextMenuPending=!1,r.wrapper.style.cssText=f,a.style.cssText=c,ka&&Ca<9&&o.scrollbars.setScrollTop(o.scroller.scrollTop=l),null!=a.selectionStart)){(!ka||ka&&Ca<9)&&t();var e=0,s=function(){o.selForContextMenu==i.doc.sel&&0==a.selectionStart&&a.selectionEnd>0&&"\u200b"==r.prevInput?yr(i,Ai)(i):e++<10?o.detectingSelectAll=setTimeout(s,500):(o.selForContextMenu=null,o.input.reset())};o.detectingSelectAll=setTimeout(s,200)}}var r=this,i=r.cm,o=i.display,a=r.textarea;r.contextMenuPending&&r.contextMenuPending();var s=Tn(i,e),l=o.scroller.scrollTop;if(s&&!Ea){var u;i.options.resetSelectionOnContextMenu&&-1==i.doc.sel.contains(s)&&yr(i,ki)(i.doc,Br(s),Va);var c=a.style.cssText,f=r.wrapper.style.cssText,d=r.wrapper.offsetParent.getBoundingClientRect(),p;if(r.wrapper.style.cssText="position: static",a.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-d.top-5)+"px; left: "+(e.clientX-d.left-5)+"px;\n      z-index: 1000; background: "+(ka?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",Sa&&(p=window.scrollY),o.input.focus(),Sa&&window.scrollTo(null,p),o.input.reset(),i.somethingSelected()||(a.value=r.prevInput=" "),r.contextMenuPending=n,o.selForContextMenu=i.doc.sel,clearTimeout(o.detectingSelectAll),ka&&Ca>=9&&t(),$a){$(e);var h=function(){A(window,"mouseup",h),setTimeout(n,20)};ts(window,"mouseup",h)}else setTimeout(n,50)}},sl.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled="nocursor"==e,this.textarea.readOnly=!!e},sl.prototype.setUneditable=function(){},sl.prototype.needsContentAttribute=!1,Vo(Xo),oa(Xo);var ll="iter insert remove copy getEditor constructor".split(" ");for(var ul in Rs.prototype)Rs.prototype.hasOwnProperty(ul)&&d(ll,ul)<0&&(Xo.prototype[ul]=function(e){return function(){return e.apply(this.doc,arguments)}}(Rs.prototype[ul]));return D(Rs),Xo.inputStyles={textarea:sl,contenteditable:al},Xo.defineMode=function(e){Xo.defaults.mode||"null"==e||(Xo.defaults.mode=e),U.apply(this,arguments)},Xo.defineMIME=V,Xo.defineMode("null",function(){return{token:function(e){return e.skipToEnd()}}}),Xo.defineMIME("text/plain","null"),Xo.defineExtension=function(e,t){Xo.prototype[e]=t},Xo.defineDocExtension=function(e,t){Rs.prototype[e]=t},Xo.fromTextArea=ha,ma(Xo),Xo.version="5.58.1",Xo}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("../fold/xml-fold")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../fold/xml-fold"],e):e(CodeMirror)}(function(e){function t(t){if(t.getOption("disableInput"))return e.Pass;for(var n=t.listSelections(),r=[],l=t.getOption("autoCloseTags"),u=0;u<n.length;u++){if(!n[u].empty())return e.Pass;var c=n[u].head,f=t.getTokenAt(c),d=e.innerMode(t.getMode(),f.state),p=d.state,h=d.mode.xmlCurrentTag&&d.mode.xmlCurrentTag(p),m=h&&h.name;if(!m)return e.Pass;var g="html"==d.mode.configuration,v="object"==typeof l&&l.dontCloseTags||g&&a,y="object"==typeof l&&l.indentTags||g&&s;f.end>c.ch&&(m=m.slice(0,m.length-f.end+c.ch));var b=m.toLowerCase();if(!m||"string"==f.type&&(f.end!=c.ch||!/[\"\']/.test(f.string.charAt(f.string.length-1))||1==f.string.length)||"tag"==f.type&&h.close||f.string.indexOf("/")==c.ch-f.start-1||v&&i(v,b)>-1||o(t,d.mode.xmlCurrentContext&&d.mode.xmlCurrentContext(p)||[],m,c,!0))return e.Pass;var x="object"==typeof l&&l.emptyTags;if(x&&i(x,m)>-1)r[u]={text:"/>",newPos:e.Pos(c.line,c.ch+2)};else{var w=y&&i(y,b)>-1;r[u]={indent:w,text:">"+(w?"\n\n":"")+"</"+m+">",newPos:w?e.Pos(c.line+1,0):e.Pos(c.line,c.ch+1)}}}for(var k="object"==typeof l&&l.dontIndentOnAutoClose,u=n.length-1;u>=0;u--){var C=r[u];t.replaceRange(C.text,n[u].head,n[u].anchor,"+insert");var S=t.listSelections().slice(0);S[u]={head:C.newPos,anchor:C.newPos},t.setSelections(S),!k&&C.indent&&(t.indentLine(C.newPos.line,null,!0),t.indentLine(C.newPos.line+1,null,!0))}}function n(t,n){for(var r=t.listSelections(),i=[],a=n?"/":"</",s=t.getOption("autoCloseTags"),l="object"==typeof s&&s.dontIndentOnSlash,u=0;u<r.length;u++){if(!r[u].empty())return e.Pass;var c=r[u].head,f=t.getTokenAt(c),d=e.innerMode(t.getMode(),f.state),p=d.state;if(n&&("string"==f.type||"<"!=f.string.charAt(0)||f.start!=c.ch-1))return e.Pass;var h,m="xml"!=d.mode.name&&"htmlmixed"==t.getMode().name;if(m&&"javascript"==d.mode.name)h=a+"script";else if(m&&"css"==d.mode.name)h=a+"style";else{var g=d.mode.xmlCurrentContext&&d.mode.xmlCurrentContext(p);if(!g||g.length&&o(t,g,g[g.length-1],c))return e.Pass;h=a+g[g.length-1]}">"!=t.getLine(c.line).charAt(f.end)&&(h+=">"),i[u]=h}if(t.replaceSelections(i),r=t.listSelections(),!l)for(var u=0;u<r.length;u++)(u==r.length-1||r[u].head.line<r[u+1].head.line)&&t.indentLine(r[u].head.line)}function r(t){return t.getOption("disableInput")?e.Pass:n(t,!0)}function i(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;++n)if(e[n]==t)return n;return-1}function o(t,n,r,i,o){if(!e.scanForClosingTag)return!1;var a=Math.min(t.lastLine()+1,i.line+500),s=e.scanForClosingTag(t,i,null,a);if(!s||s.tag!=r)return!1;for(var l=o?1:0,u=n.length-1;u>=0&&n[u]==r;u--)++l;i=s.to;for(var u=1;u<l;u++){var c=e.scanForClosingTag(t,i,null,a);if(!c||c.tag!=r)return!1;i=c.to}return!0}e.defineOption("autoCloseTags",!1,function(n,i,o){if(o!=e.Init&&o&&n.removeKeyMap("autoCloseTags"),i){var a={name:"autoCloseTags"};"object"==typeof i&&!1===i.whenClosing||(a["'/'"]=function(e){return r(e)}),"object"==typeof i&&!1===i.whenOpening||(a["'>'"]=function(e){return t(e)}),n.addKeyMap(a)}});var a=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],s=["applet","blockquote","body","button","div","dl","fieldset","form","frameset","h1","h2","h3","h4","h5","h6","head","html","iframe","layer","legend","object","ol","p","select","table","ul"];e.commands.closeTag=function(e){return n(e)}}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("./searchcursor"),require("../dialog/dialog")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","./searchcursor","../dialog/dialog"],e):e(CodeMirror)}(function(e){"use strict";function t(e,t){return"string"==typeof e?e=new RegExp(e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),t?"gi":"g"):e.global||(e=new RegExp(e.source,e.ignoreCase?"gi":"g")),{token:function(t){e.lastIndex=t.pos;var n=e.exec(t.string);if(n&&n.index==t.pos)return t.pos+=n[0].length||1,"searching";n?t.pos=n.index:t.skipToEnd()}}}function n(){this.posFrom=this.posTo=this.lastQuery=this.query=null,this.overlay=null}function r(e){return e.state.search||(e.state.search=new n)}function i(e){return"string"==typeof e&&e==e.toLowerCase()}function o(e,t,n){return e.getSearchCursor(t,n,{caseFold:i(t),multiline:!0})}function a(e,t,n,r,i){e.openDialog(t,r,{value:n,selectValueOnOpen:!0,closeOnEnter:!1,onClose:function(){h(e)},onKeyDown:i})}function s(e,t,n,r,i){e.openDialog?e.openDialog(t,i,{value:r,selectValueOnOpen:!0}):i(prompt(n,r))}function l(e,t,n,r){e.openConfirm?e.openConfirm(t,r):confirm(n)&&r[0]()}function u(e){return e.replace(/\\([nrt\\])/g,function(e,t){return"n"==t?"\n":"r"==t?"\r":"t"==t?"\t":"\\"==t?"\\":e})}function c(e){var t=e.match(/^\/(.*)\/([a-z]*)$/);if(t)try{e=new RegExp(t[1],-1==t[2].indexOf("i")?"":"i")}catch(n){}else e=u(e);return("string"==typeof e?""==e:e.test(""))&&(e=/x^/),e}function f(e,n,r){n.queryText=r,n.query=c(r),e.removeOverlay(n.overlay,i(n.query)),n.overlay=t(n.query,i(n.query)),e.addOverlay(n.overlay),e.showMatchesOnScrollbar&&(n.annotate&&(n.annotate.clear(),n.annotate=null),n.annotate=e.showMatchesOnScrollbar(n.query,i(n.query)))}function d(t,n,i,o){var l=r(t);if(l.query)return p(t,n);var u=t.getSelection()||l.lastQuery;if(u instanceof RegExp&&"x^"==u.source&&(u=null),i&&t.openDialog){var c=null,d=function(n,r){e.e_stop(r),n&&(n!=l.queryText&&(f(t,l,n),l.posFrom=l.posTo=t.getCursor()),c&&(c.style.opacity=1),p(t,r.shiftKey,function(e,n){var r;n.line<3&&document.querySelector&&(r=t.display.wrapper.querySelector(".CodeMirror-dialog"))&&r.getBoundingClientRect().bottom-4>t.cursorCoords(n,"window").top&&((c=r).style.opacity=.4)}))};a(t,m(t),u,d,function(n,i){var o=e.keyName(n),a=t.getOption("extraKeys"),s=a&&a[o]||e.keyMap[t.getOption("keyMap")][o];"findNext"==s||"findPrev"==s||"findPersistentNext"==s||"findPersistentPrev"==s?(e.e_stop(n),f(t,r(t),i),t.execCommand(s)):"find"!=s&&"findPersistent"!=s||(e.e_stop(n),d(i,n))}),o&&u&&(f(t,l,u),p(t,n))}else s(t,m(t),"Search for:",u,function(e){e&&!l.query&&t.operation(function(){f(t,l,e),l.posFrom=l.posTo=t.getCursor(),p(t,n)})})}function p(t,n,i){t.operation(function(){var a=r(t),s=o(t,a.query,n?a.posFrom:a.posTo);(s.find(n)||(s=o(t,a.query,n?e.Pos(t.lastLine()):e.Pos(t.firstLine(),0))).find(n))&&(t.setSelection(s.from(),s.to()),t.scrollIntoView({from:s.from(),to:s.to()},20),a.posFrom=s.from(),a.posTo=s.to(),i&&i(s.from(),s.to()))})}function h(e){e.operation(function(){var t=r(e);t.lastQuery=t.query,t.query&&(t.query=t.queryText=null,e.removeOverlay(t.overlay),t.annotate&&(t.annotate.clear(),t.annotate=null))})}function m(e){return'<span class="CodeMirror-search-label">'+e.phrase("Search:")+'</span> <input type="text" style="width: 10em" class="CodeMirror-search-field"/> <span style="color: #888" class="CodeMirror-search-hint">'+e.phrase("(Use /re/ syntax for regexp search)")+"</span>"}function g(e){return' <input type="text" style="width: 10em" class="CodeMirror-search-field"/> <span style="color: #888" class="CodeMirror-search-hint">'+e.phrase("(Use /re/ syntax for regexp search)")+"</span>"}function v(e){return'<span class="CodeMirror-search-label">'+e.phrase("With:")+'</span> <input type="text" style="width: 10em" class="CodeMirror-search-field"/>'}function y(e){return'<span class="CodeMirror-search-label">'+e.phrase("Replace?")+"</span> <button>"+e.phrase("Yes")+"</button> <button>"+e.phrase("No")+"</button> <button>"+e.phrase("All")+"</button> <button>"+e.phrase("Stop")+"</button> "}function b(e,t,n){e.operation(function(){for(var r=o(e,t);r.findNext();)if("string"!=typeof t){var i=e.getRange(r.from(),r.to()).match(t);r.replace(n.replace(/\$(\d)/g,function(e,t){return i[t]}))}else r.replace(n)})}function x(e,t){if(!e.getOption("readOnly")){var n=e.getSelection()||r(e).lastQuery,i='<span class="CodeMirror-search-label">'+(t?e.phrase("Replace all:"):e.phrase("Replace:"))+"</span>";s(e,i+g(e),i,n,function(n){n&&(n=c(n),s(e,v(e),e.phrase("Replace with:"),"",function(r){if(r=u(r),t)b(e,n,r);else{h(e);var i=o(e,n,e.getCursor("from")),a=function(){var t=i.from(),u;!(u=i.findNext())&&(i=o(e,n),!(u=i.findNext())||t&&i.from().line==t.line&&i.from().ch==t.ch)||(e.setSelection(i.from(),i.to()),e.scrollIntoView({from:i.from(),to:i.to()}),l(e,y(e),e.phrase("Replace?"),[function(){s(u)},a,function(){b(e,n,r)}]))},s=function(e){i.replace("string"==typeof n?r:r.replace(/\$(\d)/g,function(t,n){return e[n]})),a()};a()}}))})}}e.commands.find=function(e){h(e),d(e)},e.commands.findPersistent=function(e){h(e),d(e,!1,!0)},e.commands.findPersistentNext=function(e){d(e,!1,!0,!0)},e.commands.findPersistentPrev=function(e){d(e,!0,!0,!0)},e.commands.findNext=d,e.commands.findPrev=function(e){d(e,!0)},e.commands.clearSearch=h,e.commands.replace=x,e.commands.replaceAll=function(e){x(e,!0)}}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function t(e){var t=e.flags;return null!=t?t:(e.ignoreCase?"i":"")+(e.global?"g":"")+(e.multiline?"m":"")}function n(e,n){for(var r=t(e),i=r,o=0;o<n.length;o++)-1==i.indexOf(n.charAt(o))&&(i+=n.charAt(o));return r==i?e:new RegExp(e.source,i)}function r(e){return/\\s|\\n|\n|\\W|\\D|\[\^/.test(e.source)}function i(e,t,r){t=n(t,"g");for(var i=r.line,o=r.ch,a=e.lastLine();i<=a;i++,o=0){t.lastIndex=o;var s=e.getLine(i),l=t.exec(s);if(l)return{from:p(i,l.index),to:p(i,l.index+l[0].length),match:l}}}function o(e,t,o){if(!r(t))return i(e,t,o);t=n(t,"gm");for(var a,s=1,l=o.line,u=e.lastLine();l<=u;){for(var c=0;c<s&&!(l>u);c++){var f=e.getLine(l++);a=null==a?f:a+"\n"+f}s*=2,t.lastIndex=o.ch;var d=t.exec(a);if(d){var h=a.slice(0,d.index).split("\n"),m=d[0].split("\n"),g=o.line+h.length-1,v=h[h.length-1].length;return{from:p(g,v),to:p(g+m.length-1,1==m.length?v+m[0].length:m[m.length-1].length),match:d}}}}function a(e,t,n){for(var r,i=0;i<=e.length;){t.lastIndex=i;var o=t.exec(e);if(!o)break;var a=o.index+o[0].length;if(a>e.length-n)break;(!r||a>r.index+r[0].length)&&(r=o),i=o.index+1}return r}function s(e,t,r){t=n(t,"g");for(var i=r.line,o=r.ch,s=e.firstLine();i>=s;i--,o=-1){var l=e.getLine(i),u=a(l,t,o<0?0:l.length-o);if(u)return{from:p(i,u.index),to:p(i,u.index+u[0].length),match:u}}}function l(e,t,i){if(!r(t))return s(e,t,i);t=n(t,"gm");for(var o,l=1,u=e.getLine(i.line).length-i.ch,c=i.line,f=e.firstLine();c>=f;){for(var d=0;d<l&&c>=f;d++){var h=e.getLine(c--);o=null==o?h:h+"\n"+o}l*=2;var m=a(o,t,u);if(m){var g=o.slice(0,m.index).split("\n"),v=m[0].split("\n"),y=c+g.length,b=g[g.length-1].length;return{from:p(y,b),to:p(y+v.length-1,1==v.length?b+v[0].length:v[v.length-1].length),match:m}}}}function u(e,t,n,r){if(e.length==t.length)return n;for(var i=0,o=n+Math.max(0,e.length-t.length);;){if(i==o)return i;var a=i+o>>1,s=r(e.slice(0,a)).length;if(s==n)return a;s>n?o=a:i=a+1}}function c(e,t,n,r){if(!t.length)return null;var i=r?h:m,o=i(t).split(/\r|\n\r?/);e:for(var a=n.line,s=n.ch,l=e.lastLine()+1-o.length;a<=l;a++,s=0){var c=e.getLine(a).slice(s),f=i(c);if(1==o.length){var d=f.indexOf(o[0]);if(-1==d)continue e;var n=u(c,f,d,i)+s;return{from:p(a,u(c,f,d,i)+s),to:p(a,u(c,f,d+o[0].length,i)+s)}}var g=f.length-o[0].length;if(f.slice(g)==o[0]){for(var v=1;v<o.length-1;v++)if(i(e.getLine(a+v))!=o[v])continue e;var y=e.getLine(a+o.length-1),b=i(y),x=o[o.length-1];if(b.slice(0,x.length)==x)return{from:p(a,u(c,f,g,i)+s),to:p(a+o.length-1,u(y,b,x.length,i))}}}}function f(e,t,n,r){if(!t.length)return null;var i=r?h:m,o=i(t).split(/\r|\n\r?/);e:for(var a=n.line,s=n.ch,l=e.firstLine()-1+o.length;a>=l;a--,s=-1){var c=e.getLine(a);s>-1&&(c=c.slice(0,s));var f=i(c);if(1==o.length){var d=f.lastIndexOf(o[0]);if(-1==d)continue e;return{from:p(a,u(c,f,d,i)),to:p(a,u(c,f,d+o[0].length,i))}}var g=o[o.length-1];if(f.slice(0,g.length)==g){for(var v=1,n=a-o.length+1;v<o.length-1;v++)if(i(e.getLine(n+v))!=o[v])continue e;var y=e.getLine(a+1-o.length),b=i(y);if(b.slice(b.length-o[0].length)==o[0])return{from:p(a+1-o.length,u(y,b,y.length-o[0].length,i)),to:p(a,u(c,f,g.length,i))}}}}function d(e,t,r,a){var u;this.atOccurrence=!1,this.doc=e,r=r?e.clipPos(r):p(0,0),this.pos={from:r,to:r},"object"==typeof a?u=a.caseFold:(u=a,a=null),"string"==typeof t?(null==u&&(u=!1),this.matches=function(n,r){return(n?f:c)(e,t,r,u)}):(t=n(t,"gm"),a&&!1===a.multiline?this.matches=function(n,r){return(n?s:i)(e,t,r)}:this.matches=function(n,r){return(n?l:o)(e,t,r)})}var p=e.Pos,h,m;String.prototype.normalize?(h=function(e){return e.normalize("NFD").toLowerCase()},m=function(e){return e.normalize("NFD")}):(h=function(e){return e.toLowerCase()},m=function(e){return e}),d.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(t){for(var n=this.matches(t,this.doc.clipPos(t?this.pos.from:this.pos.to));n&&0==e.cmpPos(n.from,n.to);)t?n.from.ch?n.from=p(n.from.line,n.from.ch-1):n=n.from.line==this.doc.firstLine()?null:this.matches(t,this.doc.clipPos(p(n.from.line-1))):n.to.ch<this.doc.getLine(n.to.line).length?n.to=p(n.to.line,n.to.ch+1):n=n.to.line==this.doc.lastLine()?null:this.matches(t,p(n.to.line+1,0));if(n)return this.pos=n,this.atOccurrence=!0,this.pos.match||!0;var r=p(t?this.doc.firstLine():this.doc.lastLine()+1,0);return this.pos={from:r,to:r},this.atOccurrence=!1},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(t,n){if(this.atOccurrence){var r=e.splitLines(t);this.doc.replaceRange(r,this.pos.from,this.pos.to,n),this.pos.to=p(this.pos.from.line+r.length-1,r[r.length-1].length+(1==r.length?this.pos.from.ch:0))}}},e.defineExtension("getSearchCursor",function(e,t,n){return new d(this.doc,e,t,n)}),e.defineDocExtension("getSearchCursor",function(e,t,n){return new d(this,e,t,n)}),e.defineExtension("selectMatches",function(t,n){for(var r=[],i=this.getSearchCursor(t,this.getCursor("from"),n);i.findNext()&&!(e.cmpPos(i.to(),this.getCursor("to"))>0);)r.push({anchor:i.from(),head:i.to()});r.length&&this.setSelections(r,0)})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){function t(t,n,r){var i=t.getWrapperElement(),o;return(o=i.appendChild(document.createElement("div"))).className=r?"CodeMirror-dialog CodeMirror-dialog-bottom":"CodeMirror-dialog CodeMirror-dialog-top","string"==typeof n?o.innerHTML=n:o.appendChild(n),e.addClass(i,"dialog-opened"),o}function n(e,t){e.state.currentNotificationClose&&e.state.currentNotificationClose(),e.state.currentNotificationClose=t}e.defineExtension("openDialog",function(r,i,o){function a(t){if("string"==typeof t)c.value=t;else{if(l)return;l=!0,e.rmClass(s.parentNode,"dialog-opened"),s.parentNode.removeChild(s),u.focus(),o.onClose&&o.onClose(s)}}o||(o={}),n(this,null);var s=t(this,r,o.bottom),l=!1,u=this,c=s.getElementsByTagName("input")[0],f;return c?(c.focus(),o.value&&(c.value=o.value,!1!==o.selectValueOnOpen&&c.select()),o.onInput&&e.on(c,"input",function(e){o.onInput(e,c.value,a)}),o.onKeyUp&&e.on(c,"keyup",function(e){o.onKeyUp(e,c.value,a)}),e.on(c,"keydown",function(t){o&&o.onKeyDown&&o.onKeyDown(t,c.value,a)||((27==t.keyCode||!1!==o.closeOnEnter&&13==t.keyCode)&&(c.blur(),e.e_stop(t),a()),13==t.keyCode&&i(c.value,t))}),!1!==o.closeOnBlur&&e.on(s,"focusout",function(e){null!==e.relatedTarget&&a()})):(f=s.getElementsByTagName("button")[0])&&(e.on(f,"click",function(){a(),u.focus()}),!1!==o.closeOnBlur&&e.on(f,"blur",a),f.focus()),a}),e.defineExtension("openConfirm",function(r,i,o){function a(){u||(u=!0,e.rmClass(s.parentNode,"dialog-opened"),s.parentNode.removeChild(s),c.focus())}n(this,null);var s=t(this,r,o&&o.bottom),l=s.getElementsByTagName("button"),u=!1,c=this,f=1;l[0].focus();for(var d=0;d<l.length;++d){var p=l[d];!function(t){e.on(p,"click",function(n){e.e_preventDefault(n),a(),t&&t(c)})}(i[d]),e.on(p,"blur",function(){--f,setTimeout(function(){f<=0&&a()},200)}),e.on(p,"focus",function(){++f})}}),e.defineExtension("openNotification",function(r,i){function o(){s||(s=!0,clearTimeout(l),e.rmClass(a.parentNode,"dialog-opened"),a.parentNode.removeChild(a))}n(this,o);var a=t(this,r,i&&i.bottom),s=!1,l,u=i&&"undefined"!=typeof i.duration?i.duration:5e3;return e.on(a,"click",function(t){e.e_preventDefault(t),o()}),u&&(l=setTimeout(o,u)),o})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){function t(e){return e&&e.bracketRegex||/[(){}[\]]/}function n(e,n,i){var o=e.getLineHandle(n.line),a=n.ch-1,u=i&&i.afterCursor;null==u&&(u=/(^| )cm-fat-cursor($| )/.test(e.getWrapperElement().className));var c=t(i),f=!u&&a>=0&&c.test(o.text.charAt(a))&&l[o.text.charAt(a)]||c.test(o.text.charAt(a+1))&&l[o.text.charAt(++a)];if(!f)return null;var d=">"==f.charAt(1)?1:-1;if(i&&i.strict&&d>0!=(a==n.ch))return null;var p=e.getTokenTypeAt(s(n.line,a+1)),h=r(e,s(n.line,a+(d>0?1:0)),d,p||null,i);return null==h?null:{from:s(n.line,a),to:h&&h.pos,match:h&&h.ch==f.charAt(0),forward:d>0}}function r(e,n,r,i,o){for(var a=o&&o.maxScanLineLength||1e4,u=o&&o.maxScanLines||1e3,c=[],f=t(o),d=r>0?Math.min(n.line+u,e.lastLine()+1):Math.max(e.firstLine()-1,n.line-u),p=n.line;p!=d;p+=r){var h=e.getLine(p);if(h){var m=r>0?0:h.length-1,g=r>0?h.length:-1;if(!(h.length>a))for(p==n.line&&(m=n.ch-(r<0?1:0));m!=g;m+=r){var v=h.charAt(m);if(f.test(v)&&(i===undefined||e.getTokenTypeAt(s(p,m+1))==i)){var y=l[v];if(y&&">"==y.charAt(1)==r>0)c.push(v);else{if(!c.length)return{pos:s(p,m),ch:v};c.pop()}}}}}return p-r!=(r>0?e.lastLine():e.firstLine())&&null}function i(e,t,r){for(var i=e.state.matchBrackets.maxHighlightLineLength||1e3,o=[],l=e.listSelections(),u=0;u<l.length;u++){var c=l[u].empty()&&n(e,l[u].head,r);if(c&&e.getLine(c.from.line).length<=i){var f=c.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";o.push(e.markText(c.from,s(c.from.line,c.from.ch+1),{className:f})),c.to&&e.getLine(c.to.line).length<=i&&o.push(e.markText(c.to,s(c.to.line,c.to.ch+1),{className:f}))}}if(o.length){a&&e.state.focused&&e.focus();var d=function(){e.operation(function(){for(var e=0;e<o.length;e++)o[e].clear()})};if(!t)return d;setTimeout(d,800)}}function o(e){e.operation(function(){e.state.matchBrackets.currentlyHighlighted&&(e.state.matchBrackets.currentlyHighlighted(),e.state.matchBrackets.currentlyHighlighted=null),e.state.matchBrackets.currentlyHighlighted=i(e,!1,e.state.matchBrackets)})}var a=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||document.documentMode<8),s=e.Pos,l={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<","<":">>",">":"<<"};e.defineOption("matchBrackets",!1,function(t,n,r){function i(e){e.state.matchBrackets&&e.state.matchBrackets.currentlyHighlighted&&(e.state.matchBrackets.currentlyHighlighted(),e.state.matchBrackets.currentlyHighlighted=null)}r&&r!=e.Init&&(t.off("cursorActivity",o),t.off("focus",o),t.off("blur",i),i(t)),n&&(t.state.matchBrackets="object"==typeof n?n:{},t.on("cursorActivity",o),t.on("focus",o),t.on("blur",i))}),e.defineExtension("matchBrackets",function(){i(this,!0)}),e.defineExtension("findMatchingBracket",function(e,t,r){return(r||"boolean"==typeof t)&&(r?(r.strict=t,t=r):t=t?{strict:!0}:null),n(this,e,t)}),e.defineExtension("scanForBracket",function(e,t,n,i){return r(this,e,t,n,i)})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){function t(e,t){return"pairs"==t&&"string"==typeof e?e:"object"==typeof e&&null!=e[t]?e[t]:f[t]}function n(e){for(var t=0;t<e.length;t++){var n=e.charAt(t),i="'"+n+"'";p[i]||(p[i]=r(n))}}function r(e){return function(t){return l(t,e)}}function i(e){var t=e.state.closeBrackets,n;return!t||t.override?t:e.getModeAt(e.getCursor()).closeBrackets||t}function o(n){var r=i(n);if(!r||n.getOption("disableInput"))return e.Pass;for(var o=t(r,"pairs"),a=n.listSelections(),s=0;s<a.length;s++){if(!a[s].empty())return e.Pass;var l=u(n,a[s].head);if(!l||o.indexOf(l)%2!=0)return e.Pass}for(var s=a.length-1;s>=0;s--){var c=a[s].head;n.replaceRange("",d(c.line,c.ch-1),d(c.line,c.ch+1),"+delete")}}function a(n){var r=i(n),o=r&&t(r,"explode");if(!o||n.getOption("disableInput"))return e.Pass;for(var a=n.listSelections(),s=0;s<a.length;s++){if(!a[s].empty())return e.Pass;var l=u(n,a[s].head);if(!l||o.indexOf(l)%2!=0)return e.Pass}n.operation(function(){var e=n.lineSeparator()||"\n";n.replaceSelection(e+e,null),n.execCommand("goCharLeft"),a=n.listSelections();for(var t=0;t<a.length;t++){var r=a[t].head.line;n.indentLine(r,null,!0),n.indentLine(r+1,null,!0)}})}function s(t){var n=e.cmpPos(t.anchor,t.head)>0;return{anchor:new d(t.anchor.line,t.anchor.ch+(n?-1:1)),head:new d(t.head.line,t.head.ch+(n?1:-1))}}function l(n,r){var o=i(n);if(!o||n.getOption("disableInput"))return e.Pass;var a=t(o,"pairs"),l=a.indexOf(r);if(-1==l)return e.Pass;for(var u=t(o,"closeBefore"),f=t(o,"triples"),p=a.charAt(l+1)==r,h=n.listSelections(),m=l%2==0,g,v=0;v<h.length;v++){var y=h[v],b=y.head,x,w=n.getRange(b,d(b.line,b.ch+1));if(m&&!y.empty())x="surround";else if(!p&&m||w!=r)if(p&&b.ch>1&&f.indexOf(r)>=0&&n.getRange(d(b.line,b.ch-2),b)==r+r){if(b.ch>2&&/\bstring/.test(n.getTokenTypeAt(d(b.line,b.ch-2))))return e.Pass;x="addFour"}else if(p){var k=0==b.ch?" ":n.getRange(d(b.line,b.ch-1),b);if(e.isWordChar(w)||k==r||e.isWordChar(k))return e.Pass;x="both"}else{if(!m||!(0===w.length||/\s/.test(w)||u.indexOf(w)>-1))return e.Pass;x="both"}else x=p&&c(n,b)?"both":f.indexOf(r)>=0&&n.getRange(b,d(b.line,b.ch+3))==r+r+r?"skipThree":"skip";if(g){if(g!=x)return e.Pass}else g=x}var C=l%2?a.charAt(l-1):r,S=l%2?r:a.charAt(l+1);n.operation(function(){if("skip"==g)n.execCommand("goCharRight");else if("skipThree"==g)for(var e=0;e<3;e++)n.execCommand("goCharRight");else if("surround"==g){for(var t=n.getSelections(),e=0;e<t.length;e++)t[e]=C+t[e]+S;n.replaceSelections(t,"around"),t=n.listSelections().slice();for(var e=0;e<t.length;e++)t[e]=s(t[e]);n.setSelections(t)}else"both"==g?(n.replaceSelection(C+S,null),n.triggerElectric(C+S),n.execCommand("goCharLeft")):"addFour"==g&&(n.replaceSelection(C+C+C+C,"before"),n.execCommand("goCharRight"))})}function u(e,t){var n=e.getRange(d(t.line,t.ch-1),d(t.line,t.ch+1));return 2==n.length?n:null}function c(e,t){var n=e.getTokenAt(d(t.line,t.ch+1));return/\bstring/.test(n.type)&&n.start==t.ch&&(0==t.ch||!/\bstring/.test(e.getTokenTypeAt(t)))}var f={pairs:"()[]{}''\"\"",closeBefore:")]}'\":;>",triples:"",explode:"[]{}"},d=e.Pos;e.defineOption("autoCloseBrackets",!1,function(r,i,o){o&&o!=e.Init&&(r.removeKeyMap(p),r.state.closeBrackets=null),i&&(n(t(i,"pairs")),r.state.closeBrackets=i,r.addKeyMap(p))});var p={Backspace:o,Enter:a};n(f.pairs+"`")}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function t(t,i,o,a){function s(e){var n=l(t,i);if(!n||n.to.line-n.from.line<u)return null;for(var r=t.findMarksAt(n.from),o=0;o<r.length;++o)if(r[o].__isFold&&"fold"!==a){if(!e)return null;n.cleared=!0,r[o].clear()}return n}if(o&&o.call){var l=o;o=null}else var l=r(t,o,"rangeFinder");"number"==typeof i&&(i=e.Pos(i,0));var u=r(t,o,"minFoldSize"),c=s(!0);if(r(t,o,"scanUp"))for(;!c&&i.line>t.firstLine();)i=e.Pos(i.line-1,0),c=s(!1);if(c&&!c.cleared&&"unfold"!==a){var f=n(t,o,c);e.on(f,"mousedown",function(t){d.clear(),e.e_preventDefault(t)});var d=t.markText(c.from,c.to,{replacedWith:f,clearOnEnter:r(t,o,"clearOnEnter"),__isFold:!0});d.on("clear",function(n,r){e.signal(t,"unfold",t,n,r)}),e.signal(t,"fold",t,c.from,c.to)}}function n(e,t,n){var i=r(e,t,"widget");if("function"==typeof i&&(i=i(n.from,n.to)),"string"==typeof i){var o=document.createTextNode(i);(i=document.createElement("span")).appendChild(o),i.className="CodeMirror-foldmarker"}else i&&(i=i.cloneNode(!0));return i}function r(e,t,n){if(t&&t[n]!==undefined)return t[n];var r=e.options.foldOptions;return r&&r[n]!==undefined?r[n]:i[n]}e.newFoldFunction=function(e,n){return function(r,i){t(r,i,{rangeFinder:e,widget:n})}},e.defineExtension("foldCode",function(e,n,r){t(this,e,n,r)}),e.defineExtension("isFolded",function(e){for(var t=this.findMarksAt(e),n=0;n<t.length;++n)if(t[n].__isFold)return!0}),e.commands.toggleFold=function(e){e.foldCode(e.getCursor())},e.commands.fold=function(e){e.foldCode(e.getCursor(),null,"fold")},e.commands.unfold=function(e){e.foldCode(e.getCursor(),null,"unfold")},e.commands.foldAll=function(t){t.operation(function(){for(var n=t.firstLine(),r=t.lastLine();n<=r;n++)t.foldCode(e.Pos(n,0),null,"fold")})},e.commands.unfoldAll=function(t){t.operation(function(){for(var n=t.firstLine(),r=t.lastLine();n<=r;n++)t.foldCode(e.Pos(n,0),null,"unfold")})},e.registerHelper("fold","combine",function(){var e=Array.prototype.slice.call(arguments,0);return function(t,n){for(var r=0;r<e.length;++r){var i=e[r](t,n);if(i)return i}}}),e.registerHelper("fold","auto",function(e,t){for(var n=e.getHelpers(t,"fold"),r=0;r<n.length;r++){var i=n[r](e,t);if(i)return i}});var i={rangeFinder:e.fold.auto,widget:"\u2194",minFoldSize:0,scanUp:!1,clearOnEnter:!0};e.defineOption("foldOptions",null),e.defineExtension("foldOption",function(e,t){return r(this,e,t)})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("./foldcode")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","./foldcode"],e):e(CodeMirror)}(function(e){"use strict";function t(e){this.options=e,this.from=this.to=0}function n(e){return!0===e&&(e={}),null==e.gutter&&(e.gutter="CodeMirror-foldgutter"),null==e.indicatorOpen&&(e.indicatorOpen="CodeMirror-foldgutter-open"),null==e.indicatorFolded&&(e.indicatorFolded="CodeMirror-foldgutter-folded"),e}function r(e,t){for(var n=e.findMarks(d(t,0),d(t+1,0)),r=0;r<n.length;++r)if(n[r].__isFold){var i=n[r].find(-1);if(i&&i.line===t)return n[r]}}function i(e){if("string"==typeof e){var t=document.createElement("div");return t.className=e+" CodeMirror-guttermarker-subtle",t}return e.cloneNode(!0)}function o(e,t,n){var o=e.state.foldGutter.options,s=t-1,l=e.foldOption(o,"minFoldSize"),u=e.foldOption(o,"rangeFinder"),c="string"==typeof o.indicatorFolded&&a(o.indicatorFolded),f="string"==typeof o.indicatorOpen&&a(o.indicatorOpen);e.eachLine(t,n,function(t){++s;var n=null,a=t.gutterMarkers;if(a&&(a=a[o.gutter]),r(e,s)){if(c&&a&&c.test(a.className))return;n=i(o.indicatorFolded)}else{var p=d(s,0),h=u&&u(e,p);if(h&&h.to.line-h.from.line>=l){if(f&&a&&f.test(a.className))return;n=i(o.indicatorOpen)}}(n||a)&&e.setGutterMarker(t,o.gutter,n)})}function a(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}function s(e){var t=e.getViewport(),n=e.state.foldGutter;n&&(e.operation(function(){o(e,t.from,t.to)}),n.from=t.from,n.to=t.to)}function l(e,t,n){var i=e.state.foldGutter;if(i){var o=i.options;if(n==o.gutter){var a=r(e,t);a?a.clear():e.foldCode(d(t,0),o)}}}function u(e){var t=e.state.foldGutter;if(t){var n=t.options;t.from=t.to=0,clearTimeout(t.changeUpdate),t.changeUpdate=setTimeout(function(){s(e)},n.foldOnChangeTimeSpan||600)}}function c(e){var t=e.state.foldGutter;if(t){var n=t.options;clearTimeout(t.changeUpdate),t.changeUpdate=setTimeout(function(){var n=e.getViewport();t.from==t.to||n.from-t.to>20||t.from-n.to>20?s(e):e.operation(function(){n.from<t.from&&(o(e,n.from,t.from),t.from=n.from),n.to>t.to&&(o(e,t.to,n.to),t.to=n.to)})},n.updateViewportTimeSpan||400)}}function f(e,t){var n=e.state.foldGutter;if(n){var r=t.line;r>=n.from&&r<n.to&&o(e,r,r+1)}}e.defineOption("foldGutter",!1,function(r,i,o){o&&o!=e.Init&&(r.clearGutter(r.state.foldGutter.options.gutter),r.state.foldGutter=null,r.off("gutterClick",l),r.off("changes",u),r.off("viewportChange",c),r.off("fold",f),r.off("unfold",f),r.off("swapDoc",u)),i&&(r.state.foldGutter=new t(n(i)),s(r),r.on("gutterClick",l),r.on("changes",u),r.on("viewportChange",c),r.on("fold",f),r.on("unfold",f),r.on("swapDoc",u))});var d=e.Pos}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function t(t,n){var r=t.getLine(n),i=r.search(/\S/);return-1==i||/\bcomment\b/.test(t.getTokenTypeAt(e.Pos(n,i+1)))?-1:e.countColumn(r,null,t.getOption("tabSize"))}e.registerHelper("fold","indent",function(n,r){var i=t(n,r.line);if(!(i<0)){for(var o=null,a=r.line+1,s=n.lastLine();a<=s;++a){var l=t(n,a);if(-1==l);else{if(!(l>i))break;o=a}}return o?{from:e.Pos(r.line,n.getLine(r.line).length),to:e.Pos(o,n.getLine(o).length)}:void 0}})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.registerHelper("fold","brace",function(t,n){function r(r){for(var s=n.ch,l=0;;){var u=s<=0?-1:o.lastIndexOf(r,s-1);if(-1!=u){if(1==l&&u<n.ch)break;if(a=t.getTokenTypeAt(e.Pos(i,u+1)),!/^(comment|string)/.test(a))return u+1;s=u-1}else{if(1==l)break;l=1,s=o.length}}}var i=n.line,o=t.getLine(i),a,s="{",l="}",u=r("{");if(null==u&&(s="[",l="]",u=r("[")),null!=u){var c=1,f=t.lastLine(),d,p;e:for(var h=i;h<=f;++h)for(var m=t.getLine(h),g=h==i?u:0;;){var v=m.indexOf(s,g),y=m.indexOf(l,g);if(v<0&&(v=m.length),y<0&&(y=m.length),(g=Math.min(v,y))==m.length)break;if(t.getTokenTypeAt(e.Pos(h,g+1))==a)if(g==v)++c;else if(!--c){d=h,p=g;break e}++g}if(null!=d&&i!=d)return{from:e.Pos(i,u),to:e.Pos(d,p)}}}),e.registerHelper("fold","import",function(t,n){function r(n){if(n<t.firstLine()||n>t.lastLine())return null;var r=t.getTokenAt(e.Pos(n,1));if(/\S/.test(r.string)||(r=t.getTokenAt(e.Pos(n,r.end+1))),"keyword"!=r.type||"import"!=r.string)return null;for(var i=n,o=Math.min(t.lastLine(),n+10);i<=o;++i){var a,s=t.getLine(i).indexOf(";");if(-1!=s)return{startCh:r.end,end:e.Pos(i,s)}}}var i=n.line,o=r(i),a;if(!o||r(i-1)||(a=r(i-2))&&a.end.line==i-1)return null;for(var s=o.end;;){var l=r(s.line+1);if(null==l)break;s=l.end}return{from:t.clipPos(e.Pos(i,o.startCh+1)),to:s}}),e.registerHelper("fold","include",function(t,n){function r(n){if(n<t.firstLine()||n>t.lastLine())return null;var r=t.getTokenAt(e.Pos(n,1));return/\S/.test(r.string)||(r=t.getTokenAt(e.Pos(n,r.end+1))),"meta"==r.type&&"#include"==r.string.slice(0,8)?r.start+8:void 0}var i=n.line,o=r(i);if(null==o||null!=r(i-1))return null;for(var a=i;;){var s;if(null==r(a+1))break;++a}return{from:e.Pos(i,o+1),to:t.clipPos(e.Pos(a))}})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function t(e,t){return e.line-t.line||e.ch-t.ch}function n(e,t,n,r){this.line=t,this.ch=n,this.cm=e,this.text=e.getLine(t),this.min=r?Math.max(r.from,e.firstLine()):e.firstLine(),this.max=r?Math.min(r.to-1,e.lastLine()):e.lastLine()}function r(e,t){var n=e.cm.getTokenTypeAt(d(e.line,t));return n&&/\btag\b/.test(n)}function i(e){if(!(e.line>=e.max))return e.ch=0,e.text=e.cm.getLine(++e.line),!0}function o(e){if(!(e.line<=e.min))return e.text=e.cm.getLine(--e.line),e.ch=e.text.length,!0}function a(e){for(;;){var t=e.text.indexOf(">",e.ch);if(-1==t){if(i(e))continue;return}if(r(e,t+1)){var n=e.text.lastIndexOf("/",t),o=n>-1&&!/\S/.test(e.text.slice(n+1,t));return e.ch=t+1,o?"selfClose":"regular"}e.ch=t+1}}function s(e){for(;;){var t=e.ch?e.text.lastIndexOf("<",e.ch-1):-1;if(-1==t){if(o(e))continue;return}if(r(e,t+1)){m.lastIndex=t,e.ch=t;var n=m.exec(e.text);if(n&&n.index==t)return n}else e.ch=t}}function l(e){for(;;){m.lastIndex=e.ch;var t=m.exec(e.text);if(!t){if(i(e))continue;return}if(r(e,t.index+1))return e.ch=t.index+t[0].length,t;e.ch=t.index+1}}function u(e){for(;;){var t=e.ch?e.text.lastIndexOf(">",e.ch-1):-1;if(-1==t){if(o(e))continue;return}if(r(e,t+1)){var n=e.text.lastIndexOf("/",t),i=n>-1&&!/\S/.test(e.text.slice(n+1,t));return e.ch=t+1,i?"selfClose":"regular"}e.ch=t}}function c(e,t){for(var n=[];;){var r=l(e),i,o=e.line,s=e.ch-(r?r[0].length:0);if(!r||!(i=a(e)))return;if("selfClose"!=i)if(r[1]){for(var u=n.length-1;u>=0;--u)if(n[u]==r[2]){n.length=u;break}if(u<0&&(!t||t==r[2]))return{tag:r[2],from:d(o,s),to:d(e.line,e.ch)}}else n.push(r[2])}}function f(e,t){for(var n=[];;){var r=u(e);if(!r)return;if("selfClose"!=r){var i=e.line,o=e.ch,a=s(e);if(!a)return;if(a[1])n.push(a[2]);else{for(var l=n.length-1;l>=0;--l)if(n[l]==a[2]){n.length=l;break}if(l<0&&(!t||t==a[2]))return{tag:a[2],from:d(e.line,e.ch),to:d(i,o)}}}else s(e)}}var d=e.Pos,p="A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",h,m=new RegExp("<(/?)(["+p+"]["+(p+"-:.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040")+"]*)","g");e.registerHelper("fold","xml",function(e,r){for(var i=new n(e,r.line,0);;){var o=l(i);if(!o||i.line!=r.line)return;var s=a(i);if(!s)return;if(!o[1]&&"selfClose"!=s){var u=d(i.line,i.ch),f=c(i,o[2]);return f&&t(f.from,u)>0?{from:u,to:f.from}:null}}}),e.findMatchingTag=function(e,r,i){var o=new n(e,r.line,r.ch,i);if(-1!=o.text.indexOf(">")||-1!=o.text.indexOf("<")){var l=a(o),u=l&&d(o.line,o.ch),p=l&&s(o);if(l&&p&&!(t(o,r)>0)){var h={from:d(o.line,o.ch),to:u,tag:p[2]};return"selfClose"==l?{open:h,close:null,at:"open"}:p[1]?{open:f(o,p[2]),close:h,at:"close"}:{open:h,close:c(o=new n(e,u.line,u.ch,i),p[2]),at:"open"}}}},e.findEnclosingTag=function(e,t,r,i){for(var o=new n(e,t.line,t.ch,r);;){var a=f(o,i);if(!a)break;var s,l=c(new n(e,t.line,t.ch,r),a.tag);if(l)return{open:a,close:l}}},e.scanForClosingTag=function(e,t,r,i){var o;return c(new n(e,t.line,t.ch,i?{from:0,to:i}:null),r)}}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.registerHelper("fold","markdown",function(t,n){function r(n){var r=t.getTokenTypeAt(e.Pos(n,0));return r&&/\bheader\b/.test(r)}function i(e,t,n){var i=t&&t.match(/^#+/);return i&&r(e)?i[0].length:(i=n&&n.match(/^[=\-]+\s*$/))&&r(e+1)?"="==n[0]?1:2:o}var o=100,a=t.getLine(n.line),s=t.getLine(n.line+1),l=i(n.line,a,s);if(l===o)return undefined;for(var u=t.lastLine(),c=n.line,f=t.getLine(c+2);c<u&&!(i(c+1,s,f)<=l);)++c,s=f,f=t.getLine(c+2);return{from:e.Pos(n.line,a.length),to:e.Pos(c,t.getLine(c).length)}})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.registerGlobalHelper("fold","comment",function(e){return e.blockCommentStart&&e.blockCommentEnd},function(t,n){var r=t.getModeAt(n),i=r.blockCommentStart,o=r.blockCommentEnd;if(i&&o){for(var a=n.line,s=t.getLine(a),l,u=n.ch,c=0;;){var f=u<=0?-1:s.lastIndexOf(i,u-1);if(-1!=f){if(1==c&&f<n.ch)return;if(/comment/.test(t.getTokenTypeAt(e.Pos(a,f+1)))&&(0==f||s.slice(f-o.length,f)==o||!/comment/.test(t.getTokenTypeAt(e.Pos(a,f))))){l=f+i.length;break}u=f-1}else{if(1==c)return;c=1,u=s.length}}var d=1,p=t.lastLine(),h,m;e:for(var g=a;g<=p;++g)for(var v=t.getLine(g),y=g==a?l:0;;){var b=v.indexOf(i,y),x=v.indexOf(o,y);if(b<0&&(b=v.length),x<0&&(x=v.length),(y=Math.min(b,x))==v.length)break;if(y==b)++d;else if(!--d){h=g,m=y;break e}++y}if(null!=h&&(a!=h||m!=l))return{from:e.Pos(a,l),to:e.Pos(h,m)}}})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function t(t,n,r){function i(t){var n=e.wheelEventPixels(t)["horizontal"==o.orientation?"x":"y"],r=o.pos;o.moveTo(o.pos+n),o.pos!=r&&e.e_preventDefault(t)}this.orientation=n,this.scroll=r,this.screen=this.total=this.size=1,this.pos=0,this.node=document.createElement("div"),this.node.className=t+"-"+n,this.inner=this.node.appendChild(document.createElement("div"));var o=this;e.on(this.inner,"mousedown",function(t){function n(){e.off(document,"mousemove",r),e.off(document,"mouseup",n)}function r(e){if(1!=e.which)return n();o.moveTo(s+(e[i]-a)*(o.total/o.size))}if(1==t.which){e.e_preventDefault(t);var i="horizontal"==o.orientation?"pageX":"pageY",a=t[i],s=o.pos;e.on(document,"mousemove",r),e.on(document,"mouseup",n)}}),e.on(this.node,"click",function(t){e.e_preventDefault(t);var n=o.inner.getBoundingClientRect(),r;r="horizontal"==o.orientation?t.clientX<n.left?-1:t.clientX>n.right?1:0:t.clientY<n.top?-1:t.clientY>n.bottom?1:0,o.moveTo(o.pos+r*o.screen)}),e.on(this.node,"mousewheel",i),e.on(this.node,"DOMMouseScroll",i)}function n(e,n,r){this.addClass=e,this.horiz=new t(e,"horizontal",r),n(this.horiz.node),this.vert=new t(e,"vertical",r),n(this.vert.node),this.width=null}t.prototype.setPos=function(e,t){return e<0&&(e=0),e>this.total-this.screen&&(e=this.total-this.screen),!(!t&&e==this.pos)&&(this.pos=e,this.inner.style["horizontal"==this.orientation?"left":"top"]=e*(this.size/this.total)+"px",!0)},t.prototype.moveTo=function(e){this.setPos(e)&&this.scroll(e,this.orientation)};var r=10;t.prototype.update=function(e,t,n){var i=this.screen!=t||this.total!=e||this.size!=n;i&&(this.screen=t,this.total=e,this.size=n);var o=this.screen*(this.size/this.total);o<r&&(this.size-=r-o,o=r),this.inner.style["horizontal"==this.orientation?"width":"height"]=o+"px",this.setPos(this.pos,i)},n.prototype.update=function(e){if(null==this.width){var t=window.getComputedStyle?window.getComputedStyle(this.horiz.node):this.horiz.node.currentStyle;t&&(this.width=parseInt(t.height))}var n=this.width||0,r=e.scrollWidth>e.clientWidth+1,i=e.scrollHeight>e.clientHeight+1;return this.vert.node.style.display=i?"block":"none",this.horiz.node.style.display=r?"block":"none",i&&(this.vert.update(e.scrollHeight,e.clientHeight,e.viewHeight-(r?n:0)),this.vert.node.style.bottom=r?n+"px":"0"),r&&(this.horiz.update(e.scrollWidth,e.clientWidth,e.viewWidth-(i?n:0)-e.barLeft),this.horiz.node.style.right=i?n+"px":"0",this.horiz.node.style.left=e.barLeft+"px"),{right:i?n:0,bottom:r?n:0}},n.prototype.setScrollTop=function(e){this.vert.setPos(e)},n.prototype.setScrollLeft=function(e){this.horiz.setPos(e)},n.prototype.clear=function(){var e=this.horiz.node.parentNode;e.removeChild(this.horiz.node),e.removeChild(this.vert.node)},e.scrollbarModel.simple=function(e,t){return new n("CodeMirror-simplescroll",e,t)},e.scrollbarModel.overlay=function(e,t){return new n("CodeMirror-overlayscroll",e,t)}}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.runMode=function(t,n,r,i){var o=e.getMode(e.defaults,n),a=i&&i.tabSize||e.defaults.tabSize;if(r.appendChild){var s,l=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||document.documentMode<9),u=r,c=0;u.innerHTML="",r=function(e,t){if("\n"==e)return u.appendChild(document.createTextNode(l?"\r":e)),void(c=0);for(var n="",r=0;;){var i=e.indexOf("\t",r);if(-1==i){n+=e.slice(r),c+=e.length-r;break}c+=i-r,n+=e.slice(r,i);var o=a-c%a;c+=o;for(var s=0;s<o;++s)n+=" ";r=i+1}if(t){var f=u.appendChild(document.createElement("span"));f.className="cm-"+t.replace(/ +/g," cm-"),f.appendChild(document.createTextNode(n))}else u.appendChild(document.createTextNode(n))}}for(var f=e.splitLines(t),d=i&&i.state||e.startState(o),p=0,h=f.length;p<h;++p){p&&r("\n");var m=new e.StringStream(f[p],null,{lookAhead:function(e){return f[p+e]},baseToken:function(){}});for(!m.string&&o.blankLine&&o.blankLine(d);!m.eol();){var g=o.token(m,d);r(m.current(),g,p,m.start,d),m.start=m.pos}}}}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";var t={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},n={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};e.defineMode("xml",function(r,i){function o(e,t){function n(n){return t.tokenize=n,n(e,t)}var r=e.next(),i;return"<"==r?e.eat("!")?e.eat("[")?e.match("CDATA[")?n(l("atom","]]>")):null:e.match("--")?n(l("comment","-->")):e.match("DOCTYPE",!0,!0)?(e.eatWhile(/[\w\._\-]/),n(u(1))):null:e.eat("?")?(e.eatWhile(/[\w\._\-]/),t.tokenize=l("meta","?>"),"meta"):(T=e.eat("/")?"closeTag":"openTag",t.tokenize=a,"tag bracket"):"&"==r?(i=e.eat("#")?e.eat("x")?e.eatWhile(/[a-fA-F\d]/)&&e.eat(";"):e.eatWhile(/[\d]/)&&e.eat(";"):e.eatWhile(/[\w\.\-:]/)&&e.eat(";"))?"atom":"error":(e.eatWhile(/[^&<]/),null)}function a(e,t){var n=e.next();if(">"==n||"/"==n&&e.eat(">"))return t.tokenize=o,T=">"==n?"endTag":"selfcloseTag","tag bracket";if("="==n)return T="equals",null;if("<"==n){t.tokenize=o,t.state=p,t.tagName=t.tagStart=null;var r=t.tokenize(e,t);return r?r+" tag error":"tag error"}return/[\'\"]/.test(n)?(t.tokenize=s(n),t.stringStartCol=e.column(),t.tokenize(e,t)):(e.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function s(e){var t=function(t,n){for(;!t.eol();)if(t.next()==e){n.tokenize=a;break}return"string"};return t.isInAttribute=!0,t}function l(e,t){return function(n,r){for(;!n.eol();){if(n.match(t)){r.tokenize=o;break}n.next()}return e}}function u(e){return function(t,n){for(var r;null!=(r=t.next());){if("<"==r)return n.tokenize=u(e+1),n.tokenize(t,n);if(">"==r){if(1==e){n.tokenize=o;break}return n.tokenize=u(e-1),n.tokenize(t,n)}}return"meta"}}function c(e,t,n){this.prev=e.context,this.tagName=t,this.indent=e.indented,this.startOfLine=n,(C.doNotIndent.hasOwnProperty(t)||e.context&&e.context.noIndent)&&(this.noIndent=!0)}function f(e){e.context&&(e.context=e.context.prev)}function d(e,t){for(var n;;){if(!e.context)return;if(n=e.context.tagName,!C.contextGrabbers.hasOwnProperty(n)||!C.contextGrabbers[n].hasOwnProperty(t))return;f(e)}}function p(e,t,n){return"openTag"==e?(n.tagStart=t.column(),h):"closeTag"==e?m:p}function h(e,t,n){return"word"==e?(n.tagName=t.current(),_="tag",y):C.allowMissingTagName&&"endTag"==e?(_="tag bracket",y(e,t,n)):(_="error",h)}function m(e,t,n){if("word"==e){var r=t.current();return n.context&&n.context.tagName!=r&&C.implicitlyClosed.hasOwnProperty(n.context.tagName)&&f(n),n.context&&n.context.tagName==r||!1===C.matchClosing?(_="tag",g):(_="tag error",v)}return C.allowMissingTagName&&"endTag"==e?(_="tag bracket",g(e,t,n)):(_="error",v)}function g(e,t,n){return"endTag"!=e?(_="error",g):(f(n),p)}function v(e,t,n){return _="error",g(e,t,n)}function y(e,t,n){if("word"==e)return _="attribute",b;if("endTag"==e||"selfcloseTag"==e){var r=n.tagName,i=n.tagStart;return n.tagName=n.tagStart=null,"selfcloseTag"==e||C.autoSelfClosers.hasOwnProperty(r)?d(n,r):(d(n,r),n.context=new c(n,r,i==n.indented)),p}return _="error",y}function b(e,t,n){return"equals"==e?x:(C.allowMissing||(_="error"),y(e,t,n))}function x(e,t,n){return"string"==e?w:"word"==e&&C.allowUnquoted?(_="string",y):(_="error",y(e,t,n))}function w(e,t,n){return"string"==e?w:y(e,t,n)}var k=r.indentUnit,C={},S=i.htmlMode?t:n,T,_;for(var E in S)C[E]=S[E];for(var E in i)C[E]=i[E];return o.isInText=!0,{startState:function(e){var t={tokenize:o,state:p,indented:e||0,tagName:null,tagStart:null,context:null};return null!=e&&(t.baseIndent=e),t},token:function(e,t){if(!t.tagName&&e.sol()&&(t.indented=e.indentation()),e.eatSpace())return null;T=null;var n=t.tokenize(e,t);return(n||T)&&"comment"!=n&&(_=null,t.state=t.state(T||n,e,t),_&&(n="error"==_?n+" error":_)),n},indent:function(t,n,r){var i=t.context;if(t.tokenize.isInAttribute)return t.tagStart==t.indented?t.stringStartCol+1:t.indented+k;if(i&&i.noIndent)return e.Pass;if(t.tokenize!=a&&t.tokenize!=o)return r?r.match(/^(\s*)/)[0].length:0;if(t.tagName)return!1!==C.multilineTagIndentPastTag?t.tagStart+t.tagName.length+2:t.tagStart+k*(C.multilineTagIndentFactor||1);if(C.alignCDATA&&/<!\[CDATA\[/.test(n))return 0;var s=n&&/^<(\/)?([\w_:\.-]*)/.exec(n);if(s&&s[1])for(;i;){if(i.tagName==s[2]){i=i.prev;break}if(!C.implicitlyClosed.hasOwnProperty(i.tagName))break;i=i.prev}else if(s)for(;i;){var l=C.contextGrabbers[i.tagName];if(!l||!l.hasOwnProperty(s[2]))break;i=i.prev}for(;i&&i.prev&&!i.startOfLine;)i=i.prev;return i?i.indent+k:t.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:C.htmlMode?"html":"xml",helperType:C.htmlMode?"html":"xml",skipAttribute:function(e){e.state==x&&(e.state=y)},xmlCurrentTag:function(e){return e.tagName?{name:e.tagName,close:"closeTag"==e.type}:null},xmlCurrentContext:function(e){for(var t=[],n=e.context;n;n=n.prev)n.tagName&&t.push(n.tagName);return t.reverse()}}}),e.defineMIME("text/xml","xml"),e.defineMIME("application/xml","xml"),e.mimeModes.hasOwnProperty("text/html")||e.defineMIME("text/html",{name:"xml",htmlMode:!0})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("../xml/xml"),require("../javascript/javascript"),require("../css/css")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../xml/xml","../javascript/javascript","../css/css"],e):e(CodeMirror)}(function(e){"use strict";function t(e,t,n){var r=e.current(),i=r.search(t);return i>-1?e.backUp(r.length-i):r.match(/<\/?$/)&&(e.backUp(r.length),e.match(t,!1)||e.match(r)),n}function n(e){var t=l[e];return t||(l[e]=new RegExp("\\s+"+e+"\\s*=\\s*('|\")?([^'\"]+)('|\")?\\s*"))}function r(e,t){var r=e.match(n(t));return r?/^\s*(.*?)\s*$/.exec(r[2])[1]:""}function i(e,t){return new RegExp((t?"^":"")+"</s*"+e+"s*>","i")}function o(e,t){for(var n in e)for(var r=t[n]||(t[n]=[]),i=e[n],o=i.length-1;o>=0;o--)r.unshift(i[o])}function a(e,t){for(var n=0;n<e.length;n++){var i=e[n];if(!i[0]||i[1].test(r(t,i[0])))return i[2]}}var s={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]},l={};e.defineMode("htmlmixed",function(n,r){function l(r,o){var s=u.token(r,o.htmlState),f=/\btag\b/.test(s),d;if(f&&!/[<>\s\/]/.test(r.current())&&(d=o.htmlState.tagName&&o.htmlState.tagName.toLowerCase())&&c.hasOwnProperty(d))o.inTag=d+" ";else if(o.inTag&&f&&/>$/.test(r.current())){var p=/^([\S]+) (.*)/.exec(o.inTag);o.inTag=null;var h=">"==r.current()&&a(c[p[1]],p[2]),m=e.getMode(n,h),g=i(p[1],!0),v=i(p[1],!1);o.token=function(e,n){return e.match(g,!1)?(n.token=l,n.localState=n.localMode=null,null):t(e,v,n.localMode.token(e,n.localState))},o.localMode=m,o.localState=e.startState(m,u.indent(o.htmlState,"",""))}else o.inTag&&(o.inTag+=r.current(),r.eol()&&(o.inTag+=" "));return s}var u=e.getMode(n,{name:"xml",htmlMode:!0,multilineTagIndentFactor:r.multilineTagIndentFactor,multilineTagIndentPastTag:r.multilineTagIndentPastTag}),c={},f=r&&r.tags,d=r&&r.scriptTypes;if(o(s,c),f&&o(f,c),d)for(var p=d.length-1;p>=0;p--)c.script.unshift(["type",d[p].matches,d[p].mode]);return{startState:function(){var t;return{token:l,inTag:null,localMode:null,localState:null,htmlState:e.startState(u)}},copyState:function(t){var n;return t.localState&&(n=e.copyState(t.localMode,t.localState)),{token:t.token,inTag:t.inTag,localMode:t.localMode,localState:n,htmlState:e.copyState(u,t.htmlState)}},token:function(e,t){return t.token(e,t)},indent:function(t,n,r){return!t.localMode||/^\s*<\//.test(n)?u.indent(t.htmlState,n,r):t.localMode.indent?t.localMode.indent(t.localState,n,r):e.Pass},innerMode:function(e){return{state:e.localState||e.htmlState,mode:e.localMode||u}}}},"xml","javascript","css"),e.defineMIME("text/html","htmlmixed")}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("../xml/xml"),require("../meta")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../xml/xml","../meta"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("markdown",function(t,n){function r(n){if(e.findModeByName){var r=e.findModeByName(n);r&&(n=r.mime||r.mimes[0])}var i=e.getMode(t,n);return"null"==i.name?null:i}function i(e,t,n){return t.f=t.inline=n,n(e,t)}function o(e,t,n){return t.f=t.block=n,n(e,t)}function a(e){return!e||!/\S/.test(e.string)}function s(t){if(t.linkTitle=!1,t.linkHref=!1,t.linkText=!1,t.em=!1,t.strong=!1,t.strikethrough=!1,t.quote=0,t.indentedCode=!1,t.f==u){var n=w;if(!n){var r=e.innerMode(x,t.htmlState);n="xml"==r.mode.name&&null===r.state.tagStart&&!r.state.context&&r.state.tokenize.isInText}n&&(t.f=p,t.block=l,t.htmlState=null)}return t.trailingSpace=0,t.trailingSpaceNewLine=!1,t.prevLine=t.thisLine,t.thisLine={stream:null},null}function l(t,o){var s=t.column()===o.indentation,l=a(o.prevLine.stream),u=o.indentedCode,d=o.prevLine.hr,p=!1!==o.list,h=(o.listStack[o.listStack.length-1]||0)+3;o.indentedCode=!1;var m=o.indentation;if(null===o.indentationDiff&&(o.indentationDiff=o.indentation,p)){for(o.list=null;m<o.listStack[o.listStack.length-1];)o.listStack.pop(),o.listStack.length?o.indentation=o.listStack[o.listStack.length-1]:o.list=!1;!1!==o.list&&(o.indentationDiff=m-o.listStack[o.listStack.length-1])}var g=!(l||d||o.prevLine.header||p&&u||o.prevLine.fencedCodeEnd),y=(!1===o.list||d||l)&&o.indentation<=h&&t.match(S),b=null;if(o.indentationDiff>=4&&(u||o.prevLine.fencedCodeEnd||o.prevLine.header||l))return t.skipToEnd(),o.indentedCode=!0,k.code;if(t.eatSpace())return null;if(s&&o.indentation<=h&&(b=t.match(E))&&b[1].length<=6)return o.quote=0,o.header=b[1].length,o.thisLine.header=!0,n.highlightFormatting&&(o.formatting="header"),o.f=o.inline,f(o);if(o.indentation<=h&&t.eat(">"))return o.quote=s?1:o.quote+1,n.highlightFormatting&&(o.formatting="quote"),t.eatSpace(),f(o);if(!y&&!o.setext&&s&&o.indentation<=h&&(b=t.match(T))){var x=b[1]?"ol":"ul";return o.indentation=m+t.current().length,o.list=!0,o.quote=0,o.listStack.push(o.indentation),o.em=!1,o.strong=!1,o.code=!1,o.strikethrough=!1,n.taskLists&&t.match(_,!1)&&(o.taskList=!0),o.f=o.inline,n.highlightFormatting&&(o.formatting=["list","list-"+x]),f(o)}return s&&o.indentation<=h&&(b=t.match(A,!0))?(o.quote=0,o.fencedEndRE=new RegExp(b[1]+"+ *$"),o.localMode=n.fencedCodeBlockHighlighting&&r(b[2]||n.fencedCodeBlockDefaultMode),o.localMode&&(o.localState=e.startState(o.localMode)),o.f=o.block=c,n.highlightFormatting&&(o.formatting="code-block"),o.code=-1,f(o)):o.setext||!(g&&p||o.quote||!1!==o.list||o.code||y||N.test(t.string))&&(b=t.lookAhead(1))&&(b=b.match(L))?(o.setext?(o.header=o.setext,o.setext=0,t.skipToEnd(),n.highlightFormatting&&(o.formatting="header")):(o.header="="==b[0].charAt(0)?1:2,o.setext=o.header),o.thisLine.header=!0,o.f=o.inline,f(o)):y?(t.skipToEnd(),o.hr=!0,o.thisLine.hr=!0,k.hr):"["===t.peek()?i(t,o,v):i(t,o,o.inline)}function u(t,n){var r=x.token(t,n.htmlState);if(!w){var i=e.innerMode(x,n.htmlState);("xml"==i.mode.name&&null===i.state.tagStart&&!i.state.context&&i.state.tokenize.isInText||n.md_inside&&t.current().indexOf(">")>-1)&&(n.f=p,n.block=l,n.htmlState=null)}return r}function c(e,t){var r=t.listStack[t.listStack.length-1]||0,i=t.indentation<r,a=r+3,s;return t.fencedEndRE&&t.indentation<=a&&(i||e.match(t.fencedEndRE))?(n.highlightFormatting&&(t.formatting="code-block"),i||(s=f(t)),t.localMode=t.localState=null,t.block=l,t.f=p,t.fencedEndRE=null,t.code=0,t.thisLine.fencedCodeEnd=!0,i?o(e,t,t.block):s):t.localMode?t.localMode.token(e,t.localState):(e.skipToEnd(),k.code)}function f(e){var t=[];if(e.formatting){t.push(k.formatting),"string"==typeof e.formatting&&(e.formatting=[e.formatting]);for(var r=0;r<e.formatting.length;r++)t.push(k.formatting+"-"+e.formatting[r]),"header"===e.formatting[r]&&t.push(k.formatting+"-"+e.formatting[r]+"-"+e.header),"quote"===e.formatting[r]&&(!n.maxBlockquoteDepth||n.maxBlockquoteDepth>=e.quote?t.push(k.formatting+"-"+e.formatting[r]+"-"+e.quote):t.push("error"))}if(e.taskOpen)return t.push("meta"),t.length?t.join(" "):null;if(e.taskClosed)return t.push("property"),t.length?t.join(" "):null;if(e.linkHref?t.push(k.linkHref,"url"):(e.strong&&t.push(k.strong),e.em&&t.push(k.em),e.strikethrough&&t.push(k.strikethrough),e.emoji&&t.push(k.emoji),e.linkText&&t.push(k.linkText),e.code&&t.push(k.code),e.image&&t.push(k.image),e.imageAltText&&t.push(k.imageAltText,"link"),e.imageMarker&&t.push(k.imageMarker)),e.header&&t.push(k.header,k.header+"-"+e.header),e.quote&&(t.push(k.quote),!n.maxBlockquoteDepth||n.maxBlockquoteDepth>=e.quote?t.push(k.quote+"-"+e.quote):t.push(k.quote+"-"+n.maxBlockquoteDepth)),!1!==e.list){var i=(e.listStack.length-1)%3;i?1===i?t.push(k.list2):t.push(k.list3):t.push(k.list1)}return e.trailingSpaceNewLine?t.push("trailing-space-new-line"):e.trailingSpace&&t.push("trailing-space-"+(e.trailingSpace%2?"a":"b")),t.length?t.join(" "):null}function d(e,t){return e.match(M,!0)?f(t):undefined}function p(t,r){var i=r.text(t,r),a;if(void 0!==i)return i;if(r.list)return r.list=null,f(r);if(r.taskList)return" "===t.match(_,!0)[1]?r.taskOpen=!0:r.taskClosed=!0,n.highlightFormatting&&(r.formatting="task"),r.taskList=!1,f(r);if(r.taskOpen=!1,r.taskClosed=!1,r.header&&t.match(/^#+$/,!0))return n.highlightFormatting&&(r.formatting="header"),f(r);var s=t.next(),l,l;if(r.linkTitle){r.linkTitle=!1;var c=s;"("===s&&(c=")");var d="^\\s*(?:[^"+(c=(c+"").replace(/([.?*+^\[\]\\(){}|-])/g,"\\$1"))+"\\\\]+|\\\\\\\\|\\\\.)"+c;if(t.match(new RegExp(d),!0))return k.linkHref}if("`"===s){var g=r.formatting;n.highlightFormatting&&(r.formatting="code"),t.eatWhile("`");var v=t.current().length;if(0!=r.code||r.quote&&1!=v){if(v==r.code){var y=f(r);return r.code=0,y}return r.formatting=g,f(r)}return r.code=v,f(r)}if(r.code)return f(r);if("\\"===s&&(t.next(),n.highlightFormatting)){var l=f(r),b=k.formatting+"-escape";return l?l+" "+b:b}if("!"===s&&t.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return r.imageMarker=!0,r.image=!0,n.highlightFormatting&&(r.formatting="image"),f(r);if("["===s&&r.imageMarker&&t.match(/[^\]]*\](\(.*?\)| ?\[.*?\])/,!1))return r.imageMarker=!1,r.imageAltText=!0,n.highlightFormatting&&(r.formatting="image"),f(r);if("]"===s&&r.imageAltText){n.highlightFormatting&&(r.formatting="image");var l=f(r);return r.imageAltText=!1,r.image=!1,r.inline=r.f=m,l}if("["===s&&!r.image)return r.linkText&&t.match(/^.*?\]/)?f(r):(r.linkText=!0,n.highlightFormatting&&(r.formatting="link"),f(r));if("]"===s&&r.linkText){n.highlightFormatting&&(r.formatting="link");var l=f(r);return r.linkText=!1,r.inline=r.f=t.match(/\(.*?\)| ?\[.*?\]/,!1)?m:p,l}if("<"===s&&t.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1))return r.f=r.inline=h,n.highlightFormatting&&(r.formatting="link"),(l=f(r))?l+=" ":l="",l+k.linkInline;if("<"===s&&t.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1))return r.f=r.inline=h,n.highlightFormatting&&(r.formatting="link"),(l=f(r))?l+=" ":l="",l+k.linkEmail;if(n.xml&&"<"===s&&t.match(/^(!--|\?|!\[CDATA\[|[a-z][a-z0-9-]*(?:\s+[a-z_:.\-]+(?:\s*=\s*[^>]+)?)*\s*(?:>|$))/i,!1)){var w=t.string.indexOf(">",t.pos);if(-1!=w){var C=t.string.substring(t.start,w);/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(C)&&(r.md_inside=!0)}return t.backUp(1),r.htmlState=e.startState(x),o(t,r,u)}if(n.xml&&"<"===s&&t.match(/^\/\w*?>/))return r.md_inside=!1,"tag";if("*"===s||"_"===s){for(var S=1,T=1==t.pos?" ":t.string.charAt(t.pos-2);S<3&&t.eat(s);)S++;var E=t.peek()||" ",L=!/\s/.test(E)&&(!P.test(E)||/\s/.test(T)||P.test(T)),M=!/\s/.test(T)&&(!P.test(T)||/\s/.test(E)||P.test(E)),A=null,N=null;if(S%2&&(r.em||!L||"*"!==s&&M&&!P.test(T)?r.em!=s||!M||"*"!==s&&L&&!P.test(E)||(A=!1):A=!0),S>1&&(r.strong||!L||"*"!==s&&M&&!P.test(T)?r.strong!=s||!M||"*"!==s&&L&&!P.test(E)||(N=!1):N=!0),null!=N||null!=A){n.highlightFormatting&&(r.formatting=null==A?"strong":null==N?"em":"strong em"),!0===A&&(r.em=s),!0===N&&(r.strong=s);var y=f(r);return!1===A&&(r.em=!1),!1===N&&(r.strong=!1),y}}else if(" "===s&&(t.eat("*")||t.eat("_"))){if(" "===t.peek())return f(r);t.backUp(1)}if(n.strikethrough)if("~"===s&&t.eatWhile(s)){if(r.strikethrough){n.highlightFormatting&&(r.formatting="strikethrough");var y=f(r);return r.strikethrough=!1,y}if(t.match(/^[^\s]/,!1))return r.strikethrough=!0,n.highlightFormatting&&(r.formatting="strikethrough"),f(r)}else if(" "===s&&t.match(/^~~/,!0)){if(" "===t.peek())return f(r);t.backUp(2)}if(n.emoji&&":"===s&&t.match(/^(?:[a-z_\d+][a-z_\d+-]*|\-[a-z_\d+][a-z_\d+-]*):/)){r.emoji=!0,n.highlightFormatting&&(r.formatting="emoji");var O=f(r);return r.emoji=!1,O}return" "===s&&(t.match(/^ +$/,!1)?r.trailingSpace++:r.trailingSpace&&(r.trailingSpaceNewLine=!0)),f(r)}function h(e,t){var r;if(">"===e.next()){t.f=t.inline=p,n.highlightFormatting&&(t.formatting="link");var i=f(t);return i?i+=" ":i="",i+k.linkInline}return e.match(/^[^>]+/,!0),k.linkInline}function m(e,t){if(e.eatSpace())return null;var r=e.next();return"("===r||"["===r?(t.f=t.inline=g("("===r?")":"]"),n.highlightFormatting&&(t.formatting="link-string"),t.linkHref=!0,f(t)):"error"}function g(e){return function(t,r){var i;if(t.next()===e){r.f=r.inline=p,n.highlightFormatting&&(r.formatting="link-string");var o=f(r);return r.linkHref=!1,o}return t.match(j[e]),r.linkHref=!0,f(r)}}function v(e,t){return e.match(/^([^\]\\]|\\.)*\]:/,!1)?(t.f=y,e.next(),n.highlightFormatting&&(t.formatting="link"),t.linkText=!0,f(t)):i(e,t,p)}function y(e,t){if(e.match(/^\]:/,!0)){t.f=t.inline=b,n.highlightFormatting&&(t.formatting="link");var r=f(t);return t.linkText=!1,r}return e.match(/^([^\]\\]|\\.)+/,!0),k.linkText}function b(e,t){return e.eatSpace()?null:(e.match(/^[^\s]+/,!0),e.peek()===undefined?t.linkTitle=!0:e.match(/^(?:\s+(?:"(?:[^"\\]|\\\\|\\.)+"|'(?:[^'\\]|\\\\|\\.)+'|\((?:[^)\\]|\\\\|\\.)+\)))?/,!0),t.f=t.inline=p,k.linkHref+" url")}var x=e.getMode(t,"text/html"),w="null"==x.name;n.highlightFormatting===undefined&&(n.highlightFormatting=!1),n.maxBlockquoteDepth===undefined&&(n.maxBlockquoteDepth=0),n.taskLists===undefined&&(n.taskLists=!1),n.strikethrough===undefined&&(n.strikethrough=!1),n.emoji===undefined&&(n.emoji=!1),n.fencedCodeBlockHighlighting===undefined&&(n.fencedCodeBlockHighlighting=!0),n.fencedCodeBlockDefaultMode===undefined&&(n.fencedCodeBlockDefaultMode="text/plain"),n.xml===undefined&&(n.xml=!0),n.tokenTypeOverrides===undefined&&(n.tokenTypeOverrides={});var k={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"image",imageAltText:"image-alt-text",imageMarker:"image-marker",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough",emoji:"builtin"};for(var C in k)k.hasOwnProperty(C)&&n.tokenTypeOverrides[C]&&(k[C]=n.tokenTypeOverrides[C]);var S=/^([*\-_])(?:\s*\1){2,}\s*$/,T=/^(?:[*\-+]|^[0-9]+([.)]))\s+/,_=/^\[(x| )\](?=\s)/i,E=n.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,L=/^ {0,3}(?:\={1,}|-{2,})\s*$/,M=/^[^#!\[\]*_\\<>` "'(~:]+/,A=/^(~~~+|```+)[ \t]*([\w\/+#-]*)[^\n`]*$/,N=/^\s*\[[^\]]+?\]:.*$/,P=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/,O="    ",j={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\]]|\\.)*\])*?(?=\])/},D={startState:function(){return{f:l,prevLine:{stream:null},thisLine:{stream:null},block:l,htmlState:null,indentation:0,inline:p,text:d,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,setext:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,emoji:!1,fencedEndRE:null}},copyState:function(t){return{f:t.f,prevLine:t.prevLine,thisLine:t.thisLine,block:t.block,htmlState:t.htmlState&&e.copyState(x,t.htmlState),indentation:t.indentation,localMode:t.localMode,localState:t.localMode?e.copyState(t.localMode,t.localState):null,inline:t.inline,text:t.text,formatting:!1,linkText:t.linkText,linkTitle:t.linkTitle,linkHref:t.linkHref,code:t.code,em:t.em,strong:t.strong,strikethrough:t.strikethrough,emoji:t.emoji,header:t.header,setext:t.setext,hr:t.hr,taskList:t.taskList,list:t.list,listStack:t.listStack.slice(0),quote:t.quote,indentedCode:t.indentedCode,trailingSpace:t.trailingSpace,trailingSpaceNewLine:t.trailingSpaceNewLine,md_inside:t.md_inside,fencedEndRE:t.fencedEndRE}},token:function(e,t){if(t.formatting=!1,e!=t.thisLine.stream){if(t.header=0,t.hr=!1,e.match(/^\s*$/,!0))return s(t),null;if(t.prevLine=t.thisLine,t.thisLine={stream:e},t.taskList=!1,t.trailingSpace=0,t.trailingSpaceNewLine=!1,!t.localState&&(t.f=t.block,t.f!=u)){var n=e.match(/^\s*/,!0)[0].replace(/\t/g,O).length;if(t.indentation=n,t.indentationDiff=null,n>0)return null}}return t.f(e,t)},innerMode:function(e){return e.block==u?{state:e.htmlState,mode:x}:e.localState?{state:e.localState,mode:e.localMode}:{state:e,mode:D}},indent:function(t,n,r){return t.block==u&&x.indent?x.indent(t.htmlState,n,r):t.localState&&t.localMode.indent?t.localMode.indent(t.localState,n,r):e.Pass},blankLine:s,getType:f,blockCommentStart:"<!--",blockCommentEnd:"-->",closeBrackets:"()[]{}''\"\"``",fold:"markdown"};return D},"xml"),e.defineMIME("text/markdown","markdown"),e.defineMIME("text/x-markdown","markdown")}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("../htmlmixed/htmlmixed"),require("../ruby/ruby")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../htmlmixed/htmlmixed","../ruby/ruby"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("haml",function(t){function n(e){return function(t,n){var o;return t.peek()==e&&1==n.rubyState.tokenize.length?(t.next(),n.tokenize=i,"closeAttributeTag"):r(t,n)}}function r(e,t){return e.match("-#")?(e.skipToEnd(),"comment"):a.token(e,t.rubyState)}function i(e,t){var i=e.peek();if("comment"==t.previousToken.style&&t.indented>t.previousToken.indented)return e.skipToEnd(),"commentLine";if(t.startOfLine){if("!"==i&&e.match("!!"))return e.skipToEnd(),"tag";if(e.match(/^%[\w:#\.]+=/))return t.tokenize=r,"hamlTag";if(e.match(/^%[\w:]+/))return"hamlTag";if("/"==i)return e.skipToEnd(),"comment"}if((t.startOfLine||"hamlTag"==t.previousToken.style)&&("#"==i||"."==i))return e.match(/[\w-#\.]*/),"hamlAttribute";if(t.startOfLine&&!e.match("-->",!1)&&("="==i||"-"==i))return t.tokenize=r,t.tokenize(e,t);if("hamlTag"==t.previousToken.style||"closeAttributeTag"==t.previousToken.style||"hamlAttribute"==t.previousToken.style){if("("==i)return t.tokenize=n(")"),t.tokenize(e,t);if("{"==i&&!e.match(/^\{%.*/))return t.tokenize=n("}"),t.tokenize(e,t)}return o.token(e,t.htmlState)}var o=e.getMode(t,{name:"htmlmixed"}),a=e.getMode(t,"ruby");return{startState:function(){var t,n;return{htmlState:e.startState(o),rubyState:e.startState(a),indented:0,previousToken:{style:null,indented:0},tokenize:i}},copyState:function(t){return{htmlState:e.copyState(o,t.htmlState),rubyState:e.copyState(a,t.rubyState),indented:t.indented,previousToken:t.previousToken,tokenize:t.tokenize}},token:function(e,t){if(e.sol()&&(t.indented=e.indentation(),t.startOfLine=!0),e.eatSpace())return null;var n=t.tokenize(e,t);if(t.startOfLine=!1,n&&"commentLine"!=n&&(t.previousToken={style:n,indented:t.indented}),e.eol()&&t.tokenize==r){e.backUp(1);var o=e.peek();e.next(),o&&","!=o&&(t.tokenize=i)}return"hamlTag"==n?n="tag":"commentLine"==n?n="comment":"hamlAttribute"==n?n="attribute":"closeAttributeTag"==n&&(n=null),n}}},"htmlmixed","ruby"),e.defineMIME("text/x-haml","haml")}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("../javascript/javascript"),require("../css/css"),require("../htmlmixed/htmlmixed")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../javascript/javascript","../css/css","../htmlmixed/htmlmixed"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("pug",function(t){function n(){this.javaScriptLine=!1,this.javaScriptLineExcludesColon=!1,this.javaScriptArguments=!1,this.javaScriptArgumentsDepth=0,this.isInterpolating=!1,this.interpolationNesting=0,this.jsState=e.startState(J),this.restOfLine="",this.isIncludeFiltered=!1,this.isEach=!1,this.lastTag="",this.scriptType="",this.isAttrs=!1,this.attrsNest=[],this.inAttributeName=!0,this.attributeIsType=!1,this.attrValue="",this.indentOf=Infinity,this.indentToken="",this.innerMode=null,this.innerState=null,this.innerModeForLine=!1}function r(e,t){if(e.sol()&&(t.javaScriptLine=!1,t.javaScriptLineExcludesColon=!1),t.javaScriptLine){if(t.javaScriptLineExcludesColon&&":"===e.peek())return t.javaScriptLine=!1,void(t.javaScriptLineExcludesColon=!1);var n=J.token(e,t.jsState);return e.eol()&&(t.javaScriptLine=!1),n||!0}}function i(e,t){var n;if(t.javaScriptArguments)return 0===t.javaScriptArgumentsDepth&&"("!==e.peek()?void(t.javaScriptArguments=!1):("("===e.peek()?t.javaScriptArgumentsDepth++:")"===e.peek()&&t.javaScriptArgumentsDepth--,0===t.javaScriptArgumentsDepth?void(t.javaScriptArguments=!1):J.token(e,t.jsState)||!0)}function o(e){if(e.match(/^yield\b/))return"keyword"}function a(e){if(e.match(/^(?:doctype) *([^\n]+)?/))return G}function s(e,t){if(e.match("#{"))return t.isInterpolating=!0,t.interpolationNesting=0,"punctuation"}function l(e,t){if(t.isInterpolating){if("}"===e.peek()){if(t.interpolationNesting--,t.interpolationNesting<0)return e.next(),t.isInterpolating=!1,"punctuation"}else"{"===e.peek()&&t.interpolationNesting++;return J.token(e,t.jsState)||!0}}function u(e,t){if(e.match(/^case\b/))return t.javaScriptLine=!0,V}function c(e,t){if(e.match(/^when\b/))return t.javaScriptLine=!0,t.javaScriptLineExcludesColon=!0,V}function f(e){if(e.match(/^default\b/))return V}function d(e,t){if(e.match(/^extends?\b/))return t.restOfLine="string",V}function p(e,t){if(e.match(/^append\b/))return t.restOfLine="variable",V}function h(e,t){if(e.match(/^prepend\b/))return t.restOfLine="variable",V}function m(e,t){if(e.match(/^block\b *(?:(prepend|append)\b)?/))return t.restOfLine="variable",V}function g(e,t){if(e.match(/^include\b/))return t.restOfLine="string",V}function v(e,t){if(e.match(/^include:([a-zA-Z0-9\-]+)/,!1)&&e.match("include"))return t.isIncludeFiltered=!0,V}function y(e,t){if(t.isIncludeFiltered){var n=E(e,t);return t.isIncludeFiltered=!1,t.restOfLine="string",n}}function b(e,t){if(e.match(/^mixin\b/))return t.javaScriptLine=!0,V}function x(e,t){return e.match(/^\+([-\w]+)/)?(e.match(/^\( *[-\w]+ *=/,!1)||(t.javaScriptArguments=!0,t.javaScriptArgumentsDepth=0),"variable"):e.match(/^\+#{/,!1)?(e.next(),t.mixinCallAfter=!0,s(e,t)):void 0}function w(e,t){if(t.mixinCallAfter)return t.mixinCallAfter=!1,e.match(/^\( *[-\w]+ *=/,!1)||(t.javaScriptArguments=!0,t.javaScriptArgumentsDepth=0),!0}function k(e,t){if(e.match(/^(if|unless|else if|else)\b/))return t.javaScriptLine=!0,V}function C(e,t){if(e.match(/^(- *)?(each|for)\b/))return t.isEach=!0,V}function S(e,t){if(t.isEach){if(e.match(/^ in\b/))return t.javaScriptLine=!0,t.isEach=!1,V;if(e.sol()||e.eol())t.isEach=!1;else if(e.next()){for(;!e.match(/^ in\b/,!1)&&e.next(););return"variable"}}}function T(e,t){if(e.match(/^while\b/))return t.javaScriptLine=!0,V}function _(e,t){var n;if(n=e.match(/^(\w(?:[-:\w]*\w)?)\/?/))return t.lastTag=n[1].toLowerCase(),"script"===t.lastTag&&(t.scriptType="application/javascript"),"tag"}function E(n,r){var i;if(n.match(/^:([\w\-]+)/))return t&&t.innerModes&&(i=t.innerModes(n.current().substring(1))),i||(i=n.current().substring(1)),"string"==typeof i&&(i=e.getMode(t,i)),R(n,r,i),"atom"}function L(e,t){if(e.match(/^(!?=|-)/))return t.javaScriptLine=!0,"punctuation"}function M(e){if(e.match(/^#([\w-]+)/))return K}function A(e){if(e.match(/^\.([\w-]+)/))return X}function N(e,t){if("("==e.peek())return e.next(),t.isAttrs=!0,t.attrsNest=[],t.inAttributeName=!0,t.attrValue="",t.attributeIsType=!1,"punctuation"}function P(t,n){if(n.isAttrs){if(Y[t.peek()]&&n.attrsNest.push(Y[t.peek()]),n.attrsNest[n.attrsNest.length-1]===t.peek())n.attrsNest.pop();else if(t.eat(")"))return n.isAttrs=!1,"punctuation";if(n.inAttributeName&&t.match(/^[^=,\)!]+/))return"="!==t.peek()&&"!"!==t.peek()||(n.inAttributeName=!1,n.jsState=e.startState(J),"script"===n.lastTag&&"type"===t.current().trim().toLowerCase()?n.attributeIsType=!0:n.attributeIsType=!1),"attribute";var r=J.token(t,n.jsState);if(n.attributeIsType&&"string"===r&&(n.scriptType=t.current().toString()),0===n.attrsNest.length&&("string"===r||"variable"===r||"keyword"===r))try{return Function("","var x "+n.attrValue.replace(/,\s*$/,"").replace(/^!/,"")),n.inAttributeName=!0,n.attrValue="",t.backUp(t.current().length),P(t,n)}catch(i){}return n.attrValue+=t.current(),r||!0}}function O(e,t){if(e.match(/^&attributes\b/))return t.javaScriptArguments=!0,t.javaScriptArgumentsDepth=0,"keyword"}function j(e){if(e.sol()&&e.eatSpace())return"indent"}function D(e,t){if(e.match(/^ *\/\/(-)?([^\n]*)/))return t.indentOf=e.indentation(),t.indentToken="comment","comment"}function F(e){if(e.match(/^: */))return"colon"}function z(e,t){return e.match(/^(?:\| ?| )([^\n]+)/)?"string":e.match(/^(<[^\n]*)/,!1)?(R(e,t,"htmlmixed"),t.innerModeForLine=!0,H(e,t,!0)):void 0}function I(e,t){if(e.eat(".")){var n=null;return"script"===t.lastTag&&-1!=t.scriptType.toLowerCase().indexOf("javascript")?n=t.scriptType.toLowerCase().replace(/"|'/g,""):"style"===t.lastTag&&(n="css"),R(e,t,n),"dot"}}function $(e){return e.next(),null}function R(n,r,i){i=e.mimeModes[i]||i,i=t.innerModes&&t.innerModes(i)||i,i=e.mimeModes[i]||i,i=e.getMode(t,i),r.indentOf=n.indentation(),i&&"null"!==i.name?r.innerMode=i:r.indentToken="string"}function H(t,n,r){if(t.indentation()>n.indentOf||n.innerModeForLine&&!t.sol()||r)return n.innerMode?(n.innerState||(n.innerState=n.innerMode.startState?e.startState(n.innerMode,t.indentation()):{}),t.hideFirstChars(n.indentOf+2,function(){return n.innerMode.token(t,n.innerState)||!0})):(t.skipToEnd(),n.indentToken);t.sol()&&(n.indentOf=Infinity,n.indentToken=null,n.innerMode=null,n.innerState=null)}function B(e,t){if(e.sol()&&(t.restOfLine=""),t.restOfLine){e.skipToEnd();var n=t.restOfLine;return t.restOfLine="",n}}function W(){return new n}function q(e){return e.copy()}function U(e,t){var n=H(e,t)||B(e,t)||l(e,t)||y(e,t)||S(e,t)||P(e,t)||r(e,t)||i(e,t)||w(e,t)||o(e)||a(e)||s(e,t)||u(e,t)||c(e,t)||f(e)||d(e,t)||p(e,t)||h(e,t)||m(e,t)||g(e,t)||v(e,t)||b(e,t)||x(e,t)||k(e,t)||C(e,t)||T(e,t)||_(e,t)||E(e,t)||L(e,t)||M(e)||A(e)||N(e,t)||O(e,t)||j(e)||z(e,t)||D(e,t)||F(e)||I(e,t)||$(e);return!0===n?null:n}var V="keyword",G="meta",K="builtin",X="qualifier",Y={"{":"}","(":")","[":"]"},J=e.getMode(t,"javascript");return n.prototype.copy=function(){var t=new n;return t.javaScriptLine=this.javaScriptLine,t.javaScriptLineExcludesColon=this.javaScriptLineExcludesColon,t.javaScriptArguments=this.javaScriptArguments,t.javaScriptArgumentsDepth=this.javaScriptArgumentsDepth,t.isInterpolating=this.isInterpolating,t.interpolationNesting=this.interpolationNesting,t.jsState=e.copyState(J,this.jsState),t.innerMode=this.innerMode,this.innerMode&&this.innerState&&(t.innerState=e.copyState(this.innerMode,this.innerState)),t.restOfLine=this.restOfLine,t.isIncludeFiltered=this.isIncludeFiltered,t.isEach=this.isEach,t.lastTag=this.lastTag,t.scriptType=this.scriptType,t.isAttrs=this.isAttrs,t.attrsNest=this.attrsNest.slice(),t.inAttributeName=this.inAttributeName,t.attributeIsType=this.attributeIsType,t.attrValue=this.attrValue,t.indentOf=this.indentOf,t.indentToken=this.indentToken,t.innerModeForLine=this.innerModeForLine,t},{startState:W,copyState:q,token:U}},"javascript","css","htmlmixed"),e.defineMIME("text/x-pug","pug"),e.defineMIME("text/x-jade","pug")}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("../htmlmixed/htmlmixed"),require("../ruby/ruby")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../htmlmixed/htmlmixed","../ruby/ruby"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("slim",function(t){function n(e,t,n){var r=function(r,i){return i.tokenize=t,r.pos<e?(r.pos=e,n):i.tokenize(r,i)};return function(e,n){return n.tokenize=r,t(e,n)}}function r(e,t,r,i,o){var a=e.current(),s=a.search(r);return s>-1&&(t.tokenize=n(e.pos,t.tokenize,o),e.backUp(a.length-s-i)),o}function i(e,t){e.stack={parent:e.stack,style:"continuation",indented:t,tokenize:e.line},e.line=e.tokenize}function o(e){e.line==e.tokenize&&(e.line=e.stack.tokenize,e.stack=e.stack.parent)}function a(e,t){return function(n,r){if(o(r),n.match(/^\\$/))return i(r,e),"lineContinuation";var a=t(n,r);return n.eol()&&n.current().match(/(?:^|[^\\])(?:\\\\)*\\$/)&&n.backUp(1),a}}function s(e,t){return function(n,r){o(r);var a=t(n,r);return n.eol()&&n.current().match(/,$/)&&i(r,e),a}}function l(e,t){return function(n,r){var i;return n.peek()==e&&1==r.rubyState.tokenize.length?(n.next(),r.tokenize=t,"closeAttributeTag"):c(n,r)}}function u(t){var n,r=function(e,r){if(1==r.rubyState.tokenize.length&&!r.rubyState.context.prev){if(e.backUp(1),e.eatSpace())return r.rubyState=n,r.tokenize=t,t(e,r);e.next()}return c(e,r)};return function(t,i){return n=i.rubyState,i.rubyState=e.startState($),i.tokenize=r,c(t,i)}}function c(e,t){return $.token(e,t.rubyState)}function f(e,t){return e.match(/^\\$/)?"lineContinuation":d(e,t)}function d(e,t){return e.match(/^#\{/)?(t.tokenize=l("}",t.tokenize),null):r(e,t,/[^\\]#\{/,1,I.token(e,t.htmlState))}function p(e){return function(t,n){var r=f(t,n);return t.eol()&&(n.tokenize=e),r}}function h(e,t,n){return t.stack={parent:t.stack,style:"html",indented:e.column()+n,tokenize:t.line},t.line=t.tokenize=d,null}function m(e,t){return e.skipToEnd(),t.stack.style}function g(e,t){return t.stack={parent:t.stack,style:"comment",indented:t.indented+1,tokenize:t.line},t.line=m,m(e,t)}function v(e,t){return e.eat(t.stack.endQuote)?(t.line=t.stack.line,t.tokenize=t.stack.tokenize,t.stack=t.stack.parent,null):e.match(X)?(t.tokenize=y,"slimAttribute"):(e.next(),null)}function y(e,t){return e.match(/^==?/)?(t.tokenize=b,null):v(e,t)}function b(e,t){var n=e.peek();return'"'==n||"'"==n?(t.tokenize=F(n,"string",!0,!1,v),e.next(),t.tokenize(e,t)):"["==n?u(v)(e,t):e.match(/^(true|false|nil)\b/)?(t.tokenize=v,"keyword"):u(v)(e,t)}function x(e,t,n){return e.stack={parent:e.stack,style:"wrapper",indented:e.indented+1,tokenize:n,line:e.line,endQuote:t},e.line=e.tokenize=v,null}function w(t,n){if(t.match(/^#\{/))return n.tokenize=l("}",n.tokenize),null;var r=new e.StringStream(t.string.slice(n.stack.indented),t.tabSize);r.pos=t.pos-n.stack.indented,r.start=t.start-n.stack.indented,r.lastColumnPos=t.lastColumnPos-n.stack.indented,r.lastColumnValue=t.lastColumnValue-n.stack.indented;var i=n.subMode.token(r,n.subState);return t.pos=r.pos+n.stack.indented,i}function k(e,t){return t.stack.indented=e.column(),t.line=t.tokenize=w,t.tokenize(e,t)}function C(n){var r=H[n],i=e.mimeModes[r];if(i)return e.getMode(t,i);var o=e.modes[r];return o?o(t,{name:r}):e.getMode(t,"null")}function S(e){return R.hasOwnProperty(e)?R[e]:R[e]=C(e)}function T(t,n){var r=S(t),i=e.startState(r);return n.subMode=r,n.subState=i,n.stack={parent:n.stack,style:"sub",indented:n.indented+1,tokenize:n.line},n.line=n.tokenize=k,"slimSubmode"}function _(e,t){return e.skipToEnd(),"slimDoctype"}function E(e,t){var n;if("<"==e.peek())return(t.tokenize=p(t.tokenize))(e,t);if(e.match(/^[|']/))return h(e,t,1);if(e.match(/^\/(!|\[\w+])?/))return g(e,t);if(e.match(/^(-|==?[<>]?)/))return t.tokenize=a(e.column(),s(e.column(),c)),"slimSwitch";if(e.match(/^doctype\b/))return t.tokenize=_,"keyword";var r=e.match(B);return r?T(r[1],t):M(e,t)}function L(e,t){return t.startOfLine?E(e,t):M(e,t)}function M(e,t){return e.eat("*")?(t.tokenize=u(A),null):e.match(G)?(t.tokenize=A,"slimTag"):N(e,t)}function A(e,t){return e.match(/^(<>?|><?)/)?(t.tokenize=N,null):N(e,t)}function N(e,t){return e.match(J)?(t.tokenize=N,"slimId"):e.match(Y)?(t.tokenize=N,"slimClass"):P(e,t)}function P(e,t){return e.match(/^([\[\{\(])/)?x(t,q[RegExp.$1],P):e.match(K)?(t.tokenize=O,"slimAttribute"):"*"==e.peek()?(e.next(),t.tokenize=u(z),null):z(e,t)}function O(e,t){return e.match(/^==?/)?(t.tokenize=j,null):P(e,t)}function j(e,t){var n=e.peek();return'"'==n||"'"==n?(t.tokenize=F(n,"string",!0,!1,P),e.next(),t.tokenize(e,t)):"["==n?u(P)(e,t):":"==n?u(D)(e,t):e.match(/^(true|false|nil)\b/)?(t.tokenize=P,"keyword"):u(P)(e,t)}function D(e,t){return e.backUp(1),e.match(/^[^\s],(?=:)/)?(t.tokenize=u(D),null):(e.next(),P(e,t))}function F(e,t,n,r,a){return function(s,u){o(u);var c=0==s.current().length;if(s.match(/^\\$/,c))return c?(i(u,u.indented),"lineContinuation"):t;if(s.match(/^#\{/,c))return c?(u.tokenize=l("}",u.tokenize),null):t;for(var f=!1,d;null!=(d=s.next());){if(d==e&&(r||!f)){u.tokenize=a;break}if(n&&"#"==d&&!f&&s.eat("{")){s.backUp(2);break}f=!f&&"\\"==d}return s.eol()&&f&&s.backUp(1),t}}function z(e,t){return e.match(/^==?/)?(t.tokenize=c,"slimSwitch"):e.match(/^\/$/)?(t.tokenize=L,null):e.match(/^:/)?(t.tokenize=M,"slimSwitch"):(h(e,t,0),t.tokenize(e,t))}var I=e.getMode(t,{name:"htmlmixed"}),$=e.getMode(t,"ruby"),R={html:I,ruby:$},H={ruby:"ruby",javascript:"javascript",css:"text/css",sass:"text/x-sass",scss:"text/x-scss",less:"text/x-less",styl:"text/x-styl",coffee:"coffeescript",asciidoc:"text/x-asciidoc",markdown:"text/x-markdown",textile:"text/x-textile",creole:"text/x-creole",wiki:"text/x-wiki",mediawiki:"text/x-mediawiki",rdoc:"text/x-rdoc",builder:"text/x-builder",nokogiri:"text/x-nokogiri",erb:"application/x-erb"},B=function(e){var t=[];for(var n in e)t.push(n);return new RegExp("^("+t.join("|")+"):")}(H),W={commentLine:"comment",slimSwitch:"operator special",slimTag:"tag",slimId:"attribute def",slimClass:"attribute qualifier",slimAttribute:"attribute",slimSubmode:"keyword special",closeAttributeTag:null,slimDoctype:null,lineContinuation:null},q={"{":"}","[":"]","(":")"},U="_a-zA-Z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd",V=U+"\\-0-9\xb7\u0300-\u036f\u203f-\u2040",G=new RegExp("^[:"+U+"](?::["+V+"]|["+V+"]*)"),K=new RegExp("^[:"+U+"][:\\."+V+"]*(?=\\s*=)"),X=new RegExp("^[:"+U+"][:\\."+V+"]*"),Y=/^\.-?[_a-zA-Z]+[\w\-]*/,J=/^#[_a-zA-Z]+[\w\-]*/,Z={startState:function(){var t,n;return{htmlState:e.startState(I),rubyState:e.startState($),stack:null,last:null,tokenize:L,line:L,indented:0}},copyState:function(t){return{htmlState:e.copyState(I,t.htmlState),rubyState:e.copyState($,t.rubyState),subMode:t.subMode,subState:t.subMode&&e.copyState(t.subMode,t.subState),stack:t.stack,last:t.last,tokenize:t.tokenize,line:t.line}},token:function(e,t){if(e.sol())for(t.indented=e.indentation(),t.startOfLine=!0,t.tokenize=t.line;t.stack&&t.stack.indented>t.indented&&"slimSubmode"!=t.last;)t.line=t.tokenize=t.stack.tokenize,t.stack=t.stack.parent,t.subMode=null,t.subState=null;if(e.eatSpace())return null;var n=t.tokenize(e,t);return t.startOfLine=!1,n&&(t.last=n),W.hasOwnProperty(n)?W[n]:n},blankLine:function(e){if(e.subMode&&e.subMode.blankLine)return e.subMode.blankLine(e.subState)},innerMode:function(e){return e.subMode?{state:e.subState,mode:e.subMode}:{state:e,mode:Z}}};return Z},"htmlmixed","ruby"),e.defineMIME("text/x-slim","slim"),e.defineMIME("application/x-slim","slim")}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function t(e){for(var t={},n=0;n<e.length;++n)t[e[n].toLowerCase()]=!0;return t}function n(e,t){for(var n=!1,r;null!=(r=e.next());){if(n&&"/"==r){t.tokenize=null;break}n="*"==r}return["comment","comment"]}e.defineMode("css",function(t,n){function r(e,t){return A=t,e}function i(e,t){var n=e.next();if(m[n]){var i=m[n](e,t);if(!1!==i)return i}return"@"==n?(e.eatWhile(/[\w\\\-]/),r("def",e.current())):"="==n||("~"==n||"|"==n)&&e.eat("=")?r(null,"compare"):'"'==n||"'"==n?(t.tokenize=o(n),t.tokenize(e,t)):"#"==n?(e.eatWhile(/[\w\\\-]/),r("atom","hash")):"!"==n?(e.match(/^\s*\w*/),r("keyword","important")):/\d/.test(n)||"."==n&&e.eat(/\d/)?(e.eatWhile(/[\w.%]/),r("number","unit")):"-"!==n?/[,+>*\/]/.test(n)?r(null,"select-op"):"."==n&&e.match(/^-?[_a-z][_a-z0-9-]*/i)?r("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(n)?r(null,n):e.match(/[\w-.]+(?=\()/)?(/^(url(-prefix)?|domain|regexp)$/.test(e.current().toLowerCase())&&(t.tokenize=a),r("variable callee","variable")):/[\w\\\-]/.test(n)?(e.eatWhile(/[\w\\\-]/),r("property","word")):r(null,null):/[\d.]/.test(e.peek())?(e.eatWhile(/[\w.%]/),r("number","unit")):e.match(/^-[\w\\\-]*/)?(e.eatWhile(/[\w\\\-]/),e.match(/^\s*:/,!1)?r("variable-2","variable-definition"):r("variable-2","variable")):e.match(/^\w+-/)?r("meta","meta"):void 0}function o(e){return function(t,n){for(var i=!1,o;null!=(o=t.next());){if(o==e&&!i){")"==e&&t.backUp(1);break}i=!i&&"\\"==o}return(o==e||!i&&")"!=e)&&(n.tokenize=null),r("string","string")}}function a(e,t){return e.next(),e.match(/\s*[\"\')]/,!1)?t.tokenize=null:t.tokenize=o(")"),r(null,"(")}function s(e,t,n){this.type=e,this.indent=t,this.prev=n}function l(e,t,n,r){return e.context=new s(n,t.indentation()+(!1===r?0:h),e.context),n}function u(e){return e.context.prev&&(e.context=e.context.prev),e.context.type}function c(e,t,n){return P[n.context.type](e,t,n)}function f(e,t,n,r){for(var i=r||1;i>0;i--)n.context=n.context.prev;return c(e,t,n)}function d(e){var t=e.current().toLowerCase();N=T.hasOwnProperty(t)?"atom":S.hasOwnProperty(t)?"keyword":"variable"}var p=n.inline;n.propertyKeywords||(n=e.resolveMode("text/css"));var h=t.indentUnit,m=n.tokenHooks,g=n.documentTypes||{},v=n.mediaTypes||{},y=n.mediaFeatures||{},b=n.mediaValueKeywords||{},x=n.propertyKeywords||{},w=n.nonStandardPropertyKeywords||{},k=n.fontProperties||{},C=n.counterDescriptors||{},S=n.colorKeywords||{},T=n.valueKeywords||{},_=n.allowNested,E=n.lineComment,L=!0===n.supportsAtComponent,M=!1!==t.highlightNonStandardPropertyKeywords,A,N,P={top:function(e,t,n){if("{"==e)return l(n,t,"block");if("}"==e&&n.context.prev)return u(n);if(L&&/@component/i.test(e))return l(n,t,"atComponentBlock");if(/^@(-moz-)?document$/i.test(e))return l(n,t,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/i.test(e))return l(n,t,"atBlock");if(/^@(font-face|counter-style)/i.test(e))return n.stateArg=e,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(e))return"keyframes";if(e&&"@"==e.charAt(0))return l(n,t,"at");if("hash"==e)N="builtin";else if("word"==e)N="tag";else{if("variable-definition"==e)return"maybeprop";if("interpolation"==e)return l(n,t,"interpolation");if(":"==e)return"pseudo";if(_&&"("==e)return l(n,t,"parens")}return n.context.type},block:function(e,t,n){if("word"==e){var r=t.current().toLowerCase();return x.hasOwnProperty(r)?(N="property","maybeprop"):w.hasOwnProperty(r)?(N=M?"string-2":"property","maybeprop"):_?(N=t.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(N+=" error","maybeprop")}return"meta"==e?"block":_||"hash"!=e&&"qualifier"!=e?P.top(e,t,n):(N="error","block")},maybeprop:function(e,t,n){return":"==e?l(n,t,"prop"):c(e,t,n)},prop:function(e,t,n){if(";"==e)return u(n);if("{"==e&&_)return l(n,t,"propBlock");if("}"==e||"{"==e)return f(e,t,n);if("("==e)return l(n,t,"parens");if("hash"!=e||/^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(t.current())){if("word"==e)d(t);else if("interpolation"==e)return l(n,t,"interpolation")}else N+=" error";return"prop"},propBlock:function(e,t,n){return"}"==e?u(n):"word"==e?(N="property","maybeprop"):n.context.type},parens:function(e,t,n){return"{"==e||"}"==e?f(e,t,n):")"==e?u(n):"("==e?l(n,t,"parens"):"interpolation"==e?l(n,t,"interpolation"):("word"==e&&d(t),"parens")},pseudo:function(e,t,n){return"meta"==e?"pseudo":"word"==e?(N="variable-3",n.context.type):c(e,t,n)},documentTypes:function(e,t,n){return"word"==e&&g.hasOwnProperty(t.current())?(N="tag",n.context.type):P.atBlock(e,t,n)},atBlock:function(e,t,n){if("("==e)return l(n,t,"atBlock_parens");if("}"==e||";"==e)return f(e,t,n);if("{"==e)return u(n)&&l(n,t,_?"block":"top");if("interpolation"==e)return l(n,t,"interpolation");if("word"==e){var r=t.current().toLowerCase();N="only"==r||"not"==r||"and"==r||"or"==r?"keyword":v.hasOwnProperty(r)?"attribute":y.hasOwnProperty(r)?"property":b.hasOwnProperty(r)?"keyword":x.hasOwnProperty(r)?"property":w.hasOwnProperty(r)?M?"string-2":"property":T.hasOwnProperty(r)?"atom":S.hasOwnProperty(r)?"keyword":"error"}return n.context.type},atComponentBlock:function(e,t,n){return"}"==e?f(e,t,n):"{"==e?u(n)&&l(n,t,_?"block":"top",!1):("word"==e&&(N="error"),n.context.type)},atBlock_parens:function(e,t,n){return")"==e?u(n):"{"==e||"}"==e?f(e,t,n,2):P.atBlock(e,t,n)},restricted_atBlock_before:function(e,t,n){return"{"==e?l(n,t,"restricted_atBlock"):"word"==e&&"@counter-style"==n.stateArg?(N="variable","restricted_atBlock_before"):c(e,t,n)},restricted_atBlock:function(e,t,n){return"}"==e?(n.stateArg=null,u(n)):"word"==e?(N="@font-face"==n.stateArg&&!k.hasOwnProperty(t.current().toLowerCase())||"@counter-style"==n.stateArg&&!C.hasOwnProperty(t.current().toLowerCase())?"error":"property","maybeprop"):"restricted_atBlock"},keyframes:function(e,t,n){return"word"==e?(N="variable","keyframes"):"{"==e?l(n,t,"top"):c(e,t,n)},at:function(e,t,n){return";"==e?u(n):"{"==e||"}"==e?f(e,t,n):("word"==e?N="tag":"hash"==e&&(N="builtin"),"at")},interpolation:function(e,t,n){return"}"==e?u(n):"{"==e||";"==e?f(e,t,n):("word"==e?N="variable":"variable"!=e&&"("!=e&&")"!=e&&(N="error"),"interpolation")}};return{startState:function(e){return{tokenize:null,state:p?"block":"top",stateArg:null,context:new s(p?"block":"top",e||0,null)}},token:function(e,t){if(!t.tokenize&&e.eatSpace())return null;var n=(t.tokenize||i)(e,t);return n&&"object"==typeof n&&(A=n[1],n=n[0]),N=n,"comment"!=A&&(t.state=P[t.state](A,e,t)),N},indent:function(e,t){var n=e.context,r=t&&t.charAt(0),i=n.indent;return"prop"!=n.type||"}"!=r&&")"!=r||(n=n.prev),n.prev&&("}"!=r||"block"!=n.type&&"top"!=n.type&&"interpolation"!=n.type&&"restricted_atBlock"!=n.type?(")"!=r||"parens"!=n.type&&"atBlock_parens"!=n.type)&&("{"!=r||"at"!=n.type&&"atBlock"!=n.type)||(i=Math.max(0,n.indent-h)):i=(n=n.prev).indent),i},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:E,fold:"brace"}});var r=["domain","regexp","url","url-prefix"],i=t(r),o=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],a=t(o),s=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover","prefers-color-scheme"],l=t(s),u=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive","dark","light"],c=t(u),f=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","all","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","binding","bleed","block-size","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","inset","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-height-step","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotate","rotation","rotation-point","row-gap","ruby-align","ruby-overhang","ruby-position","ruby-span","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-type","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-orientation","text-outline","text-overflow","text-rendering","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","touch-action","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","paint-order","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","margin-block","margin-block-end","margin-block-start","margin-inline","margin-inline-end","margin-inline-start","padding-block","padding-block-end","padding-block-start","padding-inline","padding-inline-end","padding-inline-start","scroll-snap-stop","scrollbar-3d-light-color","scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-track-color","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","shape-inside","zoom"],d=t(f),p=[],h=t(p),m,g=t(["font-display","font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"]),v,y=t(["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"]),b=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],x=t(b),w=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","manipulation","match","matrix","matrix3d","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiple_mask_images","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],k=t(w),C=r.concat(o).concat(s).concat(u).concat(f).concat(p).concat(b).concat(w);e.registerHelper("hintWords","css",C),e.defineMIME("text/css",{documentTypes:i,mediaTypes:a,mediaFeatures:l,mediaValueKeywords:c,propertyKeywords:d,nonStandardPropertyKeywords:h,fontProperties:g,counterDescriptors:y,colorKeywords:x,valueKeywords:k,tokenHooks:{"/":function(e,t){return!!e.eat("*")&&(t.tokenize=n,n(e,t))}},name:"css"}),e.defineMIME("text/x-scss",{mediaTypes:a,mediaFeatures:l,mediaValueKeywords:c,propertyKeywords:d,nonStandardPropertyKeywords:h,colorKeywords:x,valueKeywords:k,fontProperties:g,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=n,n(e,t)):["operator","operator"]},":":function(e){return!!e.match(/\s*\{/,!1)&&[null,null]},$:function(e){return e.match(/^[\w-]+/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(e){return!!e.eat("{")&&[null,"interpolation"]}},name:"css",helperType:"scss"}),e.defineMIME("text/x-less",{mediaTypes:a,mediaFeatures:l,mediaValueKeywords:c,propertyKeywords:d,nonStandardPropertyKeywords:h,colorKeywords:x,valueKeywords:k,fontProperties:g,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=n,n(e,t)):["operator","operator"]},"@":function(e){return e.eat("{")?[null,"interpolation"]:!e.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i,!1)&&(e.eatWhile(/[\w\\\-]/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),e.defineMIME("text/x-gss",{documentTypes:i,mediaTypes:a,mediaFeatures:l,propertyKeywords:d,nonStandardPropertyKeywords:h,fontProperties:g,counterDescriptors:y,colorKeywords:x,valueKeywords:k,supportsAtComponent:!0,tokenHooks:{"/":function(e,t){return!!e.eat("*")&&(t.tokenize=n,n(e,t))}},name:"css",helperType:"gss"})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("../css/css")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../css/css"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("sass",function(t){function n(e){return new RegExp("^"+e.join("|"))}function r(e){return!e.peek()||e.match(/\s+$/,!1)}function i(e,t){var n=e.peek();return")"===n?(e.next(),t.tokenizer=c,"operator"):"("===n?(e.next(),e.eatSpace(),"operator"):"'"===n||'"'===n?(t.tokenizer=a(e.next()),"string"):(t.tokenizer=a(")",!1),"string")}function o(e,t){return function(n,r){return n.sol()&&n.indentation()<=e?(r.tokenizer=c,c(n,r)):(t&&n.skipTo("*/")?(n.next(),n.next(),r.tokenizer=c):n.skipToEnd(),"comment")}}function a(e,t){function n(i,o){var a=i.next(),l=i.peek(),u=i.string.charAt(i.pos-2),f;return"\\"!==a&&l===e||a===e&&"\\"!==u?(a!==e&&t&&i.next(),r(i)&&(o.cursorHalf=0),o.tokenizer=c,"string"):"#"===a&&"{"===l?(o.tokenizer=s(n),i.next(),"operator"):"string"}return null==t&&(t=!0),n}function s(e){return function(t,n){return"}"===t.peek()?(t.next(),n.tokenizer=e,"operator"):c(t,n)}}function l(e){if(0==e.indentCount){e.indentCount++;var n,r=e.scopes[0].offset+t.indentUnit;e.scopes.unshift({offset:r})}}function u(e){1!=e.scopes.length&&e.scopes.shift()}function c(e,t){var n=e.peek();if(e.match("/*"))return t.tokenizer=o(e.indentation(),!0),t.tokenizer(e,t);if(e.match("//"))return t.tokenizer=o(e.indentation(),!1),t.tokenizer(e,t);if(e.match("#{"))return t.tokenizer=s(c),"operator";if('"'===n||"'"===n)return e.next(),t.tokenizer=a(n),"string";if(t.cursorHalf){if("#"===n&&(e.next(),e.match(/[0-9a-fA-F]{6}|[0-9a-fA-F]{3}/)))return r(e)&&(t.cursorHalf=0),"number";if(e.match(/^-?[0-9\.]+/))return r(e)&&(t.cursorHalf=0),"number";if(e.match(/^(px|em|in)\b/))return r(e)&&(t.cursorHalf=0),"unit";if(e.match(y))return r(e)&&(t.cursorHalf=0),"keyword";if(e.match(/^url/)&&"("===e.peek())return t.tokenizer=i,r(e)&&(t.cursorHalf=0),"atom";if("$"===n)return e.next(),e.eatWhile(/[\w-]/),r(e)&&(t.cursorHalf=0),"variable-2";if("!"===n)return e.next(),t.cursorHalf=0,e.match(/^[\w]+/)?"keyword":"operator";if(e.match(x))return r(e)&&(t.cursorHalf=0),"operator";if(e.eatWhile(/[\w-]/))return r(e)&&(t.cursorHalf=0),k=e.current().toLowerCase(),m.hasOwnProperty(k)?"atom":h.hasOwnProperty(k)?"keyword":p.hasOwnProperty(k)?(t.prevProp=e.current().toLowerCase(),"property"):"tag";if(r(e))return t.cursorHalf=0,null}else{if("-"===n&&e.match(/^-\w+-/))return"meta";if("."===n){if(e.next(),e.match(/^[\w-]+/))return l(t),"qualifier";if("#"===e.peek())return l(t),"tag"}if("#"===n){if(e.next(),e.match(/^[\w-]+/))return l(t),"builtin";if("#"===e.peek())return l(t),"tag"}if("$"===n)return e.next(),e.eatWhile(/[\w-]/),"variable-2";if(e.match(/^-?[0-9\.]+/))return"number";if(e.match(/^(px|em|in)\b/))return"unit";if(e.match(y))return"keyword";if(e.match(/^url/)&&"("===e.peek())return t.tokenizer=i,"atom";if("="===n&&e.match(/^=[\w-]+/))return l(t),"meta";if("+"===n&&e.match(/^\+[\w-]+/))return"variable-3";if("@"===n&&e.match(/@extend/)&&(e.match(/\s*[\w]/)||u(t)),e.match(/^@(else if|if|media|else|for|each|while|mixin|function)/))return l(t),"def";if("@"===n)return e.next(),e.eatWhile(/[\w-]/),"def";if(e.eatWhile(/[\w-]/)){if(e.match(/ *: *[\w-\+\$#!\("']/,!1)){k=e.current().toLowerCase();var f=t.prevProp+"-"+k;return p.hasOwnProperty(f)?"property":p.hasOwnProperty(k)?(t.prevProp=k,"property"):g.hasOwnProperty(k)?"property":"tag"}return e.match(/ *:/,!1)?(l(t),t.cursorHalf=1,t.prevProp=e.current().toLowerCase(),"property"):e.match(/ *,/,!1)?"tag":(l(t),"tag")}if(":"===n)return e.match(w)?"variable-3":(e.next(),t.cursorHalf=1,"operator")}return e.match(x)?"operator":(e.next(),null)}function f(e,n){e.sol()&&(n.indentCount=0);var r=n.tokenizer(e,n),i=e.current();if("@return"!==i&&"}"!==i||u(n),null!==r){for(var o,a=e.pos-i.length+t.indentUnit*n.indentCount,s=[],l=0;l<n.scopes.length;l++){var c=n.scopes[l];c.offset<=a&&s.push(c)}n.scopes=s}return r}var d=e.mimeModes["text/css"],p=d.propertyKeywords||{},h=d.colorKeywords||{},m=d.valueKeywords||{},g=d.fontProperties||{},v,y=new RegExp("^"+["true","false","null","auto"].join("|")),b,x=n(["\\(","\\)","=",">","<","==",">=","<=","\\+","-","\\!=","/","\\*","%","and","or","not",";","\\{","\\}",":"]),w=/^::?[a-zA-Z_][\w\-]*/,k;return{startState:function(){return{tokenizer:c,scopes:[{offset:0,type:"sass"}],indentCount:0,cursorHalf:0,definedVars:[],definedMixins:[]}},token:function(e,t){var n=f(e,t);return t.lastToken={style:n,content:e.current()},n},indent:function(e){return e.scopes[0].offset},blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//",fold:"indent"}},"css"),e.defineMIME("text/x-sass","sass")}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function t(e){return e=e.sort(function(e,t){return t>e}),new RegExp("^(("+e.join(")|(")+"))\\b")}function n(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=!0;return t}function r(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}e.defineMode("stylus",function(e){function g(e,t){if(ee=e.string.match(/(^[\w-]+\s*=\s*$)|(^\s*[\w-]+\s*=\s*[\w-])|(^\s*(\.|#|@|\$|\&|\[|\d|\+|::?|\{|\>|~|\/)?\s*[\w-]*([a-z0-9-]|\*|\/\*)(\(|,)?)/),t.context.line.firstWord=ee?ee[0].replace(/^\s*/,""):"",t.context.line.indent=e.indentation(),ne=e.peek(),e.match("//"))return e.skipToEnd(),["comment","comment"];if(e.match("/*"))return t.tokenize=v,v(e,t);if('"'==ne||"'"==ne)return e.next(),t.tokenize=y(ne),t.tokenize(e,t);if("@"==ne)return e.next(),e.eatWhile(/[\w\\-]/),["def",e.current()];if("#"==ne){if(e.next(),e.match(/^[0-9a-f]{3}([0-9a-f]([0-9a-f]{2}){0,2})?\b(?!-)/i))return["atom","atom"];if(e.match(/^[a-z][\w-]*/i))return["builtin","hash"]}return e.match(Z)?["meta","vendor-prefixes"]:e.match(/^-?[0-9]?\.?[0-9]/)?(e.eatWhile(/[a-z%]/i),["number","unit"]):"!"==ne?(e.next(),[e.match(/^(important|optional)/i)?"keyword":"operator","important"]):"."==ne&&e.match(/^\.[a-z][\w-]*/i)?["qualifier","qualifier"]:e.match(U)?("("==e.peek()&&(t.tokenize=b),["property","word"]):e.match(/^[a-z][\w-]*\(/i)?(e.backUp(1),["keyword","mixin"]):e.match(/^(\+|-)[a-z][\w-]*\(/i)?(e.backUp(1),["keyword","block-mixin"]):e.string.match(/^\s*&/)&&e.match(/^[-_]+[a-z][\w-]*/)?["qualifier","qualifier"]:e.match(/^(\/|&)(-|_|:|\.|#|[a-z])/)?(e.backUp(1),["variable-3","reference"]):e.match(/^&{1}\s*$/)?["variable-3","reference"]:e.match(Y)?["operator","operator"]:e.match(/^\$?[-_]*[a-z0-9]+[\w-]*/i)?e.match(/^(\.|\[)[\w-\'\"\]]+/i,!1)&&!T(e.current())?(e.match(/\./),["variable-2","variable-name"]):["variable-2","word"]:e.match(X)?["operator",e.current()]:/[:;,{}\[\]\(\)]/.test(ne)?(e.next(),[null,ne]):(e.next(),[null,null])}function v(e,t){for(var n=!1,r;null!=(r=e.next());){if(n&&"/"==r){t.tokenize=null;break}n="*"==r}return["comment","comment"]}function y(e){return function(t,n){for(var r=!1,i;null!=(i=t.next());){if(i==e&&!r){")"==e&&t.backUp(1);break}r=!r&&"\\"==i}return(i==e||!r&&")"!=e)&&(n.tokenize=null),["string","string"]}}function b(e,t){return e.next(),e.match(/\s*[\"\')]/,!1)?t.tokenize=null:t.tokenize=y(")"),[null,"("]}function x(e,t,n,r){this.type=e,this.indent=t,this.prev=n,this.line=r||{firstWord:"",indent:0}}function w(e,t,n,r){return r=r>=0?r:F,e.context=new x(n,t.indentation()+r,e.context),n}function k(e,t){var n=e.context.indent-F;return t=t||!1,e.context=e.context.prev,t&&(e.context.indent=n),e.context.type}function C(e,t,n){return te[n.context.type](e,t,n)}function S(e,t,n,r){for(var i=r||1;i>0;i--)n.context=n.context.prev;return C(e,t,n)}function T(e){return e.toLowerCase()in I}function _(e){return(e=e.toLowerCase())in R||e in K}function E(e){return e.toLowerCase()in J}function L(e){return e.toLowerCase().match(Z)}function M(e){var t=e.toLowerCase(),n="variable-2";return T(e)?n="tag":E(e)?n="block-keyword":_(e)?n="property":t in B||t in Q?n="atom":"return"==t||t in W?n="keyword":e.match(/^[A-Z]/)&&(n="string"),n}function A(e,t){return j(t)&&("{"==e||"]"==e||"hash"==e||"qualifier"==e)||"block-mixin"==e}function N(e,t){return"{"==e&&t.match(/^\s*\$?[\w-]+/i,!1)}function P(e,t){return":"==e&&t.match(/^[a-z-]+/,!1)}function O(e){return e.sol()||e.string.match(new RegExp("^\\s*"+r(e.current())))}function j(e){return e.eol()||e.match(/^\s*$/,!1)}function D(e){var t=/^\s*[-_]*[a-z0-9]+[\w-]*/i,n="string"==typeof e?e.match(t):e.string.match(t);return n?n[0].replace(/^\s*/,""):""}for(var F=e.indentUnit,z="",I=n(i),$=/^(a|b|i|s|col|em)$/i,R=n(l),H=n(u),B=n(d),W=n(f),q=n(o),U=t(o),V=n(s),G=n(a),K=n(c),X=/^\s*([.]{2,3}|&&|\|\||\*\*|[?!=:]?=|[-+*\/%<>]=?|\?:|\~)/,Y=t(p),J=n(h),Z=new RegExp(/^\-(moz|ms|o|webkit)-/i),Q=n(m),ee="",te={},ne,re,ie,oe;z.length<F;)z+=" ";return te.block=function(e,t,n){if("comment"==e&&O(t)||","==e&&j(t)||"mixin"==e)return w(n,t,"block",0);if(N(e,t))return w(n,t,"interpolation");if(j(t)&&"]"==e&&!/^\s*(\.|#|:|\[|\*|&)/.test(t.string)&&!T(D(t)))return w(n,t,"block",0);if(A(e,t))return w(n,t,"block");if("}"==e&&j(t))return w(n,t,"block",0);if("variable-name"==e)return t.string.match(/^\s?\$[\w-\.\[\]\'\"]+$/)||E(D(t))?w(n,t,"variableName"):w(n,t,"variableName",0);if("="==e)return j(t)||E(D(t))?w(n,t,"block"):w(n,t,"block",0);if("*"==e&&(j(t)||t.match(/\s*(,|\.|#|\[|:|{)/,!1)))return oe="tag",w(n,t,"block");if(P(e,t))return w(n,t,"pseudo");if(/@(font-face|media|supports|(-moz-)?document)/.test(e))return w(n,t,j(t)?"block":"atBlock");if(/@(-(moz|ms|o|webkit)-)?keyframes$/.test(e))return w(n,t,"keyframes");if(/@extends?/.test(e))return w(n,t,"extend",0);if(e&&"@"==e.charAt(0))return t.indentation()>0&&_(t.current().slice(1))?(oe="variable-2","block"):/(@import|@require|@charset)/.test(e)?w(n,t,"block",0):w(n,t,"block");if("reference"==e&&j(t))return w(n,t,"block");if("("==e)return w(n,t,"parens");if("vendor-prefixes"==e)return w(n,t,"vendorPrefixes");if("word"==e){var r=t.current();if("property"==(oe=M(r)))return O(t)?w(n,t,"block",0):(oe="atom","block");if("tag"==oe){if(/embed|menu|pre|progress|sub|table/.test(r)&&_(D(t)))return oe="atom","block";if(t.string.match(new RegExp("\\[\\s*"+r+"|"+r+"\\s*\\]")))return oe="atom","block";if($.test(r)&&(O(t)&&t.string.match(/=/)||!O(t)&&!t.string.match(/^(\s*\.|#|\&|\[|\/|>|\*)/)&&!T(D(t))))return oe="variable-2",E(D(t))?"block":w(n,t,"block",0);if(j(t))return w(n,t,"block")}if("block-keyword"==oe)return oe="keyword",t.current(/(if|unless)/)&&!O(t)?"block":w(n,t,"block");if("return"==r)return w(n,t,"block",0);if("variable-2"==oe&&t.string.match(/^\s?\$[\w-\.\[\]\'\"]+$/))return w(n,t,"block")}return n.context.type},te.parens=function(e,t,n){if("("==e)return w(n,t,"parens");if(")"==e)return"parens"==n.context.prev.type?k(n):t.string.match(/^[a-z][\w-]*\(/i)&&j(t)||E(D(t))||/(\.|#|:|\[|\*|&|>|~|\+|\/)/.test(D(t))||!t.string.match(/^-?[a-z][\w-\.\[\]\'\"]*\s*=/)&&T(D(t))?w(n,t,"block"):t.string.match(/^[\$-]?[a-z][\w-\.\[\]\'\"]*\s*=/)||t.string.match(/^\s*(\(|\)|[0-9])/)||t.string.match(/^\s+[a-z][\w-]*\(/i)||t.string.match(/^\s+[\$-]?[a-z]/i)?w(n,t,"block",0):j(t)?w(n,t,"block"):w(n,t,"block",0);if(e&&"@"==e.charAt(0)&&_(t.current().slice(1))&&(oe="variable-2"),"word"==e){var r=t.current();"tag"==(oe=M(r))&&$.test(r)&&(oe="variable-2"),"property"!=oe&&"to"!=r||(oe="atom")}return"variable-name"==e?w(n,t,"variableName"):P(e,t)?w(n,t,"pseudo"):n.context.type},te.vendorPrefixes=function(e,t,n){return"word"==e?(oe="property",w(n,t,"block",0)):k(n)},te.pseudo=function(e,t,n){return _(D(t.string))?S(e,t,n):(t.match(/^[a-z-]+/),oe="variable-3",j(t)?w(n,t,"block"):k(n))},te.atBlock=function(e,t,n){if("("==e)return w(n,t,"atBlock_parens");if(A(e,t))return w(n,t,"block");if(N(e,t))return w(n,t,"interpolation");if("word"==e){var r=t.current().toLowerCase();if("tag"==(oe=/^(only|not|and|or)$/.test(r)?"keyword":q.hasOwnProperty(r)?"tag":G.hasOwnProperty(r)?"attribute":V.hasOwnProperty(r)?"property":H.hasOwnProperty(r)?"string-2":M(t.current()))&&j(t))return w(n,t,"block")}return"operator"==e&&/^(not|and|or)$/.test(t.current())&&(oe="keyword"),n.context.type},te.atBlock_parens=function(e,t,n){if("{"==e||"}"==e)return n.context.type;if(")"==e)return j(t)?w(n,t,"block"):w(n,t,"atBlock");if("word"==e){var r=t.current().toLowerCase();return oe=M(r),/^(max|min)/.test(r)&&(oe="property"),"tag"==oe&&(oe=$.test(r)?"variable-2":"atom"),n.context.type}return te.atBlock(e,t,n)},te.keyframes=function(e,t,n){return"0"==t.indentation()&&("}"==e&&O(t)||"]"==e||"hash"==e||"qualifier"==e||T(t.current()))?S(e,t,n):"{"==e?w(n,t,"keyframes"):"}"==e?O(t)?k(n,!0):w(n,t,"keyframes"):"unit"==e&&/^[0-9]+\%$/.test(t.current())?w(n,t,"keyframes"):"word"==e&&"block-keyword"==(oe=M(t.current()))?(oe="keyword",w(n,t,"keyframes")):/@(font-face|media|supports|(-moz-)?document)/.test(e)?w(n,t,j(t)?"block":"atBlock"):"mixin"==e?w(n,t,"block",0):n.context.type},te.interpolation=function(e,t,n){return"{"==e&&k(n)&&w(n,t,"block"),"}"==e?t.string.match(/^\s*(\.|#|:|\[|\*|&|>|~|\+|\/)/i)||t.string.match(/^\s*[a-z]/i)&&T(D(t))?w(n,t,"block"):!t.string.match(/^(\{|\s*\&)/)||t.match(/\s*[\w-]/,!1)?w(n,t,"block",0):w(n,t,"block"):"variable-name"==e?w(n,t,"variableName",0):("word"==e&&"tag"==(oe=M(t.current()))&&(oe="atom"),n.context.type)},te.extend=function(e,t,n){return"["==e||"="==e?"extend":"]"==e?k(n):"word"==e?(oe=M(t.current()),"extend"):k(n)},te.variableName=function(e,t,n){return"string"==e||"["==e||"]"==e||t.current().match(/^(\.|\$)/)?(t.current().match(/^\.[\w-]+/i)&&(oe="variable-2"),"variableName"):S(e,t,n)},{startState:function(e){return{tokenize:null,state:"block",context:new x("block",e||0,null)}},token:function(e,t){return!t.tokenize&&e.eatSpace()?null:((re=(t.tokenize||g)(e,t))&&"object"==typeof re&&(ie=re[1],re=re[0]),oe=re,t.state=te[t.state](ie,e,t),oe)},indent:function(e,t,n){var r=e.context,i=t&&t.charAt(0),o=r.indent,a=D(t),s=n.match(/^\s*/)[0].replace(/\t/g,z).length,l=e.context.prev?e.context.prev.line.firstWord:"",u=e.context.prev?e.context.prev.line.indent:s;return r.prev&&("}"==i&&("block"==r.type||"atBlock"==r.type||"keyframes"==r.type)||")"==i&&("parens"==r.type||"atBlock_parens"==r.type)||"{"==i&&"at"==r.type)?o=r.indent-F:/(\})/.test(i)||(/@|\$|\d/.test(i)||/^\{/.test(t)||/^\s*\/(\/|\*)/.test(t)||/^\s*\/\*/.test(l)||/^\s*[\w-\.\[\]\'\"]+\s*(\?|:|\+)?=/i.test(t)||/^(\+|-)?[a-z][\w-]*\(/i.test(t)||/^return/.test(t)||E(a)?o=s:/(\.|#|:|\[|\*|&|>|~|\+|\/)/.test(i)||T(a)?o=/\,\s*$/.test(l)?u:/^\s+/.test(n)&&(/(\.|#|:|\[|\*|&|>|~|\+|\/)/.test(l)||T(l))?s<=u?u:u+F:s:/,\s*$/.test(n)||!L(a)&&!_(a)||(o=E(l)?s<=u?u:u+F:/^\{/.test(l)?s<=u?s:u+F:L(l)||_(l)?s>=u?u:s:/^(\.|#|:|\[|\*|&|@|\+|\-|>|~|\/)/.test(l)||/=\s*$/.test(l)||T(l)||/^\$[\w-\.\[\]\'\"]/.test(l)?u+F:s)),o},electricChars:"}",lineComment:"//",fold:"indent"}});var i=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","bgsound","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","nobr","noframes","noscript","object","ol","optgroup","option","output","p","param","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","var","video"],o=["domain","regexp","url-prefix","url"],a=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],s=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid"],l=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backface-visibility","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","baseline-shift","binding","bleed","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-feature-settings","font-family","font-kerning","font-language-override","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-weight","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-position","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","justify-content","left","letter-spacing","line-break","line-height","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marker-offset","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","max-height","max-width","min-height","min-width","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotation","rotation-point","ruby-align","ruby-overhang","ruby-position","ruby-span","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-outline","text-overflow","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode","font-smoothing","osx-font-smoothing"],u=["scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-3d-light-color","scrollbar-track-color","shape-inside","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","zoom"],c=["font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],f=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],d=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","avoid","avoid-column","avoid-page","avoid-region","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","column","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","dashed","decimal","decimal-leading-zero","default","default-button","destination-atop","destination-in","destination-out","destination-over","devanagari","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fixed","flat","flex","footnotes","forwards","from","geometricPrecision","georgian","graytext","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","malayalam","match","matrix","matrix3d","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row-resize","rtl","run-in","running","s-resize","sans-serif","scale","scale3d","scaleX","scaleY","scaleZ","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","semi-condensed","semi-expanded","separate","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","solid","somali","source-atop","source-in","source-out","source-over","space","spell-out","square","square-button","start","static","status-bar","stretch","stroke","sub","subpixel-antialiased","super","sw-resize","symbolic","symbols","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","x-large","x-small","xor","xx-large","xx-small","bicubic","optimizespeed","grayscale","row","row-reverse","wrap","wrap-reverse","column-reverse","flex-start","flex-end","space-between","space-around","unset"],p=["in","and","or","not","is not","is a","is","isnt","defined","if unless"],h=["for","if","else","unless","from","to"],m=["null","true","false","href","title","type","not-allowed","readonly","disabled"],g=["@font-face","@keyframes","@media","@viewport","@page","@host","@supports","@block","@css"],v=i.concat(o,a,s,l,u,f,d,c,p,h,m,g);e.registerHelper("hintWords","stylus",v),e.defineMIME("text/x-styl","stylus")}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("javascript",function(t,n){function r(e){for(var t=!1,n,r=!1;null!=(n=e.next());){if(!t){if("/"==n&&!r)return;"["==n?r=!0:r&&"]"==n&&(r=!1)}t=!t&&"\\"==n}}function i(e,t,n){return Xe=e,Ye=n,t}function o(e,t){var n=e.next();if('"'==n||"'"==n)return t.tokenize=a(n),t.tokenize(e,t);if("."==n&&e.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return i("number","number");if("."==n&&e.match(".."))return i("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(n))return i(n);if("="==n&&e.eat(">"))return i("=>","operator");if("0"==n&&e.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return i("number","number");if(/\d/.test(n))return e.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),i("number","number");if("/"==n)return e.eat("*")?(t.tokenize=s,s(e,t)):e.eat("/")?(e.skipToEnd(),i("comment","comment")):$e(e,t,1)?(r(e),e.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),i("regexp","string-2")):(e.eat("="),i("operator","operator",e.current()));if("`"==n)return t.tokenize=l,l(e,t);if("#"==n&&"!"==e.peek())return e.skipToEnd(),i("meta","meta");if("#"==n&&e.eatWhile(Ue))return i("variable","property");if("<"==n&&e.match("!--")||"-"==n&&e.match("->")&&!/\S/.test(e.string.slice(0,e.start)))return e.skipToEnd(),i("comment","comment");if(Ge.test(n))return">"==n&&t.lexical&&">"==t.lexical.type||(e.eat("=")?"!"!=n&&"="!=n||e.eat("="):/[<>*+\-|&?]/.test(n)&&(e.eat(n),">"==n&&e.eat(n))),"?"==n&&e.eat(".")?i("."):i("operator","operator",e.current());if(Ue.test(n)){e.eatWhile(Ue);var o=e.current();if("."!=t.lastType){if(Ve.propertyIsEnumerable(o)){var u=Ve[o];return i(u.type,u.style,o)}if("async"==o&&e.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return i("async","keyword",o)}return i("variable","variable",o)}}function a(e){return function(t,n){var r=!1,a;if(Be&&"@"==t.peek()&&t.match(Ke))return n.tokenize=o,i("jsonld-keyword","meta");for(;null!=(a=t.next())&&(a!=e||r);)r=!r&&"\\"==a;return r||(n.tokenize=o),i("string","string")}}function s(e,t){for(var n=!1,r;r=e.next();){if("/"==r&&n){t.tokenize=o;break}n="*"==r}return i("comment","comment")}function l(e,t){for(var n=!1,r;null!=(r=e.next());){if(!n&&("`"==r||"$"==r&&e.eat("{"))){t.tokenize=o;break}n=!n&&"\\"==r}return i("quasi","string-2",e.current())}function u(e,t){t.fatArrowAt&&(t.fatArrowAt=null);var n=e.string.indexOf("=>",e.start);if(!(n<0)){if(qe){var r=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(e.string.slice(e.start,n));r&&(n=r.index)}for(var i=0,o=!1,a=n-1;a>=0;--a){var s=e.string.charAt(a),l=Je.indexOf(s);if(l>=0&&l<3){if(!i){++a;break}if(0==--i){"("==s&&(o=!0);break}}else if(l>=3&&l<6)++i;else if(Ue.test(s))o=!0;else if(/["'\/`]/.test(s))for(;;--a){if(0==a)return;var u;if(e.string.charAt(a-1)==s&&"\\"!=e.string.charAt(a-2)){a--;break}}else if(o&&!i){++a;break}}o&&!i&&(t.fatArrowAt=a)}}function c(e,t,n,r,i,o){this.indented=e,this.column=t,this.type=n,this.prev=i,this.info=o,null!=r&&(this.align=r)}function f(e,t){for(var n=e.localVars;n;n=n.next)if(n.name==t)return!0;for(var r=e.context;r;r=r.prev)for(var n=r.vars;n;n=n.next)if(n.name==t)return!0}function d(e,t,n,r,i){var o=e.cc;for(Qe.state=e,Qe.stream=i,Qe.marked=null,Qe.cc=o,Qe.style=t,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);;){var a;if((o.length?o.pop():We?M:E)(n,r)){for(;o.length&&o[o.length-1].lex;)o.pop()();return Qe.marked?Qe.marked:"variable"==n&&f(e,r)?"variable-2":t}}}function p(){for(var e=arguments.length-1;e>=0;e--)Qe.cc.push(arguments[e])}function h(){return p.apply(null,arguments),!0}function m(e,t){for(var n=t;n;n=n.next)if(n.name==e)return!0;return!1}function g(e){var t=Qe.state;if(Qe.marked="def",t.context)if("var"==t.lexical.info&&t.context&&t.context.block){var r=v(e,t.context);if(null!=r)return void(t.context=r)}else if(!m(e,t.localVars))return void(t.localVars=new x(e,t.localVars));n.globalVars&&!m(e,t.globalVars)&&(t.globalVars=new x(e,t.globalVars))}function v(e,t){if(t){if(t.block){var n=v(e,t.prev);return n?n==t.prev?t:new b(n,t.vars,!0):null}return m(e,t.vars)?t:new b(t.prev,new x(e,t.vars),!1)}return null}function y(e){return"public"==e||"private"==e||"protected"==e||"abstract"==e||"readonly"==e}function b(e,t,n){this.prev=e,this.vars=t,this.block=n}function x(e,t){this.name=e,this.next=t}function w(){Qe.state.context=new b(Qe.state.context,Qe.state.localVars,!1),Qe.state.localVars=et}function k(){Qe.state.context=new b(Qe.state.context,Qe.state.localVars,!0),Qe.state.localVars=null}function C(){Qe.state.localVars=Qe.state.context.vars,Qe.state.context=Qe.state.context.prev}function S(e,t){var n=function(){var n=Qe.state,r=n.indented;if("stat"==n.lexical.type)r=n.lexical.indented;else for(var i=n.lexical;i&&")"==i.type&&i.align;i=i.prev)r=i.indented;n.lexical=new c(r,Qe.stream.column(),e,null,n.lexical,t)};return n.lex=!0,n}function T(){var e=Qe.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function _(e){function t(n){return n==e?h():";"==e||"}"==n||")"==n||"]"==n?p():h(t)}return t}function E(e,t){return"var"==e?h(S("vardef",t),ue,_(";"),T):"keyword a"==e?h(S("form"),N,E,T):"keyword b"==e?h(S("form"),E,T):"keyword d"==e?Qe.stream.match(/^\s*$/,!1)?h():h(S("stat"),O,_(";"),T):"debugger"==e?h(_(";")):"{"==e?h(S("}"),k,Y,T,C):";"==e?h():"if"==e?("else"==Qe.state.lexical.info&&Qe.state.cc[Qe.state.cc.length-1]==T&&Qe.state.cc.pop()(),h(S("form"),N,E,T,me)):"function"==e?h(be):"for"==e?h(S("form"),ge,E,T):"class"==e||qe&&"interface"==t?(Qe.marked="keyword",h(S("form","class"==e?e:t),Se,T)):"variable"==e?qe&&"declare"==t?(Qe.marked="keyword",h(E)):qe&&("module"==t||"enum"==t||"type"==t)&&Qe.stream.match(/^\s*\w/,!1)?(Qe.marked="keyword","enum"==t?h(Fe):"type"==t?h(we,_("operator"),te,_(";")):h(S("form"),ce,_("{"),S("}"),Y,T,T)):qe&&"namespace"==t?(Qe.marked="keyword",h(S("form"),M,E,T)):qe&&"abstract"==t?(Qe.marked="keyword",h(E)):h(S("stat"),W):"switch"==e?h(S("form"),N,_("{"),S("}","switch"),k,Y,T,T,C):"case"==e?h(M,_(":")):"default"==e?h(_(":")):"catch"==e?h(S("form"),w,L,E,T,C):"export"==e?h(S("stat"),Le,T):"import"==e?h(S("stat"),Ae,T):"async"==e?h(E):"@"==t?h(M,E):p(S("stat"),M,_(";"),T)}function L(e){if("("==e)return h(ke,_(")"))}function M(e,t){return P(e,t,!1)}function A(e,t){return P(e,t,!0)}function N(e){return"("!=e?p():h(S(")"),O,_(")"),T)}function P(e,t,n){if(Qe.state.fatArrowAt==Qe.stream.start){var r=n?$:I;if("("==e)return h(w,S(")"),K(ke,")"),T,_("=>"),r,C);if("variable"==e)return p(w,ce,_("=>"),r,C)}var i=n?D:j;return Ze.hasOwnProperty(e)?h(i):"function"==e?h(be,i):"class"==e||qe&&"interface"==t?(Qe.marked="keyword",h(S("form"),Ce,T)):"keyword c"==e||"async"==e?h(n?A:M):"("==e?h(S(")"),O,_(")"),T,i):"operator"==e||"spread"==e?h(n?A:M):"["==e?h(S("]"),De,T,i):"{"==e?X(U,"}",null,i):"quasi"==e?p(F,i):"new"==e?h(R(n)):"import"==e?h(M):h()}function O(e){return e.match(/[;\}\)\],]/)?p():p(M)}function j(e,t){return","==e?h(O):D(e,t,!1)}function D(e,t,n){var r=0==n?j:D,i=0==n?M:A;return"=>"==e?h(w,n?$:I,C):"operator"==e?/\+\+|--/.test(t)||qe&&"!"==t?h(r):qe&&"<"==t&&Qe.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?h(S(">"),K(te,">"),T,r):"?"==t?h(M,_(":"),i):h(i):"quasi"==e?p(F,r):";"!=e?"("==e?X(A,")","call",r):"."==e?h(q,r):"["==e?h(S("]"),O,_("]"),T,r):qe&&"as"==t?(Qe.marked="keyword",h(te,r)):"regexp"==e?(Qe.state.lastType=Qe.marked="operator",Qe.stream.backUp(Qe.stream.pos-Qe.stream.start-1),h(i)):void 0:void 0}function F(e,t){return"quasi"!=e?p():"${"!=t.slice(t.length-2)?h(F):h(M,z)}function z(e){if("}"==e)return Qe.marked="string-2",Qe.state.tokenize=l,h(F)}function I(e){return u(Qe.stream,Qe.state),p("{"==e?E:M)}function $(e){return u(Qe.stream,Qe.state),p("{"==e?E:A)}function R(e){return function(t){return"."==t?h(e?B:H):"variable"==t&&qe?h(ae,e?D:j):p(e?A:M)}}function H(e,t){if("target"==t)return Qe.marked="keyword",h(j)}function B(e,t){if("target"==t)return Qe.marked="keyword",h(D)}function W(e){return":"==e?h(T,E):p(j,_(";"),T)}function q(e){if("variable"==e)return Qe.marked="property",h()}function U(e,t){if("async"==e)return Qe.marked="property",h(U);if("variable"==e||"keyword"==Qe.style){return Qe.marked="property","get"==t||"set"==t?h(V):(qe&&Qe.state.fatArrowAt==Qe.stream.start&&(n=Qe.stream.match(/^\s*:\s*/,!1))&&(Qe.state.fatArrowAt=Qe.stream.pos+n[0].length),h(G));var n}else{if("number"==e||"string"==e)return Qe.marked=Be?"property":Qe.style+" property",h(G);if("jsonld-keyword"==e)return h(G);if(qe&&y(t))return Qe.marked="keyword",h(U);if("["==e)return h(M,J,_("]"),G);if("spread"==e)return h(A,G);if("*"==t)return Qe.marked="keyword",h(U);if(":"==e)return p(G)}}function V(e){return"variable"!=e?p(G):(Qe.marked="property",h(be))}function G(e){return":"==e?h(A):"("==e?p(be):void 0}function K(e,t,n){function r(i,o){if(n?n.indexOf(i)>-1:","==i){var a=Qe.state.lexical;return"call"==a.info&&(a.pos=(a.pos||0)+1),h(function(n,r){return n==t||r==t?p():p(e)},r)}return i==t||o==t?h():n&&n.indexOf(";")>-1?p(e):h(_(t))}return function(n,i){return n==t||i==t?h():p(e,r)}}function X(e,t,n){for(var r=3;r<arguments.length;r++)Qe.cc.push(arguments[r]);return h(S(t,n),K(e,t),T)}function Y(e){return"}"==e?h():p(E,Y)}function J(e,t){if(qe){if(":"==e)return h(te);if("?"==t)return h(J)}}function Z(e,t){if(qe&&(":"==e||"in"==t))return h(te)}function Q(e){if(qe&&":"==e)return Qe.stream.match(/^\s*\w+\s+is\b/,!1)?h(M,ee,te):h(te)}function ee(e,t){if("is"==t)return Qe.marked="keyword",h()}function te(e,t){return"keyof"==t||"typeof"==t||"infer"==t?(Qe.marked="keyword",h("typeof"==t?A:te)):"variable"==e||"void"==t?(Qe.marked="type",h(oe)):"|"==t||"&"==t?h(te):"string"==e||"number"==e||"atom"==e?h(oe):"["==e?h(S("]"),K(te,"]",","),T,oe):"{"==e?h(S("}"),K(re,"}",",;"),T,oe):"("==e?h(K(ie,")"),ne,oe):"<"==e?h(K(te,">"),te):void 0}function ne(e){if("=>"==e)return h(te)}function re(e,t){return"variable"==e||"keyword"==Qe.style?(Qe.marked="property",h(re)):"?"==t||"number"==e||"string"==e?h(re):":"==e?h(te):"["==e?h(_("variable"),Z,_("]"),re):"("==e?p(xe,re):void 0}function ie(e,t){return"variable"==e&&Qe.stream.match(/^\s*[?:]/,!1)||"?"==t?h(ie):":"==e?h(te):"spread"==e?h(ie):p(te)}function oe(e,t){return"<"==t?h(S(">"),K(te,">"),T,oe):"|"==t||"."==e||"&"==t?h(te):"["==e?h(te,_("]"),oe):"extends"==t||"implements"==t?(Qe.marked="keyword",h(te)):"?"==t?h(te,_(":"),te):void 0}function ae(e,t){if("<"==t)return h(S(">"),K(te,">"),T,oe)}function se(){return p(te,le)}function le(e,t){if("="==t)return h(te)}function ue(e,t){return"enum"==t?(Qe.marked="keyword",h(Fe)):p(ce,J,pe,he)}function ce(e,t){return qe&&y(t)?(Qe.marked="keyword",h(ce)):"variable"==e?(g(t),h()):"spread"==e?h(ce):"["==e?X(de,"]"):"{"==e?X(fe,"}"):void 0}function fe(e,t){return"variable"!=e||Qe.stream.match(/^\s*:/,!1)?("variable"==e&&(Qe.marked="property"),"spread"==e?h(ce):"}"==e?p():"["==e?h(M,_("]"),_(":"),fe):h(_(":"),ce,pe)):(g(t),h(pe))}function de(){return p(ce,pe)}function pe(e,t){if("="==t)return h(A)}function he(e){if(","==e)return h(ue)}function me(e,t){if("keyword b"==e&&"else"==t)return h(S("form","else"),E,T)}function ge(e,t){return"await"==t?h(ge):"("==e?h(S(")"),ve,T):void 0}function ve(e){return"var"==e?h(ue,ye):"variable"==e?h(ye):p(ye)}function ye(e,t){return")"==e?h():";"==e?h(ye):"in"==t||"of"==t?(Qe.marked="keyword",h(M,ye)):p(M,ye)}function be(e,t){return"*"==t?(Qe.marked="keyword",h(be)):"variable"==e?(g(t),h(be)):"("==e?h(w,S(")"),K(ke,")"),T,Q,E,C):qe&&"<"==t?h(S(">"),K(se,">"),T,be):void 0}function xe(e,t){return"*"==t?(Qe.marked="keyword",h(xe)):"variable"==e?(g(t),h(xe)):"("==e?h(w,S(")"),K(ke,")"),T,Q,C):qe&&"<"==t?h(S(">"),K(se,">"),T,xe):void 0}function we(e,t){return"keyword"==e||"variable"==e?(Qe.marked="type",h(we)):"<"==t?h(S(">"),K(se,">"),T):void 0}function ke(e,t){return"@"==t&&h(M,ke),"spread"==e?h(ke):qe&&y(t)?(Qe.marked="keyword",h(ke)):qe&&"this"==e?h(J,pe):p(ce,J,pe)}function Ce(e,t){return"variable"==e?Se(e,t):Te(e,t)}function Se(e,t){if("variable"==e)return g(t),h(Te)}function Te(e,t){return"<"==t?h(S(">"),K(se,">"),T,Te):"extends"==t||"implements"==t||qe&&","==e?("implements"==t&&(Qe.marked="keyword"),h(qe?te:M,Te)):"{"==e?h(S("}"),_e,T):void 0}function _e(e,t){return"async"==e||"variable"==e&&("static"==t||"get"==t||"set"==t||qe&&y(t))&&Qe.stream.match(/^\s+[\w$\xa1-\uffff]/,!1)?(Qe.marked="keyword",h(_e)):"variable"==e||"keyword"==Qe.style?(Qe.marked="property",h(Ee,_e)):"number"==e||"string"==e?h(Ee,_e):"["==e?h(M,J,_("]"),Ee,_e):"*"==t?(Qe.marked="keyword",h(_e)):qe&&"("==e?p(xe,_e):";"==e||","==e?h(_e):"}"==e?h():"@"==t?h(M,_e):void 0}function Ee(e,t){if("?"==t)return h(Ee);if(":"==e)return h(te,pe);if("="==t)return h(A);var n=Qe.state.lexical.prev,r;return p(n&&"interface"==n.info?xe:be)}function Le(e,t){return"*"==t?(Qe.marked="keyword",h(je,_(";"))):"default"==t?(Qe.marked="keyword",h(M,_(";"))):"{"==e?h(K(Me,"}"),je,_(";")):p(E)}function Me(e,t){return"as"==t?(Qe.marked="keyword",h(_("variable"))):"variable"==e?p(A,Me):void 0}function Ae(e){return"string"==e?h():"("==e?p(M):p(Ne,Pe,je)}function Ne(e,t){return"{"==e?X(Ne,"}"):("variable"==e&&g(t),"*"==t&&(Qe.marked="keyword"),h(Oe))}function Pe(e){if(","==e)return h(Ne,Pe)}function Oe(e,t){if("as"==t)return Qe.marked="keyword",h(Ne)}function je(e,t){if("from"==t)return Qe.marked="keyword",h(M)}function De(e){return"]"==e?h():p(K(A,"]"))}function Fe(){return p(S("form"),ce,_("{"),S("}"),K(ze,"}"),T,T)}function ze(){return p(ce,pe)}function Ie(e,t){return"operator"==e.lastType||","==e.lastType||Ge.test(t.charAt(0))||/[,.]/.test(t.charAt(0))}function $e(e,t,n){return t.tokenize==o&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(t.lastType)||"quasi"==t.lastType&&/\{\s*$/.test(e.string.slice(0,e.pos-(n||0)))}var Re=t.indentUnit,He=n.statementIndent,Be=n.jsonld,We=n.json||Be,qe=n.typescript,Ue=n.wordCharacters||/[\w$\xa1-\uffff]/,Ve=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),n=e("keyword b"),r=e("keyword c"),i=e("keyword d"),o=e("operator"),a={type:"atom",style:"atom"};return{"if":e("if"),"while":t,"with":t,"else":n,"do":n,"try":n,"finally":n,"return":i,"break":i,"continue":i,"new":e("new"),"delete":r,"void":r,"throw":r,"debugger":e("debugger"),"var":e("var"),"const":e("var"),"let":e("var"),"function":e("function"),"catch":e("catch"),"for":e("for"),"switch":e("switch"),"case":e("case"),"default":e("default"),"in":o,"typeof":o,"instanceof":o,"true":a,"false":a,"null":a,undefined:a,NaN:a,Infinity:a,"this":e("this"),"class":e("class"),"super":e("atom"),yield:r,"export":e("export"),"import":e("import"),"extends":r,await:r}}(),Ge=/[+\-*&%=<>!?|~^@]/,Ke=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/,Xe,Ye,Je="([{}])",Ze={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,"this":!0,"jsonld-keyword":!0},Qe={state:null,column:null,marked:null,cc:null},et=new x("this",new x("arguments",null));return C.lex=!0,T.lex=!0,{startState:function(e){var t={tokenize:o,lastType:"sof",cc:[],lexical:new c((e||0)-Re,0,"block",!1),localVars:n.localVars,context:n.localVars&&new b(null,null,!1),indented:e||0};return n.globalVars&&"object"==typeof n.globalVars&&(t.globalVars=n.globalVars),t},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation(),u(e,t)),t.tokenize!=s&&e.eatSpace())return null;var n=t.tokenize(e,t);return"comment"==Xe?n:(t.lastType="operator"!=Xe||"++"!=Ye&&"--"!=Ye?Xe:"incdec",d(t,n,Xe,Ye,e))},indent:function(t,r){if(t.tokenize==s||t.tokenize==l)return e.Pass;if(t.tokenize!=o)return 0;var i=r&&r.charAt(0),a=t.lexical,u;if(!/^\s*else\b/.test(r))for(var c=t.cc.length-1;c>=0;--c){var f=t.cc[c];if(f==T)a=a.prev;else if(f!=me)break}for(;("stat"==a.type||"form"==a.type)&&("}"==i||(u=t.cc[t.cc.length-1])&&(u==j||u==D)&&!/^[,\.=+\-*:?[\(]/.test(r));)a=a.prev;He&&")"==a.type&&"stat"==a.prev.type&&(a=a.prev);var d=a.type,p=i==d;return"vardef"==d?a.indented+("operator"==t.lastType||","==t.lastType?a.info.length+1:0):"form"==d&&"{"==i?a.indented:"form"==d?a.indented+Re:"stat"==d?a.indented+(Ie(t,r)?He||Re:0):"switch"!=a.info||p||0==n.doubleIndentSwitch?a.align?a.column+(p?0:1):a.indented+(p?0:Re):a.indented+(/^(?:case|default)\b/.test(r)?Re:2*Re)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:We?null:"/*",blockCommentEnd:We?null:"*/",blockCommentContinue:We?null:" * ",lineComment:We?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:We?"json":"javascript",jsonldMode:Be,jsonMode:We,expressionAllowed:$e,skipExpression:function(e){var t=e.cc[e.cc.length-1];t!=M&&t!=A||e.cc.pop()}}}),e.registerHelper("wordChars","javascript",/[\w$]/),e.defineMIME("text/javascript","javascript"),e.defineMIME("text/ecmascript","javascript"),e.defineMIME("application/javascript","javascript"),e.defineMIME("application/x-javascript","javascript"),e.defineMIME("application/ecmascript","javascript"),e.defineMIME("application/json",{name:"javascript",json:!0}),e.defineMIME("application/x-json",{name:"javascript",json:!0}),e.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),e.defineMIME("text/typescript",{name:"javascript",typescript:!0}),e.defineMIME("application/typescript",{name:"javascript",typescript:!0})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("coffeescript",function(e,t){function n(e){return new RegExp("^(("+e.join(")|(")+"))\\b")}function r(e,t){if(e.sol()){null===t.scope.align&&(t.scope.align=!1);var n=t.scope.offset;if(e.eatSpace()){var r=e.indentation();return r>n&&"coffee"==t.scope.type?"indent":r<n?"dedent":null}n>0&&s(e,t)}if(e.eatSpace())return null;var a=e.peek();if(e.match("####"))return e.skipToEnd(),"comment";if(e.match("###"))return t.tokenize=o,t.tokenize(e,t);if("#"===a)return e.skipToEnd(),"comment";if(e.match(/^-?[0-9\.]/,!1)){var l=!1;if(e.match(/^-?\d*\.\d+(e[\+\-]?\d+)?/i)&&(l=!0),e.match(/^-?\d+\.\d*/)&&(l=!0),e.match(/^-?\.\d+/)&&(l=!0),l)return"."==e.peek()&&e.backUp(1),"number";var m=!1;if(e.match(/^-?0x[0-9a-f]+/i)&&(m=!0),e.match(/^-?[1-9]\d*(e[\+\-]?\d+)?/)&&(m=!0),e.match(/^-?0(?![\dx])/i)&&(m=!0),m)return"number"}if(e.match(y))return t.tokenize=i(e.current(),!1,"string"),t.tokenize(e,t);if(e.match(b)){if("/"!=e.current()||e.match(/^.*\//,!1))return t.tokenize=i(e.current(),!0,"string-2"),t.tokenize(e,t);e.backUp(1)}return e.match(c)||e.match(h)?"operator":e.match(f)?"punctuation":e.match(w)?"atom":e.match(p)||t.prop&&e.match(d)?"property":e.match(v)?"keyword":e.match(d)?"variable":(e.next(),u)}function i(e,n,i){return function(o,a){for(;!o.eol();)if(o.eatWhile(/[^'"\/\\]/),o.eat("\\")){if(o.next(),n&&o.eol())return i}else{if(o.match(e))return a.tokenize=r,i;o.eat(/['"\/]/)}return n&&(t.singleLineStringErrors?i=u:a.tokenize=r),i}}function o(e,t){for(;!e.eol();){if(e.eatWhile(/[^#]/),e.match("###")){t.tokenize=r;break}e.eatWhile("#")}return"comment"}function a(t,n,r){r=r||"coffee";for(var i=0,o=!1,a=null,s=n.scope;s;s=s.prev)if("coffee"===s.type||"}"==s.type){i=s.offset+e.indentUnit;break}"coffee"!==r?(o=null,a=t.column()+t.current().length):n.scope.align&&(n.scope.align=!1),n.scope={offset:i,type:r,prev:n.scope,align:o,alignOffset:a}}function s(e,t){if(t.scope.prev){if("coffee"===t.scope.type){for(var n=e.indentation(),r=!1,i=t.scope;i;i=i.prev)if(n===i.offset){r=!0;break}if(!r)return!0;for(;t.scope.prev&&t.scope.offset!==n;)t.scope=t.scope.prev;return!1}return t.scope=t.scope.prev,!1}}function l(e,t){var n=t.tokenize(e,t),r=e.current();"return"===r&&(t.dedent=!0),(("->"===r||"=>"===r)&&e.eol()||"indent"===n)&&a(e,t);var i="[({".indexOf(r);if(-1!==i&&a(e,t,"])}".slice(i,i+1)),m.exec(r)&&a(e,t),"then"==r&&s(e,t),"dedent"===n&&s(e,t))return u;if(-1!==(i="])}".indexOf(r))){for(;"coffee"==t.scope.type&&t.scope.prev;)t.scope=t.scope.prev;t.scope.type==r&&(t.scope=t.scope.prev)}return t.dedent&&e.eol()&&("coffee"==t.scope.type&&t.scope.prev&&(t.scope=t.scope.prev),t.dedent=!1),n}var u="error",c=/^(?:->|=>|\+[+=]?|-[\-=]?|\*[\*=]?|\/[\/=]?|[=!]=|<[><]?=?|>>?=?|%=?|&=?|\|=?|\^=?|\~|!|\?|(or|and|\|\||&&|\?)=)/,f=/^(?:[()\[\]{},:`=;]|\.\.?\.?)/,d=/^[_A-Za-z$][_A-Za-z$0-9]*/,p=/^@[_A-Za-z$][_A-Za-z$0-9]*/,h=n(["and","or","not","is","isnt","in","instanceof","typeof"]),m=["for","while","loop","if","unless","else","switch","try","catch","finally","class"],g=["break","by","continue","debugger","delete","do","in","of","new","return","then","this","@","throw","when","until","extends"],v=n(m.concat(g));m=n(m);var y=/^('{3}|\"{3}|['\"])/,b=/^(\/{3}|\/)/,x,w=n(["Infinity","NaN","undefined","null","true","false","on","off","yes","no"]),k;return{startState:function(e){return{tokenize:r,scope:{offset:e||0,type:"coffee",prev:null,align:!1},prop:!1,dedent:0}},token:function(e,t){var n=null===t.scope.align&&t.scope;n&&e.sol()&&(n.align=!1);var r=l(e,t);return r&&"comment"!=r&&(n&&(n.align=!0),t.prop="punctuation"==r&&"."==e.current()),r},indent:function(e,t){if(e.tokenize!=r)return 0;var n=e.scope,i=t&&"])}".indexOf(t.charAt(0))>-1;if(i)for(;"coffee"==n.type&&n.prev;)n=n.prev;var o=i&&n.type===t.charAt(0);return n.align?n.alignOffset-(o?1:0):(o?n.prev:n).offset},lineComment:"#",fold:"indent"}}),e.defineMIME("application/vnd.coffeescript","coffeescript"),e.defineMIME("text/x-coffeescript","coffeescript"),e.defineMIME("text/coffeescript","coffeescript")}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("livescript",function(){var e=function(e,t){var n=t.next||"start";if(n){t.next=t.next;var r=o[n];if(r.splice){for(var i=0;i<r.length;++i){var a=r[i];if(a.regex&&e.match(a.regex))return t.next=a.next||t.next,a.token}return e.next(),"error"}if(e.match(a=o[n]))return a.regex&&e.match(a.regex)?(t.next=a.next,a.token):(e.next(),"error")}return e.next(),"error"},t;return{startState:function(){return{next:"start",lastToken:{style:null,indent:0,content:""}}},token:function(t,n){for(;t.pos==t.start;)var r=e(t,n);return n.lastToken={style:r,indent:t.indentation(),content:t.current()},r.replace(/\./g," ")},indent:function(e){var t=e.lastToken.indent;return e.lastToken.content.match(n)&&(t+=2),t}}});var t="(?![\\d\\s])[$\\w\\xAA-\\uFFDC](?:(?!\\s)[$\\w\\xAA-\\uFFDC]|-[A-Za-z])*",n=RegExp("(?:[({[=:]|[-~]>|\\b(?:e(?:lse|xport)|d(?:o|efault)|t(?:ry|hen)|finally|import(?:\\s*all)?|const|var|let|new|catch(?:\\s*"+t+")?))\\s*$"),r="(?![$\\w]|-[A-Za-z]|\\s*:(?![:=]))",i={token:"string",regex:".+"},o={start:[{token:"comment.doc",regex:"/\\*",next:"comment"},{token:"comment",regex:"#.*"},{token:"keyword",regex:"(?:t(?:h(?:is|row|en)|ry|ypeof!?)|c(?:on(?:tinue|st)|a(?:se|tch)|lass)|i(?:n(?:stanceof)?|mp(?:ort(?:\\s+all)?|lements)|[fs])|d(?:e(?:fault|lete|bugger)|o)|f(?:or(?:\\s+own)?|inally|unction)|s(?:uper|witch)|e(?:lse|x(?:tends|port)|val)|a(?:nd|rguments)|n(?:ew|ot)|un(?:less|til)|w(?:hile|ith)|o[fr]|return|break|let|var|loop)"+r},{token:"constant.language",regex:"(?:true|false|yes|no|on|off|null|void|undefined)"+r},{token:"invalid.illegal",regex:"(?:p(?:ackage|r(?:ivate|otected)|ublic)|i(?:mplements|nterface)|enum|static|yield)"+r},{token:"language.support.class",regex:"(?:R(?:e(?:gExp|ferenceError)|angeError)|S(?:tring|yntaxError)|E(?:rror|valError)|Array|Boolean|Date|Function|Number|Object|TypeError|URIError)"+r},{token:"language.support.function",regex:"(?:is(?:NaN|Finite)|parse(?:Int|Float)|Math|JSON|(?:en|de)codeURI(?:Component)?)"+r},{token:"variable.language",regex:"(?:t(?:hat|il|o)|f(?:rom|allthrough)|it|by|e)"+r},{token:"identifier",regex:t+"\\s*:(?![:=])"},{token:"variable",regex:t},{token:"keyword.operator",regex:"(?:\\.{3}|\\s+\\?)"},{token:"keyword.variable",regex:"(?:@+|::|\\.\\.)",next:"key"},{token:"keyword.operator",regex:"\\.\\s*",next:"key"},{token:"string",regex:"\\\\\\S[^\\s,;)}\\]]*"},{token:"string.doc",regex:"'''",next:"qdoc"},{token:"string.doc",regex:'"""',next:"qqdoc"},{token:"string",regex:"'",next:"qstring"},{token:"string",regex:'"',next:"qqstring"},{token:"string",regex:"`",next:"js"},{token:"string",regex:"<\\[",next:"words"},{token:"string.regex",regex:"//",next:"heregex"},{token:"string.regex",regex:"\\/(?:[^[\\/\\n\\\\]*(?:(?:\\\\.|\\[[^\\]\\n\\\\]*(?:\\\\.[^\\]\\n\\\\]*)*\\])[^[\\/\\n\\\\]*)*)\\/[gimy$]{0,4}",next:"key"},{token:"constant.numeric",regex:"(?:0x[\\da-fA-F][\\da-fA-F_]*|(?:[2-9]|[12]\\d|3[0-6])r[\\da-zA-Z][\\da-zA-Z_]*|(?:\\d[\\d_]*(?:\\.\\d[\\d_]*)?|\\.\\d[\\d_]*)(?:e[+-]?\\d[\\d_]*)?[\\w$]*)"},{token:"lparen",regex:"[({[]"},{token:"rparen",regex:"[)}\\]]",next:"key"},{token:"keyword.operator",regex:"\\S+"},{token:"text",regex:"\\s+"}],heregex:[{token:"string.regex",regex:".*?//[gimy$?]{0,4}",next:"start"},{token:"string.regex",regex:"\\s*#{"},{token:"comment.regex",regex:"\\s+(?:#.*)?"},{token:"string.regex",regex:"\\S+"}],key:[{token:"keyword.operator",regex:"[.?@!]+"},{token:"identifier",regex:t,next:"start"},{token:"text",regex:"",next:"start"}],comment:[{token:"comment.doc",regex:".*?\\*/",next:"start"},{token:"comment.doc",regex:".+"}],qdoc:[{token:"string",regex:".*?'''",next:"key"},i],qqdoc:[{token:"string",regex:'.*?"""',next:"key"},i],qstring:[{token:"string",regex:"[^\\\\']*(?:\\\\.[^\\\\']*)*'",next:"key"},i],qqstring:[{token:"string",regex:'[^\\\\"]*(?:\\\\.[^\\\\"]*)*"',next:"key"},i],js:[{token:"string",regex:"[^\\\\`]*(?:\\\\.[^\\\\`]*)*`",next:"key"},i],words:[{token:"string",regex:".*?\\]>",next:"key"},i]};for(var a in o){var s=o[a];if(s.splice)for(var l=0,u=s.length;l<u;++l){var c=s[l];"string"==typeof c.regex&&(o[a][l].regex=new RegExp("^"+c.regex))}else"string"==typeof c.regex&&(o[a].regex=new RegExp("^"+s.regex))}e.defineMIME("text/x-livescript","livescript")}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("../xml/xml"),require("../javascript/javascript")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../xml/xml","../javascript/javascript"],e):e(CodeMirror)}(function(e){"use strict";function t(e,t,n,r){this.state=e,this.mode=t,this.depth=n,this.prev=r}function n(r){return new t(e.copyState(r.mode,r.state),r.mode,r.depth,r.prev&&n(r.prev))}e.defineMode("jsx",function(r,i){function o(e){var t=e.tagName;e.tagName=null;var n=u.indent(e,"","");return e.tagName=t,n}function a(e,t){return t.context.mode==u?s(e,t,t.context):l(e,t,t.context)}function s(n,i,s){if(2==s.depth)return n.match(/^.*?\*\//)?s.depth=1:n.skipToEnd(),"comment";if("{"==n.peek()){u.skipAttribute(s.state);var l=o(s.state),f=s.state.context;if(f&&n.match(/^[^>]*>\s*$/,!1)){for(;f.prev&&!f.startOfLine;)f=f.prev;f.startOfLine?l-=r.indentUnit:s.prev.state.lexical&&(l=s.prev.state.lexical.indented)}else 1==s.depth&&(l+=r.indentUnit);return i.context=new t(e.startState(c,l),c,0,i.context),null}if(1==s.depth){if("<"==n.peek())return u.skipAttribute(s.state),i.context=new t(e.startState(u,o(s.state)),u,0,i.context),null;if(n.match("//"))return n.skipToEnd(),"comment";if(n.match("/*"))return s.depth=2,a(n,i)}var d=u.token(n,s.state),p=n.current(),h;return/\btag\b/.test(d)?/>$/.test(p)?s.state.context?s.depth=0:i.context=i.context.prev:/^</.test(p)&&(s.depth=1):!d&&(h=p.indexOf("{"))>-1&&n.backUp(p.length-h),d}function l(n,r,i){if("<"==n.peek()&&c.expressionAllowed(n,i.state))return c.skipExpression(i.state),r.context=new t(e.startState(u,c.indent(i.state,"","")),u,0,r.context),null;var o=c.token(n,i.state);if(!o&&null!=i.depth){var a=n.current();"{"==a?i.depth++:"}"==a&&0==--i.depth&&(r.context=r.context.prev)}return o}var u=e.getMode(r,{name:"xml",allowMissing:!0,multilineTagIndentPastTag:!1,allowMissingTagName:!0}),c=e.getMode(r,i&&i.base||"javascript");return{startState:function(){return{context:new t(e.startState(c),c)}},copyState:function(e){return{context:n(e.context)}},token:a,indent:function(e,t,n){return e.context.mode.indent(e.context.state,t,n)},innerMode:function(e){return e.context}}},"xml","javascript"),e.defineMIME("text/jsx","jsx"),e.defineMIME("text/typescript-jsx",{name:"jsx",base:{name:"javascript",typescript:!0}})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("../clike/clike")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../clike/clike"],e):e(CodeMirror)}(function(e){"use strict";function t(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=!0;return t}function n(e){(e.interpolationStack||(e.interpolationStack=[])).push(e.tokenize)}function r(e){return(e.interpolationStack||(e.interpolationStack=[])).pop()}function i(e){return e.interpolationStack?e.interpolationStack.length:0}function o(e,t,r,i){function o(t,r){for(var o=!1;!t.eol();){if(!i&&!o&&"$"==t.peek())return n(r),r.tokenize=a,"string";var l=t.next();if(l==e&&!o&&(!s||t.match(e+e))){r.tokenize=null;break}o=!i&&!o&&"\\"==l}return"string"}var s=!1;if(t.eat(e)){if(!t.eat(e))return"string";s=!0}return r.tokenize=o,o(t,r)}function a(e,t){return e.eat("$"),e.eat("{")?t.tokenize=null:t.tokenize=s,null}function s(e,t){return e.eatWhile(/[\w_]/),t.tokenize=r(t),"variable"}function l(e){return function(t,n){for(var r;r=t.next();){if("*"==r&&t.eat("/")){if(1==e){n.tokenize=null;break}return n.tokenize=l(e-1),n.tokenize(t,n)}if("/"==r&&t.eat("*"))return n.tokenize=l(e+1),n.tokenize(t,n)}return"comment"}}var u="this super static final const abstract class extends external factory implements mixin get native set typedef with enum throw rethrow assert break case continue default in return new deferred async await covariant try catch finally do else for if switch while import library export part of show hide is as extension on yield late required".split(" "),c="try catch finally do else for if switch while".split(" "),f="true false null".split(" "),d="void bool num int double dynamic var String Null Never".split(" ");e.defineMIME("application/dart",{name:"clike",keywords:t(u),blockKeywords:t(c),builtin:t(d),atoms:t(f),hooks:{"@":function(e){return e.eatWhile(/[\w\$_\.]/),"meta"},"'":function(e,t){return o("'",e,t,!1)},'"':function(e,t){return o('"',e,t,!1)},r:function(e,t){var n=e.peek();return("'"==n||'"'==n)&&o(e.next(),e,t,!0)},"}":function(e,t){return i(t)>0&&(t.tokenize=r(t),null)},"/":function(e,t){return!!e.eat("*")&&(t.tokenize=l(1),t.tokenize(e,t))},token:function(e,t,n){var r;if("variable"==n&&RegExp("^[_$]*[A-Z][a-zA-Z0-9_$]*$","g").test(e.current()))return"variable-2"}}}),e.registerHelper("hintWords","application/dart",u.concat(f).concat(d)),e.defineMode("dart",function(t){return e.getMode(t,"application/dart")},"clike")}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.overlayMode=function(t,n,r){return{startState:function(){return{base:e.startState(t),overlay:e.startState(n),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(r){return{base:e.copyState(t,r.base),overlay:e.copyState(n,r.overlay),basePos:r.basePos,baseCur:null,overlayPos:r.overlayPos,overlayCur:null}},token:function(e,i){return(e!=i.streamSeen||Math.min(i.basePos,i.overlayPos)<e.start)&&(i.streamSeen=e,i.basePos=i.overlayPos=e.start),e.start==i.basePos&&(i.baseCur=t.token(e,i.base),i.basePos=e.pos),e.start==i.overlayPos&&(e.pos=e.start,i.overlayCur=n.token(e,i.overlay),i.overlayPos=e.pos),e.pos=Math.min(i.basePos,i.overlayPos),null==i.overlayCur?i.baseCur:null!=i.baseCur&&i.overlay.combineTokens||r&&null==i.overlay.combineTokens?i.baseCur+" "+i.overlayCur:i.overlayCur},indent:t.indent&&function(e,n,r){return t.indent(e.base,n,r)},electricChars:t.electricChars,innerMode:function(e){return{state:e.base,mode:t}},blankLine:function(e){var i,o;return t.blankLine&&(i=t.blankLine(e.base)),n.blankLine&&(o=n.blankLine(e.overlay)),null==o?i:r&&null!=i?i+" "+o:o}}}}),function(e){"use strict";"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("../../addon/mode/overlay"),require("../xml/xml"),require("../javascript/javascript"),require("../coffeescript/coffeescript"),require("../css/css"),require("../sass/sass"),require("../stylus/stylus"),require("../pug/pug"),require("../handlebars/handlebars")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../../addon/mode/overlay","../xml/xml","../javascript/javascript","../coffeescript/coffeescript","../css/css","../sass/sass","../stylus/stylus","../pug/pug","../handlebars/handlebars"],e):e(CodeMirror)}(function(e){var t={script:[["lang",/coffee(script)?/,"coffeescript"],["type",/^(?:text|application)\/(?:x-)?coffee(?:script)?$/,"coffeescript"],["lang",/^babel$/,"javascript"],["type",/^text\/babel$/,"javascript"],["type",/^text\/ecmascript-\d+$/,"javascript"]],style:[["lang",/^stylus$/i,"stylus"],["lang",/^sass$/i,"sass"],["lang",/^less$/i,"text/x-less"],["lang",/^scss$/i,"text/x-scss"],["type",/^(text\/)?(x-)?styl(us)?$/i,"stylus"],["type",/^text\/sass/i,"sass"],["type",/^(text\/)?(x-)?scss$/i,"text/x-scss"],["type",/^(text\/)?(x-)?less$/i,"text/x-less"]],template:[["lang",/^vue-template$/i,"vue"],["lang",/^pug$/i,"pug"],["lang",/^handlebars$/i,"handlebars"],["type",/^(text\/)?(x-)?pug$/i,"pug"],["type",/^text\/x-handlebars-template$/i,"handlebars"],[null,null,"vue-template"]]};e.defineMode("vue-template",function(t,n){var r={token:function(e){if(e.match(/^\{\{.*?\}\}/))return"meta mustache";for(;e.next()&&!e.match("{{",!1););return null}};return e.overlayMode(e.getMode(t,n.backdrop||"text/html"),r)}),e.defineMode("vue",function(n){return e.getMode(n,{name:"htmlmixed",tags:t})},"htmlmixed","xml","javascript","coffeescript","css","sass","stylus","pug","handlebars"),e.defineMIME("script/x-vue","vue"),e.defineMIME("text/x-vue","vue")}),function(e){"function"==typeof define&&define.amd?define(e):e()}(function(){"use strict";function e(e){return e>47&&e<58}function t(e,t,n){return n=n||90,(e&=-33)>=(t=t||65)&&e<=n}function n(t){return e(t)||r(t)}function r(e){return 95===e||t(e)}function i(e){return 32===e||9===e||160===e}function o(e){return i(e)||10===e||13===e}function a(e,t){t=Object.assign(Object.assign({},ou),t);const n=e.pos,r=e.peek();if(e.eat(s)){for(;!e.eof();)switch(e.next()){case r:return e.start=n,!0;case t.escape:e.next()}if(e.pos=n,t.throws)throw e.error("Unable to consume quoted string")}return!1}function s(e){return 39===e||34===e}function l(e,t,n,r){r=Object.assign(Object.assign({},ou),r);const i=e.pos;if(e.eat(t)){let o=1,s;for(;!e.eof();)if(!a(e,r))if((s=e.next())===t)o++;else if(s===n){if(!--o)return e.start=i,!0}else s===r.escape&&e.next();if(e.pos=i,r.throws)throw e.error(`Unable to find matching pair for ${String.fromCharCode(t)}`)}return!1}function u(e){return{tokens:e,start:0,pos:0,size:e.length}}function c(e){return e.tokens[e.pos]}function f(e){return e.tokens[e.pos++]}function d(e,t=e.start,n=e.pos){return e.tokens.slice(t,n)}function p(e){return e.pos<e.size}function h(e,t){const n=c(e);return!(!n||!t(n))&&(e.pos++,!0)}function m(e,t,n=c(e)){n&&null!=n.start&&(t+=` at ${n.start}`);const r=new Error(t);return r.pos=n&&n.start,r}function g(e,t={}){const n=u(e),r=v(n,t);if(p(n))throw m(n,"Unexpected character");return r}function v(e,t){const n={type:"TokenGroup",elements:[]};let r=n,i;const o=[];for(;p(e)&&(i=b(e,t)||y(e,t));)if(r.elements.push(i),h(e,U))o.push(r),r=i;else{if(h(e,V))continue;if(h(e,G))do{o.length&&(r=o.pop())}while(h(e,G))}return n}function y(e,t){if(h(e,B)){const n=v(e,t),r=f(e);return M(r,"group",!1)&&(n.repeat=C(e)),n}}function b(e,t){let n;const r={type:"TokenElement",name:void 0,attributes:void 0,value:void 0,repeat:void 0,selfClose:!1,elements:[]};for(_(e,t)&&(r.name=d(e));p(e);)if(e.start=e.pos,r.repeat||q(r)||!h(e,j))if(!r.value&&E(e))r.value=L(e);else{if(!(n=w(e,"id",t)||w(e,"class",t)||x(e))){!q(r)&&h(e,K)&&(r.selfClose=!0,!r.repeat&&h(e,j)&&(r.repeat=e.tokens[e.pos-1]));break}r.attributes?r.attributes=r.attributes.concat(n):r.attributes=Array.isArray(n)?n.slice():[n]}else r.repeat=e.tokens[e.pos-1];return q(r)?void 0:r}function x(e){if(h(e,$)){const t=[];let n;for(;p(e);)if(n=k(e))t.push(n);else{if(h(e,R))break;if(!h(e,P))throw m(e,`Unexpected "${c(e).type}" token`)}return t}}function w(e,t,n){if(A(c(e),t)){e.pos++;const r={name:[W(t)]};return n.jsx&&E(e)?(r.value=L(e),r.expression=!0):r.value=T(e)?d(e):void 0,r}}function k(e){return S(e)?{value:d(e)}:T(e,!0)?{name:d(e),value:h(e,O)&&(S(e)||T(e,!0))?d(e):void 0}:void 0}function C(e){return j(c(e))?e.tokens[e.pos++]:void 0}function S(e){const t=e.pos,n=c(e);if(N(n)){for(e.pos++;p(e);)if(N(f(e),n.single))return e.start=t,!0;throw m(e,"Unclosed quote",n)}return!1}function T(e,t){const n=e.pos,r={attribute:0,expression:0,group:0};for(;p(e);){const n=c(e);if(r.expression)M(n,"expression")&&(r[n.context]+=n.open?1:-1);else{if(N(n)||A(n)||P(n)||j(n))break;if(M(n)){if(!t)break;if(n.open)r[n.context]++;else{if(!r[n.context])break;r[n.context]--}}}e.pos++}return n!==e.pos&&(e.start=n,!0)}function _(e,t){const n=e.pos;if(t.jsx&&h(e,F))for(;p(e);){const{pos:t}=e;if(!h(e,I)||!h(e,F)){e.pos=t;break}}for(;p(e)&&h(e,z););return e.pos!==n&&(e.start=n,!0)}function E(e){const t=e.pos;if(h(e,H)){let n=0;for(;p(e);){const t=f(e);if(M(t,"expression"))if(t.open)n++;else{if(!n)break;n--}}return e.start=t,!0}return!1}function L(e){let t=e.start,n=e.pos;return M(e.tokens[t],"expression",!0)&&t++,M(e.tokens[n-1],"expression",!1)&&n--,d(e,t,n)}function M(e,t,n){return Boolean(e&&"Bracket"===e.type&&(!t||e.context===t)&&(null==n||e.open===n))}function A(e,t){return Boolean(e&&"Operator"===e.type&&(!t||e.operator===t))}function N(e,t){return Boolean(e&&"Quote"===e.type&&(null==t||e.single===t))}function P(e){return Boolean(e&&"WhiteSpace"===e.type)}function O(e){return A(e,"equal")}function j(e){return Boolean(e&&"Repeater"===e.type)}function D(e){return"Literal"===e.type}function F(e){if(D(e)){const t=e.value.charCodeAt(0);return t>=65&&t<=90}return!1}function z(e){return"Literal"===e.type||"RepeaterNumber"===e.type||"RepeaterPlaceholder"===e.type}function I(e){return A(e,"class")}function $(e){return M(e,"attribute",!0)}function R(e){return M(e,"attribute",!1)}function H(e){return M(e,"expression",!0)}function B(e){return M(e,"group",!0)}function W(e){return{type:"Literal",value:e}}function q(e){return!e.name&&!e.value&&!e.attributes}function U(e){return A(e,"child")}function V(e){return A(e,"sibling")}function G(e){return A(e,"climb")}function K(e){return A(e,"close")}function X(e){return!!e.eat(92)&&(e.start=e.pos,e.eof()||e.pos++,!0)}function Y(e){const t=new au(e),n=[],r={group:0,attribute:0,expression:0,quote:0};let i=0,o;for(;!t.eof();){if(i=t.peek(),!(o=J(t,r)))throw t.error("Unexpected character");n.push(o),"Quote"===o.type?r.quote=i===r.quote?0:i:"Bracket"===o.type&&(r[o.context]+=o.open?1:-1)}return n}function J(e,t){return ae(e,t)||ie(e)||oe(e)||re(e)||Q(e)||Z(e,t)||ne(e)||ee(e)||te(e)}function Z(e,t){const n=e.pos;let r="";for(;!e.eof();){if(X(e)){r+=e.current();continue}const n=e.peek();if(n===t.quote||36===n||le(n,t))break;if(t.expression&&125===n)break;if(!t.quote&&!t.expression){if(!t.attribute&&!he(n))break;if(ue(n,t)||ce(n,t)||s(n)||fe(n))break}r+=e.string[e.pos++]}if(n!==e.pos)return e.start=n,{type:"Literal",value:r,start:n,end:e.pos}}function Q(e){const t=e.pos;if(e.eatWhile(o))return{type:"WhiteSpace",start:t,end:e.pos,value:e.substring(t,e.pos)}}function ee(e){const t=e.peek();if(s(t))return{type:"Quote",single:39===t,start:e.pos++,end:e.pos}}function te(e){const t=e.peek(),n=fe(t);if(n)return{type:"Bracket",open:pe(t),context:n,start:e.pos++,end:e.pos}}function ne(e){const t=de(e.peek());if(t)return{type:"Operator",operator:t,start:e.pos++,end:e.pos}}function re(t){const n=t.pos;if(t.eat(42)){t.start=t.pos;let r=1,i=!1;return t.eatWhile(e)?r=Number(t.current()):i=!0,{type:"Repeater",count:r,value:0,implicit:i,start:n,end:t.pos}}}function ie(e){const t=e.pos;if(e.eat(36)&&e.eat(35))return{type:"RepeaterPlaceholder",value:void 0,start:t,end:e.pos};e.pos=t}function oe(t){const n=t.pos;if(t.eatWhile(36)){const r=t.pos-n;let i=!1,o=1,a=0;if(t.eat(64)){for(;t.eat(94);)a++;i=t.eat(45),t.start=t.pos,t.eatWhile(e)&&(o=Number(t.current()))}return t.start=n,{type:"RepeaterNumber",size:r,reverse:i,base:o,parent:a,start:n,end:t.pos}}}function ae(n,r){const i=n.pos;if((r.expression||r.attribute)&&n.eat(36)&&n.eat(123)){let r;n.start=n.pos;let o="";if(n.eatWhile(e)?(r=Number(n.current()),o=n.eat(58)?se(n):""):t(n.peek())&&(o=se(n)),n.eat(125))return{type:"Field",index:r,name:o,start:i,end:n.pos};throw n.error("Expecting }")}n.pos=i}function se(e){const t=[];for(e.start=e.pos;!e.eof();)if(e.eat(123))t.push(e.pos);else if(e.eat(125)){if(!t.length){e.pos--;break}t.pop()}else e.pos++;if(t.length)throw e.pos=t.pop(),e.error("Expecting }");return e.current()}function le(e,t){const n=de(e);return!(!n||t.quote||t.expression)&&(!t.attribute||"equal"===n)}function ue(e,t){return o(e)&&!t.expression}function ce(e,t){return 42===e&&!t.attribute&&!t.expression}function fe(e){return 40===e||41===e?"group":91===e||93===e?"attribute":123===e||125===e?"expression":void 0}function de(e){return(62===e?"child":43===e&&"sibling")||94===e&&"climb"||46===e&&"class"||35===e&&"id"||47===e&&"close"||61===e&&"equal"||void 0}function pe(e){return 123===e||91===e||40===e}function he(e){return n(e)||45===e||58===e||33===e}function me(e,t){if(!uu[e.type])throw new Error(`Unknown token ${e.type}`);return uu[e.type](e,t)}function ge(e,t={}){let n=!1,r;t.text&&(r=Array.isArray(t.text)?t.text.filter(e=>e.trim()):t.text);const i={type:"Abbreviation",children:be(e,{inserted:!1,repeaters:[],text:t.text,cleanText:r,repeatGuard:t.maxRepeat||Number.POSITIVE_INFINITY,getText(e){var i;let o;if(n=!0,Array.isArray(t.text)){if(e!==undefined&&e>=0&&e<r.length)return r[e];o=e!==undefined?t.text[e]:t.text.join("\n")}else o=null!==(i=t.text)&&void 0!==i?i:"";return o},getVariable(e){const n=t.variables&&t.variables[e];return null!=n?n:e}})};if(null!=t.text&&!n){const e=_e(Te(i.children));if(e){const n=Array.isArray(t.text)?t.text.join("\n"):t.text;Ee(e,n),"a"===e.name&&t.href&&Le(e,n)}}return i}function ve(e,t){let n=[];if(e.repeat){const r=e.repeat,i=Object.assign({},r);let o;i.count=i.implicit&&Array.isArray(t.text)?t.cleanText.length:i.count||1,t.repeaters.push(i);for(let r=0;r<i.count;r++){if(i.value=r,e.repeat=i,o=Ce(e)?be(e,t):ye(e,t),i.implicit&&!t.inserted){const e=Te(o),n=e&&_e(e);n&&Ee(n,t.getText(i.value))}if(n=n.concat(o),--t.repeatGuard<=0)break}t.repeaters.pop(),e.repeat=r,i.implicit&&(t.inserted=!0)}else n=n.concat(Ce(e)?be(e,t):ye(e,t));return n}function ye(e,t){let n=[];const r={type:"AbbreviationNode",name:e.name&&we(e.name,t),value:e.value&&ke(e.value,t),attributes:void 0,children:n,repeat:e.repeat&&Object.assign({},e.repeat),selfClosing:e.selfClose};let i=[r];for(const r of e.elements)n=n.concat(ve(r,t));if(e.attributes){r.attributes=[];for(const n of e.attributes)r.attributes.push(xe(n,t))}return r.name||r.attributes||!r.value||r.value.some(Se)?r.children=n:i=i.concat(n),i}function be(e,t){let n=[];for(const r of e.elements)n=n.concat(ve(r,t));return e.repeat&&(n=Me(n,e.repeat)),n}function xe(e,t){let n=!1,r=!1,i=e.expression?"expression":"raw",o;const a=e.name&&we(e.name,t);if(a&&"!"===a[0]&&(n=!0),a&&"."===a[a.length-1]&&(r=!0),e.value){const n=e.value.slice();if(N(n[0])){const e=n.shift();n.length&&Te(n).type===e.type&&n.pop(),i=e.single?"singleQuote":"doubleQuote"}else M(n[0],"expression",!0)&&(i="expression",n.shift(),M(Te(n),"expression",!1)&&n.pop());o=ke(n,t)}return{name:r||n?a.slice(n?1:0,r?-1:void 0):a,value:o,boolean:r,implied:n,valueType:i}}function we(e,t){let n="";for(let r=0;r<e.length;r++)n+=me(e[r],t);return n}function ke(e,t){const n=[];let r="";for(let i=0,o;i<e.length;i++)Se(o=e[i])?(r&&(n.push(r),r=""),n.push(o)):r+=me(o,t);return r&&n.push(r),n}function Ce(e){return"TokenGroup"===e.type}function Se(e){return"object"==typeof e&&"Field"===e.type&&null!=e.index}function Te(e){return e[e.length-1]}function _e(e){return e.children.length?_e(Te(e.children)):e}function Ee(e,t){if(e.value){const n=Te(e.value);"string"==typeof n?e.value[e.value.length-1]+=t:e.value.push(t)}else e.value=[t]}function Le(e,t){var n;let r="";cu.test(t)?(r=t,/\w+:/.test(r)||r.startsWith("//")||(r=`http://${r}`)):fu.test(t)&&(r=`mailto:${t}`);const i=null===(n=e.attributes)||void 0===n?void 0:n.find(e=>"href"===e.name);i?i.value||(i.value=[r]):e.attributes=[{name:"href",value:[r],valueType:"doubleQuote"}]}function Me(e,t){for(const n of e)n.repeat||(n.repeat=Object.assign({},t));return e}function Ae(e,t){try{const r="string"==typeof e?Y(e):e;return ge(g(r,t),t)}catch(n){throw n instanceof su&&"string"==typeof e&&(n.message+=`\n${e}\n${"-".repeat(n.pos)}^`),n}}function Ne(e,t){let n=0,r;const i=new au(e),o=[];for(;!i.eof();){if(!(r=Pe(i,0===n&&!t)))throw i.error("Unexpected character");if("Bracket"===r.type&&(!n&&r.open&&Qe(i,o),(n+=r.open?1:-1)<0))throw i.error("Unexpected bracket",r.start);o.push(r),Ze(r)&&(r=We(i))&&o.push(r)}return o}function Pe(e,t){return Oe(e)||ze(e)||$e(e)||Ie(e)||Be(e)||We(e)||He(e)||De(e,t)}function Oe(n){const r=n.pos;if(n.eat(36)&&n.eat(123)){let i;n.start=n.pos;let o="";if(n.eatWhile(e)?(i=Number(n.current()),o=n.eat(58)?je(n):""):t(n.peek())&&(o=je(n)),n.eat(125))return{type:"Field",index:i,name:o,start:r,end:n.pos};throw n.error("Expecting }")}n.pos=r}function je(e){const t=[];for(e.start=e.pos;!e.eof();)if(e.eat(123))t.push(e.pos);else if(e.eat(125)){if(!t.length){e.pos--;break}t.pop()}else e.pos++;if(t.length)throw e.pos=t.pop(),e.error("Expecting }");return e.current()}function De(e,t){const n=e.pos;if(e.eat(Ue)?e.eatWhile(n?Ke:Ye):e.eat(r)?e.eatWhile(t?Ye:Ke):(e.eat(46),e.eatWhile(Ye)),n!==e.pos)return e.start=n,Fe(e,e.start=n)}function Fe(e,t=e.start,n=e.pos){return{type:"Literal",value:e.substring(t,n),start:t,end:n}}function ze(e){const t=e.pos;if(qe(e)){e.start=t;const n=e.current();return e.start=e.pos,e.eat(37)||e.eatWhile(r),{type:"NumberValue",value:Number(n),rawValue:n,unit:e.current(),start:t,end:e.pos}}}function Ie(e){const t=e.peek(),n=e.pos;let r=!1;if(s(t)){for(e.pos++;!e.eof();){if(e.eat(t)){r=!0;break}e.pos++}return e.start=n,{type:"StringValue",value:e.substring(n+1,e.pos-(r?1:0)),quote:39===t?"single":"double",start:n,end:e.pos}}}function $e(e){const t=e.pos;if(e.eat(35)){const n=e.pos;let r="",i="";if(e.eatWhile(Ge)?(r=e.substring(n,e.pos),i=Re(e)):e.eat(116)?(r="0",i=Re(e)||"0"):i=Re(e),r||i||e.eof()){const{r:n,g:o,b:a,a:s}=Je(r,i);return{type:"ColorValue",r:n,g:o,b:a,a:s,raw:e.substring(t+1,e.pos),start:t,end:e.pos}}return Fe(e,t)}e.pos=t}function Re(t){const n=t.pos;return t.eat(46)?(t.start=n,t.eatWhile(e)?t.current():"1"):""}function He(e){const t=e.pos;if(e.eatWhile(o))return{type:"WhiteSpace",start:t,end:e.pos}}function Be(e){const t=e.peek();if(Xe(t))return{type:"Bracket",open:40===t,start:e.pos++,end:e.pos}}function We(e){const t=Ve(e.peek());if(t)return{type:"Operator",operator:t,start:e.pos++,end:e.pos}}function qe(t){const n=t.pos;t.eat(45);const r=t.pos,i=t.eatWhile(e),o=t.pos;if(t.eat(46)){const n=t.eatWhile(e);i||n||(t.pos=o)}return t.pos===r&&(t.pos=n),t.pos!==n}function Ue(e){return 64===e||36===e}function Ve(e){return(43===e?"+":33===e&&"!")||44===e&&","||58===e&&":"||45===e&&"-"||void 0}function Ge(n){return e(n)||t(n,65,70)}function Ke(e){return n(e)||45===e}function Xe(e){return 40===e||41===e}function Ye(e){return r(e)||37===e||47===e}function Je(e,t){let n="0",r="0",i="0",o=Number(null!=t&&""!==t?t:1);if("t"===e)o=0;else switch(e.length){case 0:break;case 1:n=r=i=e+e;break;case 2:n=r=i=e;break;case 3:n=e[0]+e[0],r=e[1]+e[1],i=e[2]+e[2];break;default:n=(e+=e).slice(0,2),r=e.slice(2,4),i=e.slice(4,6)}return{r:parseInt(n,16),g:parseInt(r,16),b:parseInt(i,16),a:o}}function Ze(e){return"ColorValue"===e.type||"NumberValue"===e.type&&!e.unit}function Qe(e,t){let n=0,r=0;for(;t.length;){const e=et(t);if("Literal"!==e.type&&"NumberValue"!==e.type)break;n=e.start,r||(r=e.end),t.pop()}n!==r&&t.push(Fe(e,n,r))}function et(e){return e[e.length-1]}function tt(e){return{tokens:e,start:0,pos:0,size:e.length}}function nt(e){return e.tokens[e.pos]}function rt(e){return e.pos<e.size}function it(e,t){return!!t(nt(e))&&(e.pos++,!0)}function ot(e,t,n=nt(e)){n&&null!=n.start&&(t+=` at ${n.start}`);const r=new Error(t);return r.pos=n&&n.start,r}function at(e,t={}){const n=tt(e),r=[];let i;for(;rt(n);)if(i=st(n,t))r.push(i);else if(!it(n,gt))throw ot(n,"Unexpected token");return r}function st(e,t){let n,r=!1,i;const o=[],a=nt(e),s=!!t.value;for(s||!ct(a)||kt(e)||(e.pos++,n=a.value,it(e,wt)),s&&it(e,ht);rt(e);)if(it(e,bt))r=!0;else if(i=lt(e,s))o.push(i);else if(!it(e,yt))break;if(n||o.length||r)return{name:n,value:o,important:r}}function lt(e,t){const n=[];let r,i;for(;rt(e);)if(xt(r=nt(e)))e.pos++,ct(r)&&(i=ut(e))?n.push({type:"FunctionCall",name:r.value,arguments:i}):n.push(r);else{if(!(wt(r)||t&&ht(r)))break;e.pos++}return n.length?{type:"CSSValue",value:n}:void 0}function ut(e){const t=e.pos;if(it(e,dt)){const n=[];let r;for(;rt(e)&&!it(e,pt);)if(r=lt(e,!0))n.push(r);else if(!it(e,ht)&&!it(e,vt))throw ot(e,"Unexpected token");return e.start=t,n}}function ct(e){return e&&"Literal"===e.type}function ft(e,t){return e&&"Bracket"===e.type&&(null==t||e.open===t)}function dt(e){return ft(e,!0)}function pt(e){return ft(e,!1)}function ht(e){return e&&"WhiteSpace"===e.type}function mt(e,t){return e&&"Operator"===e.type&&(!t||e.operator===t)}function gt(e){return mt(e,"+")}function vt(e){return mt(e,",")}function yt(e){return vt(e)}function bt(e){return mt(e,"!")}function xt(e){return"StringValue"===e.type||"ColorValue"===e.type||"NumberValue"===e.type||"Literal"===e.type||"Field"===e.type}function wt(e){return mt(e,":")||mt(e,"-")}function kt(e){const t=e.tokens[e.pos],n=e.tokens[e.pos+1];return t&&n&&ct(t)&&"Bracket"===n.type}function Ct(e,t){try{const r="string"==typeof e?Ne(e,t&&t.value):e;return at(r,t)}catch(n){throw n instanceof su&&"string"==typeof e&&(n.message+=`\n${e}\n${"-".repeat(n.pos)}^`),n}}function St(e,t){return t||(t=e.getOption("emmet")),Object.assign(Object.assign({},du),t)}function Tt(e={}){return Object.assign(Object.assign({},pu),e)}function _t(e){return e.split("").map(e=>e.charCodeAt(0))}function Et(e,t){const n=e.pos;for(let r=0;r<t.length;r++)if(!e.eat(t[r]))return e.pos=n,!1;return e.start=n,!0}function Lt(e,t,n,r){const i=e.pos;if(Et(e,t)){for(;!e.eof();){if(Et(e,n))return e.start=i,!0;e.pos++}return r?(e.start=i,!0):(e.pos=i,!1)}return e.pos=i,!1}function Mt(e){return t(e)||58===e||95===e||e>=192&&e<=214||e>=216&&e<=246||e>=248&&e<=767||e>=880&&e<=893||e>=895&&e<=8191}function At(t){return Mt(t)||45===t||46===t||e(t)||183===t||t>=768&&t<=879}function Nt(e){const t=e.pos;return!!e.eat(Mt)&&(e.eatWhile(At),e.start=t,!0)}function Pt(e){return 62===e||47===e}function Ot(e){return!(isNaN(e)||s(e)||o(e)||Pt(e))}function jt(e){return l(e,60,62,hu)||l(e,40,41,hu)||l(e,91,93,hu)||l(e,123,125,hu)}function Dt(e){return s(e.charCodeAt(0))&&(e=e.slice(1)),s(e.charCodeAt(e.length-1))&&(e=e.slice(0,-1)),e}function Ft(e,t){const n=[];let r=0,i=e.length;t&&(r=t.length+1,i-="/>"===e.slice(-2)?2:1);const a=new au(e,r,i);for(;!a.eof();)if(a.eatWhile(o),zt(a)){const e={name:a.current(),nameStart:a.start,nameEnd:a.pos};a.eat(61)&&It(a)&&(e.value=a.current(),e.valueStart=a.start,e.valueEnd=a.pos),n.push(e)}else a.pos++;return n}function zt(e){const t=e.pos;return e.eat(42)||e.eat(35)?(Nt(e),e.start=t,!0):jt(e)||Nt(e)}function It(e){return a(e,hu)||jt(e)||Rt(e)}function $t(e,t){for(let n=0;n<e.length;n++){const r=e[n];if(r.name===t)return r.value&&Dt(r.value)}}function Rt(e){const t=e.pos;if(e.eatWhile(Ot))return e.start=t,!0}function Ht(e,t,n){const r=new au(e),i=n?n.special:null,a=!!n&&n.allTokens;let s,l,u,c,f,d=!1,p=null;for(;!r.eof();){const n=r.pos;if(qt(r)){if(a&&!1===t("#cdata",4,r.start,r.pos))break}else if(Ut(r)){if(a&&!1===t("#comment",6,r.start,r.pos))break}else if(Gt(r)){if(a&&!1===t("#erb",7,r.start,r.pos))break}else if(p=Vt(r)){if(a&&!1===t(p,5,r.start,r.pos))break}else if(r.eat(60)){if(s=r.eat(47)?2:1,u=r.pos,Nt(r)&&(c=r.pos,2!==s&&(Bt(r),r.eatWhile(o),r.eat(47)&&(s=3)),r.eat(62))){if(!1===t(l=r.substring(u,c),s,n,r.pos))break;if(1===s&&i&&Kt(i,l,e,n,r.pos)){for(f=_t(l),d=!1;!r.eof();){if(Wt(r,f)){d=!0;break}r.pos++}if(d&&!1===t(l,2,r.start,r.pos))break}}}else r.pos++}}function Bt(e){for(;!e.eof();)if(e.eatWhile(o),zt(e))e.eat(61)&&It(e);else{if(Pt(e.peek()))break;e.pos++}}function Wt(e,t){const n=e.pos;return e.eat(60)&&e.eat(47)&&Et(e,t)&&e.eat(62)?(e.start=n,!0):(e.pos=n,!1)}function qt(e){return Lt(e,mu,gu,!0)}function Ut(e){return Lt(e,vu,yu,!0)}function Vt(e){const t=e.pos;if(Et(e,bu)&&Nt(e)){const n=e.current();for(;!e.eof()&&!Et(e,xu);)a(e)||e.pos++;return e.start=t,n}return e.pos=t,null}function Gt(e){const t=e.pos;if(Et(e,wu)){for(;!e.eof()&&!Et(e,ku);)a(e)||e.pos++;return e.start=t,!0}return e.pos=t,!1}function Kt(e,t,n,r,i){if(t in e){const o=e[t];if(!Array.isArray(o))return!0;const a=Ft(n.substring(r+t.length+1,i-1));return o.includes($t(a,"type")||"")}return!1}function Xt(e,t,n){const r=[],i=[],o=Tt(n);let a=null;return Ht(e,(n,s,l,u)=>{if(1===s&&tn(n,o)&&(s=3),1===s)i.push(Zt(r,n,l,u));else if(3===s){if(l<t&&t<u)return a={name:n,attributes:en(e,l,u,n),open:[l,u]},!1}else{const o=nn(i);if(o&&o.name===n){if(o.start<t&&t<u)return a={name:n,attributes:en(e,o.start,o.end,n),open:[o.start,o.end],close:[l,u]},!1;i.length&&Qt(r,i.pop())}}},o),i.length=r.length=0,a}function Yt(e,t,n){const r=[],i=[],o=Tt(n),a=[];return Ht(e,(e,n,s,l)=>{if(2===n){const n=nn(i);n&&n.name===e&&(n.start<t&&t<l&&a.push({name:e,open:[n.start,n.end],close:[s,l]}),Qt(r,i.pop()))}else 3===n||tn(e,o)?s<t&&t<l&&a.push({name:e,open:[s,l]}):i.push(Zt(r,e,s,l))},o),i.length=r.length=0,a}function Jt(e,t,n){const r=[],i=[],o=Tt(n),a=[],s=(e,t,n)=>{if(r.length){const i=r.pop();return i.name=e,i.ranges.push(t,n),i}return{name:e,ranges:[t,n]}},l=e=>{e.ranges.length=0,e.firstChild=void 0,r.push(e)};return Ht(e,(e,n,r,u)=>{if(2===n){if(!i.length)return;let n=nn(i);if(n.name===e){if(n.ranges[0]<=t&&t<=u){for(a.push({name:e,open:n.ranges.slice(0,2),close:[r,u]});n.firstChild;){const e=n.firstChild,t={name:e.name,open:e.ranges.slice(0,2)};e.ranges.length>2&&(t.close=e.ranges.slice(2,4)),a.push(t),l(n),n=e}return!1}{i.pop();const e=nn(i);e&&!e.firstChild?(n.ranges.push(r,u),e.firstChild=n):l(n)}}}else if(3===n||tn(e,o)){if(r<t&&t<u)return a.push({name:e,open:[r,u]}),!1;const n=nn(i);n&&!n.firstChild&&(n.firstChild=s(e,r,u))}else i.push(s(e,r,u))},o),i.length=r.length=0,a}function Zt(e,t,n,r){if(e.length){const i=e.pop();return i.name=t,i.start=n,i.end=r,i}return{name:t,start:n,end:r}}function Qt(e,t){e.push(t)}function en(e,t,n,r){const i=Ft(e.slice(t,n),r);return i.forEach(e=>{e.nameStart+=t,e.nameEnd+=t,null!=e.value&&(e.valueStart+=t,e.valueEnd+=t)}),i}function tn(e,t){return!t.xml&&t.empty.includes(e)}function nn(e){return e.length?e[e.length-1]:null}function rn(e,t){const n=new au(e),r={start:-1,end:-1,propertyStart:-1,propertyEnd:-1,propertyDelimiter:-1,expression:0};let i;const o=(e,i=n.start,o=r.start,a=r.end)=>!1===t(e,o,a,i);for(;!n.eof();)if(!an(n)&&!on(n))if(n.start=n.pos,(i=n.eat(125))||n.eat(59)){if(-1!==r.propertyStart){if(o("propertyName",r.propertyDelimiter,r.propertyStart,r.propertyEnd))return;if(-1===r.start&&(r.start=r.end=n.start),o("propertyValue"))return}else if(-1!==r.start&&o("propertyName"))return;if(i&&(r.start=n.start,r.end=n.pos,o("blockEnd")))return;ln(r)}else if(n.eat(123)){if(-1===r.start&&-1===r.propertyStart&&(r.start=r.end=n.pos),-1!==r.propertyStart&&(r.start=r.propertyStart),o("selector"))return;ln(r)}else n.eat(58)&&!un(n,r)?(-1===r.propertyStart&&(r.propertyStart=r.start),r.propertyEnd=r.end,r.propertyDelimiter=n.pos-1,r.start=r.end=-1):(-1===r.start&&(r.start=n.pos),n.eat(40)?r.expression++:n.eat(41)?r.expression--:sn(n)||n.pos++,r.end=n.pos);-1!==r.propertyStart&&o("propertyName",r.propertyDelimiter,r.propertyStart,r.propertyEnd)||-1!==r.start&&o(-1!==r.propertyStart?"propertyValue":"propertyName",-1)}function on(e){return e.eatWhile(o)}function an(e){const t=e.pos;if(e.eat(47)&&e.eat(42)){for(e.start=t;!e.eof();)if(e.eat(42)){if(e.eat(47))return!0}else e.pos++;return!0}return e.pos=t,!1}function sn(e){const t=e.peek();if(s(t)){for(e.start=e.pos++;!e.eof()&&!(e.eat(t)||e.eat(10)||e.eat(13));)e.eat(92),e.pos++;return!0}}function ln(e){e.start=e.end=e.propertyStart=e.propertyEnd=e.propertyDelimiter=-1}function un(e,t){return t.expression||e.eatWhile(58)}function cn(e,t=0){let n=-1,r=0,i=0;const a=[],s=new au(e);for(;!s.eof();)i=s.pos,s.eat(o)||s.eat(fn)||dn(s)?(r||-1===n||(a.push([t+n,t+i]),n=-1),s.eatWhile(o)):(-1===n&&(n=s.pos),s.eat(40)?r++:s.eat(41)?r--:sn(s)||s.pos++);return-1!==n&&n!==s.pos&&a.push([t+n,t+s.pos]),a}function fn(e){return Cu.includes(e)}function dn(e){const t=e.pos;return!(!e.eat(45)||!e.eat(o))||(e.pos=t,!1)}function pn(e,t){const n=[],r=[];let i=null,o=null;const a=()=>{o&&(yn(n,o),o=null)};return rn(e,(e,s,l,u)=>{if("selector"===e)a(),r.push(vn(n,s,l,u));else if("blockEnd"===e){a();const e=r.pop();if(e&&e[0]<t&&t<l)return i={type:"selector",start:e[0],end:l,bodyStart:e[2]+1,bodyEnd:s},!1}else if("propertyName"===e)a(),o=vn(n,s,l,u);else if("propertyValue"===e){if(o&&o[0]<t&&t<l)return i={type:"property",start:o[0],end:u+1,bodyStart:s,bodyEnd:l},!1;a()}}),i}function hn(e,t){const n=[],r=[],i=[];let o=null;return rn(e,(a,s,l,u)=>{if("selector"===a)r.push(vn(n,s,l,u));else if("blockEnd"===a){const o=r.pop();if(o&&o[0]<t&&l>t){const t=gn(e,o[2]+1,s);t&&bn(i,t),bn(i,[o[0],l])}if(o&&yn(n,o),!r.length)return!1}else"propertyName"===a?(o&&yn(n,o),o=vn(n,s,l,u)):"propertyValue"===a&&o&&o[0]<t&&Math.max(u,l)>t&&(bn(i,[s,l]),bn(i,[o[0],-1!==u?u+1:l]));"propertyName"!==a&&o&&(yn(n,o),o=null)}),i}function mn(e,t){const n=[],r=[],i=[];let o=null;const a=(e,t,r)=>{if(n.length){const i=n.pop();return i.start=e,i.end=t,i.delimiter=r,i}return{start:e,end:t,delimiter:r,firstChild:null}},s=e=>{e.firstChild=null,n.push(e)},l=()=>{o&&(s(o),o=null)},u=(e,t,n)=>{const i=xn(r);i&&!i.firstChild&&(i.firstChild=a(e,t,n))};return rn(e,(n,c,f,d)=>{if("blockEnd"===n){l();let n=r.pop();if(!n)return;if(n.start<=t&&t<=f){let t=gn(e,n.delimiter+1,c);for(bn(i,[n.start,f]),t&&bn(i,t);n.firstChild;){const r=n.firstChild;t=gn(e,r.delimiter+1,r.end-1),bn(i,[r.start,r.end]),t&&bn(i,t),n=r}return!1}{const e=xn(r);e&&!e.firstChild?(n.end=f,e.firstChild=n):s(n)}}else if("propertyName"===n)l(),o=a(c,f,d),u(c,f,d);else if("propertyValue"===n){if(o){if(o.start<=t&&f>=t)return bn(i,[o.start,d+1]),bn(i,[c,f]),l(),!1;const e=xn(r);e&&e.firstChild&&e.firstChild.start===o.start&&(e.firstChild.end=-1!==d?d+1:f),l()}}else r.push(a(c,f,d)),l()}),r.length=n.length=0,i}function gn(e,t,n){for(;t<n&&o(e.charCodeAt(t));)t++;for(;n>t&&o(e.charCodeAt(n-1));)n--;return t!==n?[t,n]:null}function vn(e,t,n,r){if(e.length){const i=e.pop();return i[0]=t,i[1]=n,i[2]=r,i}return[t,n,r]}function yn(e,t){return t&&e.push(t),null}function bn(e,t){const n=e.length?e[e.length-1]:null;n&&n[0]===t[0]&&n[1]===t[1]||t[0]===t[1]||e.push(t)}function xn(e){return e.length?e[e.length-1]:null}function wn(e,t){if(!e.attributes)return;const n=[],r={};for(const i of e.attributes)if(i.name){const e=i.name;if(e in r){const n=r[e];"class"===e?n.value=kn(n.value,i.value," "):Cn(n,i,t)}else n.push(r[e]=Object.assign({},i))}else n.push(i);e.attributes=n}function kn(e,t,n){if(e&&t){e.length&&n&&Sn(e,n);for(const n of t)Sn(e,n);return e}const r=e||t;return r&&r.slice()}function Cn(e,t,n){return e.name=t.name,n.options["output.reverseAttributes"]||(e.value=t.value),e.implied||(e.implied=t.implied),e.boolean||(e.boolean=t.boolean),"expression"!==e.valueType&&(e.valueType=t.valueType),e}function Sn(e,t){const n=e.length-1;"string"==typeof e[n]&&"string"==typeof t?e[n]+=t:e.push(t)}function Tn(e,t,n){const r=[e],i=e=>{t(e,r,n),r.push(e),e.children.forEach(i),r.pop()};e.children.forEach(i)}function _n(e){let t;for(;e.children.length;)t=e,e=e.children[e.children.length-1];return{parent:t,node:e}}function En(e){return"AbbreviationNode"===e.type}function Ln(e,t){const n=[],r=t.options["output.reverseAttributes"],i=e=>{const o=e.name&&t.snippets[e.name];if(!o||n.includes(o))return null;const a=Ae(o,t);n.push(o),Mn(a,i),n.pop();for(const t of a.children){if(e.attributes){const n=t.attributes||[],i=e.attributes||[];t.attributes=r?i.concat(n):n.concat(i)}An(e,t)}return a};return Mn(e,i),e}function Mn(e,t,n){let r=[];for(const n of e.children){const e=t(n);if(e){r=r.concat(e.children);const i=_n(e);En(i.node)&&(i.node.children=i.node.children.concat(Mn(n,t)))}else r.push(n),n.children=Mn(n,t)}return e.children=r}function An(e,t){e.selfClosing&&(t.selfClosing=!0),null!=e.value&&(t.value=e.value),e.repeat&&(t.repeat=e.repeat)}function Nn(e,t=0){return{options:e,value:"",level:t,offset:0,line:0,column:0}}function Pn(e,t){const n=e.options["output.text"];qn(e,n(t,e.offset,e.line,e.column))}function On(e,t){const n=Wn(t);for(let t=0,r=n.length-1;t<=r;t++)Pn(e,n[t]),t!==r&&jn(e,!0)}function jn(e,t){const n=e.options["output.baseIndent"],r=e.options["output.newline"];Pn(e,r+n),e.line++,e.column=n.length,t&&Dn(e,!0===t?e.level:t)}function Dn(e,t=e.level){const n=e.options["output.indent"];Pn(e,n.repeat(Math.max(t,0)))}function Fn(e,t,n){const r=e.options["output.field"];qn(e,r(t,n,e.offset,e.line,e.column))}function zn(e,t){return Un(e,t.options["output.tagCase"])}function In(e,t){return Un(e,t.options["output.attributeCase"])}function $n(e,t,n){return"expression"===e.valueType?n?"{":"}":"single"===t.options["output.attributeQuotes"]?"'":'"'}function Rn(e,t){return e.boolean||t.options["output.booleanAttributes"].includes((e.name||"").toLowerCase())}function Hn(e){switch(e.options["output.selfClosingStyle"]){case"xhtml":return" /";case"xml":return"/";default:return""}}function Bn(e,t){return"string"==typeof e?t.options.inlineElements.includes(e.toLowerCase()):e.name?Bn(e.name,t):Boolean(e.value&&!e.attributes)}function Wn(e){return e.split(/\r\n|\r|\n/g)}function qn(e,t){e.value+=t,e.offset+=t.length,e.column+=t.length}function Un(e,t){return t?"upper"===t?e.toUpperCase():e.toLowerCase():e}function Vn(e,t,n){!e.name&&e.attributes&&Gn(e,t,n)}function Gn(e,t,n){const r=Xn(t),i=n.context?n.context.name:"",o=Kn(r?r.name:i);e.name=Su[o]||(Bn(o,n)?"span":"div")}function Kn(e){return(e||"").toLowerCase()}function Xn(e){for(let t=e.length-1;t>=0;t--){const n=e[t];if(En(n))return n}}function Yn(e,t,n){let r;if(e.name&&(r=e.name.match(Mu))){const i=Lu[r[1]]||Lu.latin,o=r[2]?Math.max(1,Number(r[2])):30,a=r[3]?Math.max(o,Number(r[3].slice(1))):o,s=Jn(o,a),l=e.repeat||ir(t);e.name=e.attributes=void 0,e.value=[rr(i,s,!l||0===l.value)],e.repeat&&t.length>1&&Gn(e,t,n)}}function Jn(e,t){return Math.floor(Math.random()*(t-e)+e)}function Zn(e,t){const n=e.length,r=Math.min(n,t),i=[];for(;i.length<r;){const t=e[Jn(0,n)];i.includes(t)||i.push(t)}return i}function Qn(e){return e[Jn(0,e.length-1)]}function er(e,t){return e.length&&(e=[tr(e[0])].concat(e.slice(1))),e.join(" ")+(t||Qn("?!..."))}function tr(e){return e[0].toUpperCase()+e.slice(1)}function nr(e){if(e.length<2)return e;const t=(e=e.slice()).length,n=/,$/;let r=0;r=t>3&&t<=6?Jn(0,1):t>6&&t<=12?Jn(0,2):Jn(1,4);for(let i=0,o;i<r;i++)o=Jn(0,t-2),n.test(e[o])||(e[o]+=",");return e}function rr(e,t,n){const r=[];let i=0,o;for(n&&e.common&&(i+=(o=e.common.slice(0,t)).length,r.push(er(nr(o),".")));i<t;)i+=(o=Zn(e.words,Math.min(Jn(2,30),t-i))).length,r.push(er(nr(o)));return r.join(" ")}function ir(e){for(let t=e.length-1;t>=0;t--){const n=e[t];if("AbbreviationNode"===n.type&&n.repeat)return n.repeat}}function or(e){e.attributes&&e.attributes.forEach(ar)}function ar(e){"class"===e.name?e.name="className":"for"===e.name&&(e.name="htmlFor")}function sr(e){ur(e.name)&&e.attributes&&(e.children.length||e.value)&&(e.attributes=e.attributes.filter(lr))}function lr(e){return"select"!==e.name}function ur(e){return"xsl:variable"===e||"xsl:with-param"===e}function cr(e,t,n){fr(e),dr(e,t,n)}function fr(e){const t=pr(e),n=[];for(const e of t.classNames){const t=e.indexOf("_");t>0&&!e.startsWith("-")?(n.push(e.slice(0,t)),n.push(e.slice(t))):n.push(e)}n.length&&(t.classNames=n.filter(wr),t.block=vr(t.classNames),br(e,t.classNames.join(" ")))}function dr(e,t,n){const r=pr(e),i=[],{options:o}=n,a=t.slice(1).concat(e);for(let e of r.classNames){let t="",r;const s=e;(r=e.match(Au))&&(t=gr(a,r[1].length,n.context)+o["bem.element"]+r[2],i.push(t),e=e.slice(r[0].length)),(r=e.match(Nu))&&(t||(t=gr(a,r[1].length),i.push(t)),i.push(`${t}${o["bem.modifier"]}${r[2]}`),e=e.slice(r[0].length)),e===s&&i.push(s)}const s=i.filter(wr);s.length&&br(e,s.join(" "))}function pr(e){if(!e._bem){let t="";if(e.attributes)for(const n of e.attributes)if("class"===n.name&&n.value){t=xr(n.value);break}e._bem=mr(t)}return e._bem}function hr(e){return e._bem||(e._bem=mr(e.attributes&&e.attributes["class"]||"")),e._bem}function mr(e){const t=e?e.split(/\s+/):[];return{classNames:t,block:vr(t)}}function gr(e,t=0,n){const r=0;let i=Math.max(e.length-t,r);do{const t=e[i];if(t){const e=pr(t);if(e.block)return e.block}}while(r<i--);if(n){const e=hr(n);if(e.block)return e.block}return""}function vr(e){return yr(e,Pu)||yr(e,Ou)||void 0}function yr(e,t){for(const n of e){if(Au.test(n)||Nu.test(n))break;if(t(n))return n}}function br(e,t){for(const n of e.attributes)if("class"===n.name){n.value=[t];break}}function xr(e){let t="";for(const n of e)t+="string"==typeof n?n:n.name;return t}function wr(e,t,n){return!!e&&n.indexOf(e)===t}function kr(e,t,n){const r=(e,r,o)=>{const{parent:a,current:s}=n;n.parent=s,n.current=e,t(e,r,o,n,i),n.current=s,n.parent=a},i=(e,t,i)=>{n.ancestors.push(n.current),r(e,t,i),n.ancestors.pop()};e.children.forEach(r)}function Cr(e){return{current:null,parent:void 0,ancestors:[],config:e,field:1,out:Nn(e.options)}}function Sr(e){return!!e&&(!e.name&&!e.attributes)}function Tr(e,t){return!!e&&Bn(e,t)}function _r(e){return"object"==typeof e&&"Field"===e.type}function Er(e,t){const{out:n}=t;let r=-1;for(const i of e)"string"==typeof i?On(n,i):(Fn(n,t.field+i.index,i.name),i.index>r&&(r=i.index));-1!==r&&(t.field+=r+1)}function Lr(e){const t=[];let n=[];for(const r of e)if("string"==typeof r){const e=r.split(/\r\n?|\n/g);for(n.push(e.shift()||"");e.length;)t.push(n),n=[e.shift()||""]}else n.push(r);return n.length&&t.push(n),t}function Mr(e){return!e.implied||"raw"!==e.valueType||!!e.value&&e.value.length>0}function Ar(e){const t=[],n={pos:0,text:e};let r,i=n.pos,o=n.pos;for(;n.pos<n.text.length;)o=n.pos,(r=Nr(n))?(i!==n.pos&&t.push(e.slice(i,o)),t.push(r),i=n.pos):n.pos++;return i!==n.pos&&t.push(e.slice(i)),t}function Nr(e){if(91===Pr(e)){const t=++e.pos;let n=t,r=t,i=1;for(;e.pos<e.text.length;){const o=Pr(e);if(Or(o)){for(n=e.pos;jr(Pr(e));)e.pos++;r=e.pos}else{if(91===o)i++;else if(93===o&&0==--i)return{before:e.text.slice(t,n),after:e.text.slice(r,e.pos++),name:e.text.slice(n,r)};e.pos++}}}}function Pr(e,t=e.pos){return e.text.charCodeAt(t)}function Or(e){return e>=65&&e<=90}function jr(e){return Or(e)||e>47&&e<58||95===e||45===e}function Dr(e){const{options:t}=e;return{enabled:t["comment.enabled"],trigger:t["comment.trigger"],before:t["comment.before"]?Ar(t["comment.before"]):void 0,after:t["comment.after"]?Ar(t["comment.after"]):void 0}}function Fr(e,t){Ir(e,t)&&t.comment.before&&$r(e,t.comment.before,t)}function zr(e,t){Ir(e,t)&&t.comment.after&&$r(e,t.comment.after,t)}function Ir(e,t){const{comment:n}=t;if(!(n.enabled&&n.trigger&&e.name&&e.attributes))return!1;for(const t of e.attributes)if(t.name&&n.trigger.includes(t.name))return!0;return!1}function $r(e,t,n){const r={},{out:i}=n;for(const t of e.attributes)t.name&&t.value&&(r[t.name.toUpperCase()]=t.value);for(const e of t)"string"==typeof e?On(i,e):r[e.name]&&(On(i,e.before),Er(r[e.name],n),On(i,e.after))}function Rr(e,t){const n=Cr(t);return n.comment=Dr(t),kr(e,Hr,n),n.out.value}function Hr(e,t,n,r,i){const{out:o,config:a}=r,s=qr(e,t,n,r),l=Ur(r);if(o.level+=l,s&&jn(o,!0),e.name){const t=zn(e.name,a);if(Fr(e,r),On(o,`<${t}`),e.attributes)for(const t of e.attributes)Mr(t)&&Br(t,r);if(!e.selfClosing||e.children.length||e.value){if(On(o,">"),!Wr(e,r,i)){if(e.value){const t=e.value.some(Vr)||Gr(e.value,a);t&&jn(r.out,++o.level),Er(e.value,r),t&&jn(r.out,--o.level)}if(e.children.forEach(i),!e.value&&!e.children.length){const t=a.options["output.formatLeafNode"]||a.options["output.formatForce"].includes(e.name);t&&jn(r.out,++o.level),Er(ju,r),t&&jn(r.out,--o.level)}}On(o,`</${t}>`),zr(e,r)}else On(o,`${Hn(a)}>`)}else!Wr(e,r,i)&&e.value&&(Er(e.value,r),e.children.forEach(i));if(s&&t===n.length-1&&r.parent){const e=Sr(r.parent)?0:1;jn(o,o.level-e)}o.level-=l}function Br(e,t){const{out:n,config:r}=t;if(e.name){const i=In(e.name,r),o=$n(e,r,!0),a=$n(e,r);let s=e.value;Rn(e,r)&&!s?r.options["output.compactBoolean"]||(s=[i]):s||(s=ju),On(n," "+i),s?(On(n,"="+o),Er(s,t),On(n,a)):"html"!==r.options["output.selfClosingStyle"]&&On(n,"="+o+a)}}function Wr(e,t,n){if(e.value&&e.children.length){const r=e.value.findIndex(_r);if(-1!==r){Er(e.value.slice(0,r),t);const i=t.out.line;let o=r+1;return e.children.forEach(n),t.out.line!==i&&"string"==typeof e.value[o]&&On(t.out,e.value[o++].trimLeft()),Er(e.value.slice(o),t),!0}}return!1}function qr(e,t,n,r){const{config:i,parent:o}=r;if(!i.options["output.format"])return!1;if(0===t&&!o)return!1;if(o&&Sr(o)&&1===n.length)return!1;if(Sr(e)){const r=Sr(n[t-1])||Sr(n[t+1])||e.value.some(Vr)||e.value.some(_r)&&e.children.length;if(r)return!0}if(Bn(e,i)){if(0===t){for(let e=0;e<n.length;e++)if(!Bn(n[e],i))return!0}else if(!Bn(n[t-1],i))return!0;if(i.options["output.inlineBreak"]){let e=1,r=t,o=t;for(;Tr(n[--r],i);)e++;for(;Tr(n[++o],i);)e++;if(e>=i.options["output.inlineBreak"])return!0}for(let t=0,n=e.children.length;t<n;t++)if(qr(e.children[t],t,e.children,r))return!0;return!1}return!0}function Ur(e){const{config:t,parent:n}=e;return!n||Sr(n)||n.name&&t.options["output.formatSkip"].includes(n.name)?0:1}function Vr(e){return"string"==typeof e&&/\r|\n/.test(e)}function Gr(e,t){if(e.length&&"string"==typeof e[0]){const n=Du.exec(e[0]);if((null==n?void 0:n.length)&&!t.options.inlineElements.includes(n[1].toLowerCase()))return!0}return!1}function Kr(e,t,n){const r=Cr(t);return r.options=n||{},kr(e,Xr,r),r.out.value}function Xr(e,t,n,r,i){const{out:o,options:a}=r,{primary:s,secondary:l}=Yr(e),u=r.parent?1:0;o.level+=u,ni(e,t,n,r)&&jn(o,!0),!e.name||"div"===e.name&&s.length||On(o,(a.beforeName||"")+e.name+(a.afterName||"")),Jr(s,r),Zr(l.filter(Mr),r),!e.selfClosing||e.value||e.children.length?(Qr(e,r),e.children.forEach(i)):r.options.selfClose&&On(o,r.options.selfClose),o.level-=u}function Yr(e){const t=[],n=[];if(e.attributes)for(const r of e.attributes)ei(r)?t.push(r):n.push(r);return{primary:t,secondary:n}}function Jr(e,t){for(const n of e)if(n.value)if("class"===n.name){On(t.out,".");const e=n.value.map(e=>"string"==typeof e?e.replace(/\s+/g,"."):e);Er(e,t)}else On(t.out,"#"),Er(n.value,t)}function Zr(e,t){if(e.length){const{out:n,config:r,options:i}=t;i.beforeAttribute&&On(n,i.beforeAttribute);for(let o=0;o<e.length;o++){const a=e[o];On(n,In(a.name||"",r)),Rn(a,r)&&!a.value?!r.options["output.compactBoolean"]&&i.booleanValue&&On(n,"="+i.booleanValue):(On(n,"="+$n(a,r,!0)),Er(a.value||ju,t),On(n,$n(a,r))),o!==e.length-1&&i.glueAttribute&&On(n,i.glueAttribute)}i.afterAttribute&&On(n,i.afterAttribute)}}function Qr(e,t){if(!e.value&&e.children.length)return;const n=e.value||ju,r=Lr(n),{out:i,options:o}=t;if(1===r.length)(e.name||e.attributes)&&Pn(i," "),Er(n,t);else{const e=[];let n=0;for(const t of r){const r=ti(t);e.push(r),r>n&&(n=r)}i.level++;for(let a=0;a<r.length;a++)jn(i,!0),o.beforeTextLine&&Pn(i,o.beforeTextLine),Er(r[a],t),o.afterTextLine&&(Pn(i," ".repeat(n-e[a])),Pn(i,o.afterTextLine));i.level--}}function ei(e){return"class"===e.name||"id"===e.name}function ti(e){let t=0;for(const n of e)t+="string"==typeof n?n.length:n.name.length;return t}function ni(e,t,n,r){return!(!r.parent&&0===t)&&!Sr(e)}function ri(e,t){return Kr(e,t,{beforeName:"%",beforeAttribute:"(",afterAttribute:")",glueAttribute:" ",afterTextLine:" |",booleanValue:"true",selfClose:"/"})}function ii(e,t){return Kr(e,t,{beforeAttribute:" ",glueAttribute:" ",beforeTextLine:"| ",selfClose:"/"})}function oi(e,t){return Kr(e,t,{beforeAttribute:"(",afterAttribute:")",glueAttribute:", ",beforeTextLine:"| ",selfClose:"xml"===t.options["output.selfClosingStyle"]?"/":""})}function ai(e,t){let n;if("string"==typeof e){let r=t;t.options["jsx.enabled"]&&(r=Object.assign(Object.assign({},r),{jsx:!0})),t.options["markup.href"]&&(r=Object.assign(Object.assign({},r),{href:!0})),e=Ae(e,r),n=t.text,t.text=undefined}return Tn(e=Ln(e,t),li,t),t.text=null!=n?n:t.text,e}function si(e,t){const n=Fu[t.syntax]||Rr;return n(e,t)}function li(e,t,n){Vn(e,t,n),wn(e,n),Yn(e,t,n),"xsl"===n.syntax&&sr(e),n.options["jsx.enabled"]&&or(e),n.options["bem.enabled"]&&cr(e,t,n)}function ui(e,t){const n=t.match(zu);if(n){const t={},r=n[2]?n[2].split("|").map(di):[];for(const e of r)for(const n of e)hi(n,t);return{type:"Property",key:e,property:n[1],value:r,keywords:t,dependencies:[]}}return{type:"Raw",key:e,value:t}}function ci(e){e=e.slice().sort(fi);const t=[];let n;for(const r of e.filter(pi)){for(;t.length;){if(n=t[t.length-1],r.property.startsWith(n.property)&&45===r.property.charCodeAt(n.property.length)){n.dependencies.push(r),t.push(r);break}t.pop()}t.length||t.push(r)}return e}function fi(e,t){return e.key===t.key?0:e.key<t.key?-1:1}function di(e){return Ct(e.trim(),Iu)[0].value}function pi(e){return"Property"===e.type}function hi(e,t){for(const n of e.value)if("Literal"===n.type)t[n.value]=n;else if("FunctionCall"===n.type)t[n.name]=n;else if("Field"===n.type){const e=n.name.trim();e&&(t[e]={type:"Literal",value:e})}}function mi(e,t,n=!1){if((e=e.toLowerCase())===(t=t.toLowerCase()))return 1;if(!e||!t||e.charCodeAt(0)!==t.charCodeAt(0))return 0;const r=e.length,i=t.length;if(!n&&r>i)return 0;const o=Math.min(r,i),a=Math.max(r,i);let s=1,l=1,u=a,c=0,f=0,d=!1,p=!1;for(;s<r;){for(c=e.charCodeAt(s),d=!1,p=!1;l<i;){if(c===(f=t.charCodeAt(l))){d=!0,u+=a-(p?s:l);break}p=45===f,l++}if(!d){if(!n)return 0;break}s++}const h=s/a,m=a-o,g=gi(a)-gi(m);return u*h/g}function gi(e){return e*(e+1)/2}function vi(e,t){return e.r||e.g||e.b||e.a?1===e.a?yi(e,t):bi(e):"transparent"}function yi(e,t){const n=t&&wi(e.r)&&wi(e.g)&&wi(e.b)?ki:Ci;return"#"+n(e.r)+n(e.g)+n(e.b)}function bi(e){const t=[e.r,e.g,e.b];return 1!==e.a&&t.push(xi(e.a,8)),`${3===t.length?"rgb":"rgba"}(${t.join(", ")})`}function xi(e,t=4){return e.toFixed(t).replace(/\.?0+$/,"")}function wi(e){return!(e%17)}function ki(e){return(e>>4).toString(16)}function Ci(e){return Si(e.toString(16),2)}function Si(e,t){for(;e.length<t;)e="0"+e;return e}function Ti(e,t){var n;const r=Nn(t.options),i=t.options["output.format"];"@@section"===(null===(n=t.context)||void 0===n?void 0:n.name)&&(e=e.filter(e=>e.snippet));for(let n=0;n<e.length;n++)i&&0!==n&&jn(r,!0),_i(e[n],r,t);return r.value}function _i(e,t,n){const r=n.options["stylesheet.json"];if(e.name){const i=r?Pi(e.name):e.name;On(t,i+n.options["stylesheet.between"]),e.value.length?Ei(e,t,n):Fn(t,0,""),r?Pn(t,","):(Li(e,t,!0),Pn(t,n.options["stylesheet.after"]))}else{for(const r of e.value)for(const e of r.value)Ai(e,t,n);Li(e,t,e.value.length>0)}}function Ei(e,t,n){const r=n.options["stylesheet.json"],i=r?Ni(e):null;if(!i||i.unit&&"px"!==i.unit){const i=Oi(n);r&&Pn(t,i);for(let r=0;r<e.value.length;r++)0!==r&&Pn(t,", "),Mi(e.value[r],t,n);r&&Pn(t,i)}else Pn(t,String(i.value))}function Li(e,t,n){e.important&&(n&&Pn(t," "),Pn(t,"!important"))}function Mi(e,t,n){for(let r=0,i=-1;r<e.value.length;r++){const o=e.value[r];0===r||"Field"===o.type&&o.start===i||Pn(t," "),Ai(o,t,n),i=o.end}}function Ai(e,t,n){if("ColorValue"===e.type)Pn(t,vi(e,n.options["stylesheet.shortHex"]));else if("Literal"===e.type)On(t,e.value);else if("NumberValue"===e.type)On(t,xi(e.value,4)+e.unit);else if("StringValue"===e.type){const n="double"===e.quote?'"':"'";On(t,n+e.value+n)}else if("Field"===e.type)Fn(t,e.index,e.name);else if("FunctionCall"===e.type){Pn(t,e.name+"(");for(let r=0;r<e.arguments.length;r++)r&&Pn(t,", "),Mi(e.arguments[r],t,n);Pn(t,")")}}function Ni(e){if(1===e.value.length){const t=e.value[0];if(1===t.value.length&&"NumberValue"===t.value[0].type)return t.value[0]}}function Pi(e){return e.replace(/\-(\w)/g,(e,t)=>t.toUpperCase())}function Oi(e){return e.options["stylesheet.jsonDoubleQuotes"]?'"':"'"}function ji(e,t){var n;const r=(null===(n=t.cache)||void 0===n?void 0:n.stylesheetSnippets)||Di(t.snippets);t.cache&&(t.cache.stylesheetSnippets=r),"string"==typeof e&&(e=Ct(e,{value:Ji(t)}));const i=Zi(r,t);for(const n of e)Fi(n,i,t);return e}function Di(e){const t=[];for(const n of Object.keys(e))t.push(ui(n,e[n]));return ci(t)}function Fi(e,t,n){if(!zi(e,n)){const r=n.options["stylesheet.fuzzySearchMinScore"];if(Ji(n)){const i=n.context.name,o=t.find(e=>"Property"===e.type&&e.property===i);$i(e,n,o,r),e.snippet=o}else if(e.name){const i=Hi(e.name,t,r,!0);e.snippet=i,i&&("Property"===i.type?Ii(e,i,n):Ri(e,i))}}return(e.name||n.context)&&Ui(e,n),e}function zi(e,t){let n=null;const r=1===e.value.length?e.value[0]:null;if(r&&1===r.value.length){const e=r.value[0];"FunctionCall"===e.type&&e.name===$u&&(n=e)}return!(!n&&e.name!==$u)&&(n=n?Object.assign(Object.assign({},n),{name:"linear-gradient"}):{type:"FunctionCall",name:"linear-gradient",arguments:[Vi(Ki(0,""))]},t.context||(e.name="background-image"),e.value=[Vi(n)],!0)}function Ii(e,t,n){const r=e.name,i=Wi(r,t.key);if(i){if(e.value.length)return e;const r=qi(i,n,t);if(!r)return e;e.value.push(Vi(r))}if(e.name=t.property,e.value.length)$i(e,n,t);else if(t.value.length){const r=t.value[0];e.value=1===t.value.length||r.some(Xi)?r:r.map(e=>Yi(e,n))}return e}function $i(e,t,n,r){for(const i of e.value){const e=[];for(const o of i.value)if("Literal"===o.type)e.push(qi(o.value,t,n,r)||o);else if("FunctionCall"===o.type){const i=qi(o.name,t,n,r);i&&"FunctionCall"===i.type?e.push(Object.assign(Object.assign({},i),{arguments:o.arguments.concat(i.arguments.slice(o.arguments.length))})):e.push(o)}else e.push(o);i.value=e}}function Ri(e,t){let n=0,r;const i=/\$\{(\d+)(:[^}]+)?\}/g,o=e.value[0],a=[];for(;r=i.exec(t.value);)n!==r.index&&a.push(Gi(t.value.slice(n,r.index))),n=r.index+r[0].length,o&&o.value.length?a.push(o.value.shift()):a.push(Ki(Number(r[1]),r[2]?r[2].slice(1):""));const s=t.value.slice(n);return s&&a.push(Gi(s)),e.name=void 0,e.value=[Vi(...a)],e}function Hi(e,t,n=0,r=!1){let i=null,o=0;for(const n of t){const t=mi(e,Bi(n),r);if(1===t)return n;t&&t>=o&&(o=t,i=n)}return o>=n?i:null}function Bi(e){return"string"==typeof e?e:e.key}function Wi(e,t){for(let n=0,r=0;n<e.length;n++){if(-1===(r=t.indexOf(e[n],r)))return e.slice(n);r++}return""}function qi(e,t,n,r){let i;if(n){if(i=Hi(e,Object.keys(n.keywords),r))return n.keywords[i];for(const t of n.dependencies)if(i=Hi(e,Object.keys(t.keywords),r))return t.keywords[i]}return(i=Hi(e,t.options["stylesheet.keywords"],r))?Gi(i):null}function Ui(e,t){const n=t.options["stylesheet.unitAliases"],r=t.options["stylesheet.unitless"];for(const i of e.value)for(const o of i.value)"NumberValue"===o.type&&(o.unit?o.unit=n[o.unit]||o.unit:0===o.value||r.includes(e.name)||(o.unit=o.rawValue.includes(".")?t.options["stylesheet.floatUnit"]:t.options["stylesheet.intUnit"]))}function Vi(...e){return{type:"CSSValue",value:e}}function Gi(e){return{type:"Literal",value:e}}function Ki(e,t){return{type:"Field",index:e,name:t}}function Xi(e){for(const t of e.value)if("Field"===t.type||"FunctionCall"===t.type&&t.arguments.some(Xi))return!0;return!1}function Yi(e,t,n={index:1}){let r=[];for(const i of e.value)switch(i.type){case"ColorValue":r.push(Ki(n.index++,vi(i,t.options["stylesheet.shortHex"])));break;case"Literal":r.push(Ki(n.index++,i.value));break;case"NumberValue":r.push(Ki(n.index++,`${i.value}${i.unit}`));break;case"StringValue":const e="single"===i.quote?"'":'"';r.push(Ki(n.index++,e+i.value+e));break;case"FunctionCall":r.push(Ki(n.index++,i.name),Gi("("));for(let e=0,o=i.arguments.length;e<o;e++)r=r.concat(Yi(i.arguments[e],t,n).value),e!==o-1&&r.push(Gi(", "));r.push(Gi(")"));break;default:r.push(i)}return Object.assign(Object.assign({},e),{value:r})}function Ji(e){return!!e.context&&("@@value"===e.context.name||!e.context.name.startsWith("@@"))}function Zi(e,t){if(t.context){if("@@section"===t.context.name)return e.filter(e=>"Raw"===e.type);if("@@property"===t.context.name)return e.filter(e=>"Property"===e.type)}return e}function Qi(e){const t={};return Object.keys(e).forEach(n=>{for(const r of n.split("|"))t[r]=e[n]}),t}function eo(e={},t={}){const n=e.type||"markup",r=e.syntax||Uu[n];return Object.assign(Object.assign(Object.assign({},Gu),e),{type:n,syntax:r,variables:to(n,r,"variables",e,t),snippets:to(n,r,"snippets",e,t),options:to(n,r,"options",e,t)})}function to(e,t,n,r,i={}){const o=Ku[e],a=i[e],s=Ku[t],l=i[t];return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Gu[n]),o&&o[n]),s&&s[n]),a&&a[n]),l&&l[n]),r[n])}function no(e,t=0){return{text:e,start:t,pos:e.length}}function ro(e){return e.pos===e.start}function io(e,t=0){return e.text.charCodeAt(e.pos-1+t)}function oo(e){if(!ro(e))return e.text.charCodeAt(--e.pos)}function ao(e,t){if(ro(e))return!1;const n="function"==typeof t?t(io(e)):t===io(e);return n&&e.pos--,!!n}function so(e,t){const n=e.pos;for(;ao(e,t););return e.pos<n}function lo(e){return 39===e||34===e}function uo(e){const t=e.pos,n=oo(e);if(lo(n))for(;!ro(e);)if(oo(e)===n&&92!==io(e))return!0;return e.pos=t,!1}function co(e){const t=e.pos;if(!ao(e,62))return!1;let n=!1;for(ao(e,47);!ro(e);){if(so(e,bo),mo(e)){if(ao(e,47)){n=ao(e,60);break}if(ao(e,60)){n=!0;break}if(ao(e,bo))continue;if(ao(e,61)){if(mo(e))continue;break}if(ho(e)){n=!0;break}break}if(!fo(e))break}return e.pos=t,n}function fo(e){return po(e)||ho(e)}function po(e){const t=e.pos;return!!(uo(e)&&ao(e,61)&&mo(e))||(e.pos=t,!1)}function ho(e){const t=e.pos,n=[];for(;!ro(e);){const t=io(e);if(ko(t))n.push(t);else if(wo(t)){if(n.pop()!==Xu[t])break}else if(!xo(t))break;e.pos--}return!(t===e.pos||!ao(e,61)||!mo(e))||(e.pos=t,!1)}function mo(e){return so(e,go)}function go(e){return 58===e||45===e||vo(e)||yo(e)}function vo(e){return(e&=-33)>=65&&e<=90}function yo(e){return e>47&&e<58}function bo(e){return 32===e||9===e}function xo(e){return!isNaN(e)&&61!==e&&!bo(e)&&!lo(e)}function wo(e){return 123===e||40===e||91===e}function ko(e){return 125===e||41===e||93===e}function Co(e,t=e.length,n={}){const r=Object.assign(Object.assign({},Zu),n);let i;t=Math.min(e.length,Math.max(0,null==t?e.length:t)),r.lookAhead&&(t=So(e,t,r));const o=To(e,t,r.prefix||"");if(-1===o)return;const a=no(e,o);a.pos=t;const s=[];for(;!ro(a);){if(i=io(a),s.includes(125)){if(125===i){s.push(i),a.pos--;continue}if(123!==i){a.pos--;continue}}if(Ao(i,r.type))s.push(i);else if(Mo(i,r.type)){if(s.pop()!==Xu[i])break}else{if(s.includes(93)||s.includes(125)){a.pos--;continue}if(co(a)||!Lo(i))break}a.pos--}if(!s.length&&a.pos!==t){const r=e.slice(a.pos,t).replace(/^[*+>^]+/,"");return{abbreviation:r,location:t-r.length,start:n.prefix?o-n.prefix.length:t-r.length,end:t}}}function So(e,t,n){for(lo(e.charCodeAt(t))&&t++;Ao(e.charCodeAt(t),n.type);)t++;return t}function To(e,t,n){if(!n)return 0;const r=no(e),i=n.split("").map(Yu);let o;for(r.pos=t;!ro(r);)if(!_o(r,93,91)&&!_o(r,125,123)){if(o=r.pos,Eo(r,i))return o;r.pos--}return-1}function _o(e,t,n){const r=e.pos;if(ao(e,t))for(;!ro(e);){if(ao(e,n))return!0;e.pos--}return e.pos=r,!1}function Eo(e,t){const n=e.pos;let r=!1;for(let n=t.length-1;n>=0&&!ro(e)&&ao(e,t[n]);n--)r=0===n;return r||(e.pos=n),r}function Lo(e){return e>64&&e<91||e>96&&e<123||e>47&&e<58||Ju.includes(e)}function Mo(e,t){return 40===e||"markup"===t&&(91===e||123===e)}function Ao(e,t){return 41===e||"markup"===t&&(93===e||125===e)}function No(e,t){const n=eo(t);return"stylesheet"===n.type?Oo(e,n):Po(e,n)}function Po(e,t){return si(ai(e,t),t)}function Oo(e,t){return Ti(ji(e,t),t)}function jo(e){return 32===e||9===e||160===e||10===e||13===e}function Do(e,t){const n=e[e.length-1];!t||t[0]===t[1]||n&&n[0]===t[0]&&n[1]===t[1]||e.push(t)}function Fo(e,t=0){const n=[],r=e.length;let i=0,o=0,a=0;for(;i<r;){a=i;const r=e.charCodeAt(i++);if(jo(r)){for(o!==a&&n.push([t+o,t+a]);jo(e.charCodeAt(i));)i++;o=i}}return o!==i&&n.push([t+o,t+i]),n}function zo(e){return'"'===e||"'"===e}function Io(e){const{value:t}=e;return t&&Ro(t)?t.slice(1,-1):t}function $o(e,t,n=0){let r=t.valueStart,i=t.valueEnd;return zo(e[r])&&r++,zo(e[i-1])&&i>r&&i--,[n+r,n+i]}function Ro(e){return!!e&&(Ho(e)||Bo(e))}function Ho(e){return e.length>1&&zo(e[0])&&e[0]===e.slice(-1)}function Bo(e){return"{"===e[0]&&"}"===e.slice(-1)}function Wo(e){return e.length>0?e[e.length-1]:undefined}function qo(e,t){const n=Tt(t),r=[],i=[];return Ht(e,(e,t,n,o)=>{if(3===t)i.push({name:e,open:[n,o]});else if(1===t){const t={name:e,open:[n,o]};r.push(t),i.push(t)}else for(;r.length;){const t=r.pop();if(t.name===e){t.close=[n,o];break}}},n),i}function Uo(e,t,n){let r;return"string"==typeof e&&(e=qo(e,n)),e.some(e=>{const n=e.open[0],i=e.close?e.close[1]:e.open[1];if(t<n)return!0;t>n&&t<i&&(r=e)}),r}function Vo(e,t,n){return n?Ko(e,t):Go(e,t)}function Go(e,t){let n=void 0;return Ht(e,(r,i,o,a)=>{if((1===i||3===i)&&a>t)return n=Xo(e,r,o,a),!1}),n}function Ko(e,t){let n=null,r="",i=-1,o=-1;if(Ht(e,(e,a,s,l)=>{if(s>=t)return!1;1!==a&&3!==a||(r=e,n=a,i=s,o=l)}),null!==n)return Xo(e,r,i,o)}function Xo(e,t,n,r){const i=[[n+1,n+1+t.length]],o=e.slice(n,r);for(const e of Ft(o,t))if(null!=e.value){Do(i,[n+e.nameStart,n+e.valueEnd]);const t=Yo(e);if(t[0]!==t[1]&&(Do(i,[n+t[0],n+t[1]]),"class"===e.name)){const e=Fo(o.slice(t[0],t[1]),n+t[0]);for(const t of e)Do(i,t)}}else Do(i,[n+e.nameStart,n+e.nameEnd]);return{start:n,end:r,ranges:i}}function Yo(e){const t=e.value,n=t[0],r=t[t.length-1];return'"'===n||"'"===n?[e.valueStart+1,e.valueEnd-(r===n?1:0)]:"{"===n&&"}"===r?[e.valueStart+1,e.valueEnd-1]:[e.valueStart,e.valueEnd]}function Jo(e,t,n){return n?Qo(e,t):Zo(e,t)}function Zo(e,t){let n=void 0,r=void 0;return rn(e,(i,o,a,s)=>{if(!(o<t)){if("selector"===i)return n={start:o,end:a,ranges:[[o,a]]},!1;if("propertyName"===i)r=[o,a,s];else{if("propertyValue"===i){n={start:o,end:-1!==s?s+1:a,ranges:[]},r&&(n.start=r[0],Do(n.ranges,[r[0],n.end])),Do(n.ranges,[o,a]);for(const t of cn(e.substring(o,a)))Do(n.ranges,[t[0]+o,t[1]+o]);return!1}if(r)return n={start:r[0],end:r[1],ranges:[[r[0],r[1]]]},!1}}}),n}function Qo(e,t){const n={type:null,start:-1,end:-1,valueStart:-1,valueEnd:-1,valueDelimiter:-1};if(rn(e,(e,r,i,o)=>{if(r>=t&&"propertyValue"!==e)return!1;"selector"===e||"propertyName"===e?(n.start=r,n.end=i,n.type=e,n.valueStart=n.valueEnd=n.valueDelimiter=-1):"propertyValue"===e&&(n.valueStart=r,n.valueEnd=i,n.valueDelimiter=o)}),"selector"===n.type)return{start:n.start,end:n.end,ranges:[[n.start,n.end]]};if("propertyName"===n.type){const t={start:n.start,end:n.end,ranges:[]};if(-1!==n.valueStart){t.end=-1!==n.valueDelimiter?n.valueDelimiter+1:n.valueEnd,Do(t.ranges,[n.start,t.end]),Do(t.ranges,[n.valueStart,n.valueEnd]);for(const r of cn(e.substring(n.valueStart,n.valueEnd)))Do(t.ranges,[r[0]+n.valueStart,r[1]+n.valueStart])}else Do(t.ranges,[n.start,n.end]);return t}}function ea(e,t,n={}){const r={type:"html",ancestors:[],current:null,css:null},i=[],o=[],a=Tt({xml:n.xml,allTokens:!0});return Ht(e,(e,n,s,l)=>!(s>=t)&&(s<t&&t<l?(r.current={name:e,type:n,range:[s,l]},!1):(1===n&&aa(e,a)&&(n=3),void(1===n?o.push(sa(i,e,n,s,l)):2===n&&o.length&&Wo(o).name===e&&la(i,o.pop())))),a),o.forEach(e=>{r.ancestors.push({name:e.name,range:[e.start,e.end]})}),n.skipCSS||(r.css=oa(e,t,r)),r}function ta(e,t,n){const r={type:"css",ancestors:[],current:null,inline:!1,embedded:n},i=[],o=[];return rn(e,(n,a,s)=>{if(a>=t)return!1;if(a<t&&t<=s)return r.current={name:e.slice(a,s),type:n,range:[a,s]},!1;switch(n){case"selector":case"propertyName":o.push(sa(i,e.slice(a,s),n,a,s));break;case"propertyValue":case"blockEnd":la(i,o.pop())}}),o.forEach(e=>{r.ancestors.push({name:e.name,type:e.type,range:[e.start,e.end]})}),r}function na(e,t){const n=Wo(t.ancestors);if(n&&"style"===n.name)for(const t of Ft(e.slice(n.range[0],n.range[1]),n.name))if("type"===t.name)return Io(t)}function ra(e,t){const n=Wo(t.ancestors);if(n){const t={};for(const r of Ft(e.slice(n.range[0],n.range[1]),n.name))t[r.name]=Io(r)||"";return{name:n.name,attributes:t}}}function ia(e){if(e.inline)return{name:"@@property"};const t=Wo(e.ancestors);let n="@@global";return e.current&&("propertyValue"===e.current.type&&t?n=t.name:"selector"!==e.current.type&&"propertyName"!==e.current.type||t||(n="@@section")),{name:n}}function oa(e,t,n){let r=null;if(n.current){const i=n.current;if(1===i.type||2===i.type){const n=e.slice(i.range[0],i.range[1]);Ft(n,i.name).some(o=>{if("style"===o.name&&null!=o.value){const[a,s]=$o(n,o,i.range[0]);if(t>=a&&t<=s)return ua(r=ta(e.slice(a,s),t-a,[a,s]),a),r.inline=!0,!0}})}}else if(n.ancestors.length){const i=Wo(n.ancestors);if("style"===i.name){const n=i.range[1];let o=e.length;Ht(e.slice(i.range[1]),(e,t,r)=>{if(e===i.name&&2===t)return o=r+n,!1}),ua(r=ta(e.slice(n,o),t-n,[n,o]),n)}}return r}function aa(e,t){return!t.xml&&t.empty.includes(e)}function sa(e,t,n,r,i){if(e.length){const o=e.pop();return o.name=t,o.type=n,o.start=r,o.end=i,o}return{name:t,type:n,start:r,end:i}}function la(e,t){t&&e.push(t)}function ua(e,t){e.ancestors.forEach(e=>{ca(e.range,t)}),e.current&&ca(e.current.range,t)}function ca(e,t){e[0]+=t,e[1]+=t}function fa(e,t,n){return t<0?n===e[0]?(e[0]+=t,e[1]+=t):e[0]<n&&n<=e[1]&&(e[1]+=t):t>0&&e[0]<=n&&n<=e[1]&&(e[1]+=t),e}function da(e,t,n){if("error"===e.type){if(t[1]===n)return!1;const{abbreviation:r}=e,i=t[0];let o=t[1];for(;o>i&&ec.includes(r[o-i-1]);)o--;return o!==n}return!0}function pa(e,t){const n=va(e,t);let r=0,i=n.length;for(;r<i&&Sa(n[r]);)r++;for(;i>r&&Sa(n[i-1]);)i--;return[t[0]+r,t[0]+i]}function ha(e,t,n){return e.operation(()=>{const r=Da(n,t[0]),[i,o]=ya(e,t);if(e.replaceRange(r.snippet,i,o),r.ranges.length){const t=r.ranges.map(t=>{const[n,r]=ya(e,t);return{head:n,anchor:r}});e.setSelections(t)}return!0})}function ma(e){const t=e.getCursor();return e.indexFromPos(t)}function ga(e){return e.getValue()}function va(e,t){const[n,r]=ya(e,t);return e.getRange(n,r)}function ya(e,t){return[e.posFromIndex(t[0]),e.posFromIndex(t[1])]}function ba(e){const{value:t}=e;return t&&xa(t)?t.slice(1,-1):t}function xa(e){return!!e&&(ka(e)||Ca(e))}function wa(e){return'"'===e||"'"===e}function ka(e){return e.length>1&&wa(e[0])&&e[0]===e.slice(-1)}function Ca(e){return"{"===e[0]&&"}"===e.slice(-1)}function Sa(e){return/^[\s\n\r]+$/.test(e)}function Ta(e){const t={"<":"&lt;",">":"&gt;","&":"&amp;"};return e.replace(/[<>&]/g,e=>t[e])}function _a(e){return e.constructor.Pass}function Ea(e,t){const n=e.indexFromPos(t.head),r=e.indexFromPos(t.anchor);return[Math.min(n,r),Math.max(n,r)]}function La(e,t){return e[0]===t[0]&&e[1]===t[1]}function Ma(e,t){return e[0]<=t[0]&&e[1]>=t[1]}function Aa(e){return e[0]===e[1]}function Na(e,t="emmet-error-snippet"){const n=e.message.split("\n")[0],r=" ".repeat(e.pos||0);return`<div class="${t}">\n        <div class="${t}-ptr">\n            <div class="${t}-line"></div>\n            <div class="${t}-tip"></div>\n            <div class="${t}-spacer">${r}</div>\n        </div>\n        <div class="${t}-message">${Ta(n.replace(/\s+at\s+\d+$/,""))}</div>\n    </div>`}function Pa(e){return e.length>0?e[e.length-1]:undefined}function Oa(e){return lc in e}function ja(e){return Oa(e)||(e[lc]={id:String(cc++)}),e[lc]}function Da(e,t=0){const n=[];let r="",i=null,o=0,a=0,s;for(;a<e.length;)(s=e.charAt(a++))!==ac&&s!==sc||(r+=e.slice(o,a-1),o=a,s===ac?(i=[t+r.length,t+r.length],n.push(i)):i&&(i[1]=t+r.length,i=null));return{ranges:n,snippet:r+e.slice(o)}}function Fa(e,t){let n=Ia(e),r,i;if(Ha(n)){const o=ga(e);(i=ea(o,t,{xml:Ra(n)})).css&&(n=Va(o,i)||"css",r=i.css.inline,i=i.css)}else Wa(n)&&(i=ta(ga(e),t));return{type:$a(n),syntax:n,inline:r,context:i}}function za(e,t){const n=e.posFromIndex(t),r=e.getModeAt(n);return r&&"xml"===r.name?r.configuration||r.name:r&&r.name}function Ia(e){const t=e.getMode();return t?"htmlmixed"===t.name?"html":t.name||"":""}function $a(e){return e&&gc.includes(e)?"stylesheet":"markup"}function Ra(e){return!!e&&fc.includes(e)}function Ha(e){return!!e&&(dc.includes(e)||Ra(e))}function Ba(e){return!!e&&(mc.includes(e)||gc.includes(e))}function Wa(e){return!!e&&pc.includes(e)}function qa(e){return!!e&&hc.includes(e)}function Ua(e,t){if(!0===e)return!0;if(Array.isArray(e)){const n=[t.type,t.syntax];return t.inline&&n.push(`${t.type}-inline`,`${t.syntax}-inline`),n.some(t=>e.includes(t))}return!1}function Va(e,t){const n=Pa(t.ancestors);if(n&&"style"===n.name)for(const t of Ft(e.slice(n.range[0],n.range[1]),n.name))if("type"===t.name)return ba(t)}function Ga(e,t){const n=Pa(t.ancestors);if(n){const t={};for(const r of Ft(e.slice(n.range[0],n.range[1]),n.name))t[r.name]=ba(r)||"";return{name:n.name,attributes:t}}}function Ka(e){if(e.inline)return{name:"@@property"};const t=Pa(e.ancestors);let n="@@global";return e.current&&("propertyValue"===e.current.type&&t?n=t.name:"selector"!==e.current.type&&"propertyName"!==e.current.type||t||(n="@@section")),{name:n}}function Xa(e){const t="string"==typeof e?new au(e):e;let n,r=0,o=21;const a=[];for(;!t.eof();)t.eatWhile(i),t.start=t.pos,Ya(t)?(0==(1&o)&&ts("Unexpected number",t),a.push(Za(t.current())),o=10):os(t.peek())?ns(n=t.next())&&16&o?(is(n)&&a.push(Qa(n,r)),o=21):(0==(2&o)&&ts("Unexpected operator",t),a.push(es(n,r)),o=21):t.eat(40)?(0==(4&o)&&ts('Unexpected "("',t),r+=10,o=53):t.eat(41)?(r-=10,32&o?a.push(vc):0==(8&o)&&ts('Unexpected ")"',t),o=14):ts("Unknown character",t);(r<0||r>=10)&&ts('Unmatched "()"',t);const s=Ja(a);return null===s&&ts("Parity",t),s}function Ya(t){const n=t.pos;return!(!t.eat(46)||!t.eatWhile(e))||(!(!t.eatWhile(e)||t.eat(46)&&!t.eatWhile(e))||(t.pos=n,!1))}function Ja(e){const t=[],n=[];let r=0;for(let i=0;i<e.length;i++){const o=e[i];if("num"===o.type)n.push(o);else{for(r+="op1"===o.type?1:2;t.length&&o.priority<=t[t.length-1].priority;)n.push(t.pop());t.push(o)}}return r+1===n.length+t.length?n.concat(t.reverse()):null}function Za(e,t){return as("num",parseFloat(e),t)}function Qa(e,t=0){return 45===e&&(t+=2),as("op1",e,t)}function es(e,t=0){return 42===e?t+=1:47!==e&&92!==e||(t+=2),as("op2",e,t)}function ts(e,t){throw t&&(e+=` at column ${t.pos} of expression`),new Error(e)}function ns(e){return rs(e)||is(e)}function rs(e){return 43===e}function is(e){return 45===e}function os(e){return 43===e||45===e||42===e||47===e||92===e}function as(e,t,n=0){return{type:e,value:t,priority:n}}function ss(e,t=e.length,n){const r=Object.assign(Object.assign({},yc),n),i={text:e,pos:t};let a;if(r.lookAhead&&41===cs(i)){i.pos++;const t=e.length;for(;i.pos<t&&(41===(a=cs(i))||r.whitespace&&o(a));)i.pos++}const s=i.pos;let l=0;for(;i.pos>=0;)if(!ls(i)){if(41===(a=us(i)))l++;else if(40===a){if(!l)break;l--}else if(!(r.whitespace&&o(a)||ns(a)||os(a)))break;i.pos--}if(i.pos!==s&&!l){for(;o(cs(i));)i.pos++;return[i.pos,s]}return null}function ls(t){if(e(us(t))){t.pos--;let n=!1,r;for(;t.pos>=0;){if(46===(r=us(t))){if(n)break;n=!0}else if(!e(r))break;t.pos--}return!0}return!1}function us(e){return e.text.charCodeAt(e.pos-1)}function cs(e){return e.text.charCodeAt(e.pos)}function fs(e){if(Array.isArray(e)||(e=Xa(e)),!e||!e.length)return null;const t=[];let n,r,i;for(let o=0,a=e.length;o<a;o++){const a=e[o];if("num"===a.type)t.push(a.value);else if("op2"===a.type)r=t.pop(),n=t.pop(),i=xc[a.value],t.push(i(n,r));else{if("op1"!==a.type)throw new Error("Invalid expression");n=t.pop(),i=bc[a.value],t.push(i(n))}}if(t.length>1)throw new Error("Invalid Expression (parity)");return t[0]}function ds(e,t,n){const r=null!=t?e.posFromIndex(t):e.getCursor(),i=Ia(e)||"html",o=St(e),a={"output.baseIndent":hs(e,r.line),"output.indent":ms(e),"output.field":ps(),"output.format":!n,"output.attributeQuotes":o.attributeQuotes};return"html"===i&&(a["output.selfClosingStyle"]=o.markupStyle,a["output.compactBoolean"]="html"===o.markupStyle),Ha(i)&&(o.comments&&(a["comment.enabled"]=!0,o.commentsTemplate&&(a["comment.after"]=o.commentsTemplate)),a["bem.enabled"]=o.bem,a["stylesheet.shortHex"]=o.shortHex),a}function ps(){let e=-1;return(t,n)=>-1===e||e===t?(e=t,n?ac+n+sc:ac):n||""}function hs(e,t){const n=e.getLine(t),r=n.match(/^\s+/);return r?r[0]:""}function ms(e){return e.getOption("indentWithTabs")?"\t":" ".repeat(e.getOption("indentUnit")||0)}function gs(e,t,n){let r={cache:wc};const i={"output.field":ps(),"output.format":!n||!n.inline};n&&(Object.assign(r,n),n.options&&Object.assign(i,n.options)),r.options=i;const o=St(e);return o.config&&(r=eo(r,o.config)),No(t,r)}function vs(e,t,n="markup",r){return Co(e,t,Object.assign({lookAhead:"stylesheet"!==n,type:n},r))}function ys(e,t,n=!1,r=!1){const i={xml:r};return n?Jt(e,t,i):Yt(e,t,i)}function bs(e,t,n){return n?mn(e,t):hn(e,t)}function xs(e,t,n,r){return n?Jo(e,t,r):Vo(e,t,r)}function ws(e,t,n){const r=ss(e,t,n);if(r)try{const[t,n]=r,o=fs(e.slice(t,n));if(null!==o)return{start:t,end:n,result:o,snippet:o.toFixed(4).replace(/\.?0+$/,"")}}catch(i){console.error(i)}}function ks(e,t,n){const r=ga(e);let i;if(null==n){const t=e.getMode();n=!!t&&Ra(t.name)}const o=Xt(r,t,{xml:n});if(o){const{open:e,close:t}=o;i={name:o.name,open:e,close:t},o.attributes&&(i.attributes={},o.attributes.forEach(e=>{let t=e.value;t&&ka(t)&&(t=t.slice(1,-1)),i.attributes[e.name]=null==t?null:t}))}return i}function Cs(e,t){const n=Fa(e,t),{context:r}=n,i={type:n.type,syntax:n.syntax||"html",options:ds(e,t,n.inline)};if(r){const t=ga(e);"html"===r.type&&r.ancestors.length?i.context=Ga(t,r):"css"===r.type&&(i.context=Ka(r))}return i}function Ss(e,t){return t}function Ts(e){const t=e=>{Tc.run(e,()=>{_c.handleChange(Tc,ma(e))})},n=e=>{Tc.run(e,()=>{const t=ma(e);if(!Ls(e,t))return;const n=_c.handleSelectionChange(Tc,t);n&&(Ds(n,t)?Tc.showPreview(n):Tc.hidePreview())})};return e.on("change",t),e.on("focus",n),e.on("cursorActivity",n),()=>{Tc.run(e,()=>_c.disposeEditor(Tc)),e.off("change",t),e.off("focus",n),e.off("cursorActivity",n)}}function _s(e,t){return Tc.run(e,()=>t(_c,Tc))}function Es(e,t){if(Ls(e,t)){const n=za(e,t);return!!n&&(Ba(n)||qa(n))}return!1}function Ls(e,t){const n=St(e);return Ua(n.mark,Fa(e,t))}function Ms(e,t,n){return Tc.run(e,()=>{const e=Tc.syntax(),r=Tc.isJSX(e)?tc:"",i=_c.getActivationContext(Tc,t),o=vs(Tc.substr(),t,$a(null==i?void 0:i.syntax),{prefix:r});if(o){const e=_c.startTracking(Tc,o.start,o.end,{offset:r.length,config:i});if(e){if("error"===e.type&&n)return void _c.stopTracking(Tc,{force:!0});Tc.showPreview(e)}return e}})}function As(e){return Tc.run(e,()=>_c.getTracker(Tc))}function Ns(e,t,n,r){return Tc.run(e,()=>{const e=_c.startTracking(Tc,t,n,r);return e&&Tc.showPreview(e),e})}function Ps(e,t){return Tc.run(e,()=>_c.stopTracking(Tc,t))}function Os(e,t){const n=As(e)||Ms(e,t);if(n&&Ds(n,t)&&"abbreviation"===n.type){const{abbreviation:t,preview:r}=n;return{text:t,displayText:r,hint:()=>{Ps(e);const r=gs(e,t,n.config);ha(e,n.range,r)},from:e.posFromIndex(n.range[0]),to:e.posFromIndex(n.range[1])}}}function js(e,t,n){Tc.run(e,()=>{const e=_c.getStoredTracker(Tc);if(e){const r="abbreviation"===e.type&&n===e.abbreviation&&e.range[0]===t;r&&_c.restoreTracker(Tc,t)}})}function Ds(e,t){return t>=e.range[0]&&t<=e.range[1]}function Fs(e){function t(e,t,r){o&&o.dataset.pos===String(t)||(n(),o=Ws(e,t,r))}function n(){o&&(o.remove(),o=null)}let r=null,i,o=null;const a=e=>{r||(r=qo(e.getValue()));const o=ma(e);let a=Uo(r,o);if(a){a.preview||(a.preview=qs(e,a)),zs(e,a,o)?t(e,a.close[1],a.preview):n();const r=a.name.length;(a=Object.assign(Object.assign({},a),{open:[a.open[0]+1,a.open[0]+1+r]})).close&&(a.close=[a.close[0]+2,a.close[0]+2+r])}!a||i&&La(i.open,a.open)?!a&&i&&$s(e):($s(e),Is(e,a)),i=a},s=e=>{if(r=null,St(e).autoRenameTags){const{open:t,close:n}=Rs(e);if(t&&n){const r=e.getCursor(),o=t.find(),a=n.find();let s=!1;Xs(e,o)||Xs(e,a)?s=!0:Ks(e,o,a)&&(Vs(o,r)?s=Bs(e,o,a):Vs(a,r)&&(s=Bs(e,a,o))),s&&($s(e),i=null)}}};return e.on("cursorActivity",a),e.on("change",s),()=>{$s(e),n(),e.off("cursorActivity",a),e.off("cursorActivity",s),r=i=null}}function zs(e,t,n){return t.close&&t.preview&&St(e).previewOpenTag&&n>t.close[0]&&n<t.close[1]}function Is(e,{open:t,close:n,preview:r}){Hs(e,e.posFromIndex(t[0]),e.posFromIndex(t[1]),Ec),n&&Hs(e,e.posFromIndex(n[0]),e.posFromIndex(n[1]),Lc)}function $s(e){const{open:t,close:n}=Rs(e);t&&t.clear(),n&&n.clear()}function Rs(e){let t,n;return e.getAllMarks().forEach(e=>{e.className===Ec?t=e:e.className===Lc&&(n=e)}),{open:t,close:n}}function Hs(e,t,n,r,i){return e.markText(t,n,{className:r,inclusiveLeft:!0,inclusiveRight:!0,clearWhenEmpty:!1,attributes:i})}function Bs(e,t,n){const r=e.getRange(t.from,t.to),i=r.match(/[\w:.-]+/),o=i?i[0]:"";return e.getRange(n.from,n.to)!==o&&e.replaceRange(o,n.from,n.to),r!==o}function Ws(e,t,n){const r=document.createElement("div");return r.className="emmet-tag-preview",r.innerText=n,r.dataset.pos=String(t),e.addWidget(e.posFromIndex(t),r,!1),r}function qs(e,t){let n="",r="";const i=[];Ft(va(e,t.open),t.name).forEach(e=>{"class"===e.name&&e.value?n="."+Us(e.value).replace(/\s+/g,"."):"id"===e.name&&e.value?r="#"+Us(e.value):i.push(e.value?`${e.name}=${e.value}`:e.name)});const o=i.length?`[${i.join(" ")}]`:"",a=r+n+o;return a?t.name+a:""}function Us(e){return ka(e)?e.slice(1,-1):e}function Vs(e,t,n){return n?Gs(t,e.from)>0&&Gs(t,e.to)<0:Gs(t,e.from)>=0&&Gs(t,e.to)<=0}function Gs(e,t){return e.line-t.line||e.ch-t.ch}function Ks(e,t,n){const r=e.getRange(t.from,t.to),i=e.getRange(n.from,n.to);return r!==i}function Xs(e,t){return""===e.getRange(t.from,t.to)}function Ys(e,t){const n=new Error(e);return n.ch=t.pos,n}function Js(e,t,n="Unexpected character"){return t.parseError=Ys(n.replace(/\s+at\s+\d+$/,""),e),e.skipToEnd(),"invalidchar"}function Zs(e){return e[e.length-1]}function Qs(){return{startState:()=>({attribute:0,expression:0,group:0,quote:0,braces:[],tokens:[],scanner:new au("")}),token(e,t){const{scanner:n}=t;n.string=e.string,n.pos=e.pos,n.start=e.start,n.end=e.string.length;const r=n.peek(),i=J(n,t);if(!i)return Js(e,t);if(e.pos=n.pos,"Quote"===i.type)t.quote=r===t.quote?0:r;else if("Bracket"===i.type)if(i.open)t[i.context]++,t.braces.push(i);else{t[i.context]--;const e=Zs(t.braces);e&&e.context===i.context&&t.braces.pop()}if(e.eol()&&t.braces.length&&!t.parseError){const n=Zs(t.braces).start;return t.parseError=Ys(`No closing brace at ${n}`,e),null}const o=el(i,t);return t.tokens.push(i),o}}}function el(e,t){const n=Zs(t.tokens);switch(e.type){case"Bracket":return"bracket";case"Field":return"variable-2";case"Literal":if(t.attribute)return n&&"Operator"===n.type&&"equal"===n.operator?"string-2":t.quote?"string":"attribute";if(t.quote)return"string";if(n&&"Operator"===n.type){if("class"===n.operator)return"variable-2";if("id"===n.operator)return"variable-3"}return"tag";case"Operator":return"class"===e.operator?"variable-2":"id"===e.operator?"variable-3":`operator ${e.operator}`;case"Repeater":case"RepeaterPlaceholder":return"meta";case"Quote":return"string";case"RepeaterNumber":return"number"}return""}function tl(){return{startState:()=>({brackets:0,tokens:[],scanner:new au("")}),token(e,t){const{scanner:n}=t;n.string=e.string,n.pos=e.pos,n.start=e.start,n.end=e.string.length;const r=Pe(n,0===t.brackets);if(!r)return Js(e,t);if("Bracket"===r.type&&(t.brackets+=r.open?1:-1,t.brackets<0))return Js(e,t,"Unexpected bracket");e.pos=n.pos;const i=nl(r);return t.tokens.push(r),i}}}function nl(e,t){switch(e.type){case"Bracket":return"bracket";case"Field":return"variable-2";case"Literal":return"tag";case"Operator":return`operator ${e.operator}`;case"ColorValue":return"variable-3";case"NumberValue":return"number";case"StringValue":return"string"}return null}function rl(){return{token:e=>e.eatWhile(il)?"tag":e.eat(ol)?"operator":(e.skipToEnd(),"invalidchar")}}function il(e){return/[a-zA-Z0-9-_$@!:]/.test(e)}function ol(e){return"|"===e}function al(e,t){if(e.somethingSelected())return _a(e);if(t)return sl(e);const n=ma(e),r=e.posFromIndex(n),i=e.getLine(r.line),o=Cs(e,n),a=vs(i,r.ch,$a(o.syntax));if(a){const t=n-r.ch;ll(e,a.abbreviation,[a.start+t,a.end+t],o)}}function sl(e){const t=ma(e);if(St(e).mark){const n=As(e);return n&&Ds(n,t)&&"abbreviation"===n.type?(ll(e,n.abbreviation,n.range,n.config),void Ps(e,{skipRemove:!0})):_a(e)}return _s(e,(n,r)=>{const i=n.getActivationContext(r,t);if(i){const n=e.posFromIndex(t),r=e.getLine(n.line),o=vs(r,n.ch,$a(i.syntax));if(o){const r=t-n.ch;return void ll(e,o.abbreviation,[o.start+r,o.end+r],i)}}return _a(e)})}function ll(e,t,n,r){const i=gs(e,t,r);ha(e,n,i)}function ul(e){const t=As(e);if(!t)return _a(e);Ps(e,{force:!0})}function cl(e){Ps(e),Ms(e,ma(e))}function fl(e){let t=As(e);if(Ps(e),t&&t.forced)return;const[n,r]=Ea(e,e.listSelections()[0]);t=Ns(e,n,r,{forced:!0}),n!==r&&e.setSelection(e.posFromIndex(r))}function dl(e){const t=e.listSelections().map(t=>pl(e,t.anchor,t.head));if(!t.some(Boolean))return _a(e);e.operation(()=>{const n=e.listSelections(),r=e.getDoc().lineSeparator(),i=ms(e),o=[];for(let a=n.length-1;a>=0;a--){const s=n[a],l=hs(e,s.anchor.line);let u=l;t[a]?(u+=i,e.replaceRange(r+u+r+l,s.anchor,s.head)):e.replaceRange(r+l,s.anchor,s.head);const c={line:s.anchor.line+1,ch:u.length};o.unshift({anchor:c,head:c})}e.setSelections(o)})}function pl(e,t,n){if(ml(t,n)){const n=e.getModeAt(t);if("xml"===n.name){const n=e.getTokenAt(t),r=e.getTokenAt(Object.assign({},t,{ch:t.ch+1}));return"tag bracket"===n.type&&">"===n.string&&"tag bracket"===r.type&&"</"===r.string}}}function hl(e,t){return e.line-t.line||e.ch-t.ch}function ml(e,t){return e.sticky===t.sticky&&0===hl(e,t)}function gl(e){function t(t){t&&t.stopPropagation(),r();const n=p.value.trim();if(n)try{const t=gs(e,n,f);ha(e,c,t),m=!0,d.classList.contains(Ac)&&(h.innerHTML="",d.classList.remove(Ac))}catch(i){m=!1,d.classList.add(Ac),h.innerHTML=Na(i),console.error(i)}}function n(e){27===e.keyCode?(e.stopPropagation(),e.preventDefault(),i()):13===e.keyCode&&(e.stopPropagation(),e.preventDefault(),o())}function r(){m&&e.undo()}function i(){r(),a(),e.focus()}function o(){a(),e.focus()}function a(){p.removeEventListener("input",t),p.removeEventListener("change",t),p.removeEventListener("paste",t),p.removeEventListener("keydown",n),p.removeEventListener("blur",i),d.remove(),d=p=h=null}const s=Ia(e),l=ma(e),u=ks(e,l,Ra(s)),c=yl(e,wl(e),u),f=Cs(e,c[0]);f.text=bl(e,c,!0);let d=vl(),p=d.querySelector("input"),h=d.querySelector(`.${Mc}-error`),m=!1;d.emmet={submit:o,cancel:i,update:t},p.addEventListener("input",t),p.addEventListener("change",t),p.addEventListener("paste",t),p.addEventListener("keydown",n),e.getWrapperElement().appendChild(d),p.focus()}function vl(){const e=document.createElement("div");return e.className=Mc,e.innerHTML=`<div class="${Mc}-wrapper">\n        <input type="text" placeholder="Enter abbreviation" autofocus />\n        <div class="${Mc}-error"></div>\n    </div>`,e}function yl(e,t,n){if(t[0]===t[1]&&n){const{open:r,close:i}=n,o=t[0];if(xl(r,o)||i&&xl(i,o))return[r[0],i?i[1]:r[1]];if(i)return pa(e,[r[1],i[0]])}return t}function bl(e,t,n=!1){const r=e.posFromIndex(t[0]),i=hs(e,r.line),o=va(e,t).split("\n"),a=o.map(e=>e.startsWith(i)?e.slice(i.length):e);return n?a:a.join("\n")}function xl(e,t){return e[0]<t&&t<e[1]}function wl(e){return Ea(e,e.listSelections()[0])}function kl(e,t){const n=Ia(e);if(!Ha(n)&&!Wa(n))return _a(e);{const r=t?Tl(e,n):_l(e,n);e.setSelections(r.map(t=>({anchor:e.posFromIndex(t[0]),head:e.posFromIndex(t[1])})))}}function Cl(e,t){const n=e[e.length-1];n&&La(n,t)||e.push(t)}function Sl(e,t,n,r){const i=ga(e);if(Wa(n))return bs(i,t,r);const o=[],a=ys(i,t,r,Ra(n));for(const e of a)e.close?(Cl(o,[e.open[1],e.close[0]]),Cl(o,[e.open[0],e.close[1]])):Cl(o,[e.open[0],e.open[1]]);return o.sort((e,t)=>r?e[0]-t[0]:t[0]-e[0])}function Tl(e,t){const n=[];for(const r of e.listSelections()){const i=Ea(e,r),o=Sl(e,i[0],t,!0);let a=o.findIndex(e=>La(i,e)),s;a<o.length-1?s=o[a+1]:-1!==a&&(s=o.find(e=>Ma(e,i))),n.push(s||i)}return n}function _l(e,t){const n=[];for(const r of e.listSelections()){const i=Ea(e,r),o=Sl(e,i[0],t),a=o.find(e=>Ma(e,i)&&e[1]>i[1]);n.push(a||i)}return n}function El(e){const t=e.listSelections().slice().reverse();e.operation(()=>{for(const n of t){const t=Ea(e,n),{syntax:r}=Fa(e,t[0]),i=r&&Wa(r)?Pc:Nc,o=Nl(e,t[0]);if(o&&o.commentStart)Ll(e,o);else if(o&&Aa(t)){let t=0;for(const n of Al(e,o.range,i).reverse())t+=Ll(e,n);Ml(e,[o.range[0],o.range[1]-t],i)}else if(Aa(t)){const t=e.getLine(n.anchor.line),r=Ea(e,{anchor:{line:n.anchor.line,ch:0},head:{line:n.anchor.line,ch:t.length}});Ml(e,pa(e,r),i)}else Ml(e,t,i)}})}function Ll(e,{range:t,commentStart:n,commentEnd:r}){const i=va(e,t);if(n&&i.startsWith(n)){let o=n.length,a=r&&i.endsWith(r)?r.length:0;Sa(i[o])&&(o+=1),a&&Sa(i[i.length-a-1])&&(a+=1);const s=ya(e,[t[1]-a,t[1]]),l=ya(e,[t[0],t[0]+o]);return e.replaceRange("",s[0],s[1]),e.replaceRange("",l[0],l[1]),o+a}return 0}function Ml(e,t,n){const[r,i]=ya(e,t);e.replaceRange(" "+n[1],i,i),e.replaceRange(n[0]+" ",r,r)}function Al(e,t,n){const r=[],i=va(e,t);let o=t[0],a=0;for(;;){const e=i.indexOf(n[0],a);if(-1===e)break;{a=e+n[0].length;const t=i.indexOf(n[1],a);-1!==t&&(a=t+n[1].length,r.push({range:[o+e,o+a],commentStart:n[0],commentEnd:n[1]}))}}return r}function Nl(e,t){const{syntax:n}=Fa(e,t);if(n){if(Ha(n))return Pl(ga(e),t,Ra(n));if(Wa(n)){const n=ga(e),r=Ol(n,t);if(r)return r;const i=pn(n,t);if(i)return{range:[i.start,i.end]}}}}function Pl(e,t,n=!1){const r=[],i=[],o=Tt({xml:n,allTokens:!0});let a;return Ht(e,(e,n,s,l)=>{if(1===n&&Dl(e,o)&&(n=3),1===n)i.push(Fl(r,e,s,l));else if(3===n){if(s<t&&t<l)return a={range:[s,l]},!1}else if(2===n){const n=Il(i);if(n&&n.name===e){if(n.start<t&&t<l)return a={range:[n.start,l]},!1;i.length&&zl(r,i.pop())}}else if(s<t&&t<l)return a={range:[s,l]},6===n&&(a.commentStart=Nc[0],a.commentEnd=Nc[1]),!1},o),i.length=r.length=0,a}function Ol(e,t){const n=new au(e);for(;!n.eof()&&t>n.pos;){const e=n.pos;if(jl(n,47,42)){for(;!n.eof()&&!jl(n,42,47);)n.pos++;if(e<t&&t<n.pos)return{range:[e,n.pos],commentStart:Pc[0],commentEnd:Pc[1]}}else if(jl(n,47,47)){for(;!n.eof()&&!n.eat(13)&&!n.eat(10);)n.pos++;if(e<t&&t<n.pos)return{range:[e,n.pos],commentStart:"//"}}else n.pos++}}function jl(e,t,n){const{pos:r}=e;return!(!e.eat(t)||!e.eat(n))||(e.pos=r,!1)}function Dl(e,t){return!t.xml&&t.empty.includes(e)}function Fl(e,t,n,r){if(e.length){const i=e.pop();return i.name=t,i.start=n,i.end=r,i}return{name:t,start:n,end:r}}function zl(e,t){e.push(t)}function Il(e){return e.length?e[e.length-1]:null}function $l(e){const t=e.getCursor(),n=e.getLine(t.line),r=ws(n,t.ch);if(r){const n={line:t.line,ch:r.start},i={line:t.line,ch:r.end};e.replaceRange(r.snippet,n,i)}}function Rl(e,t){const n=ma(e),r=Hl(e,n+t,t);null!=r&&e.setCursor(e.posFromIndex(r))}function Hl(e,t,n){const r=ga(e),i=r.length;let o=t;for(;o<i&&o>=0;){const t=r[o+=n],i=r[o+1],a=r[o-1];if(wa(t)&&i===t&&"="===a)return o+1;if("<"===t&&">"===a)return o;if(Bl(t)){const t=e.posFromIndex(o),n=e.getLine(t.line);if(!n||Sa(n))return e.indexFromPos({line:t.line,ch:n.length})}}}function Bl(e){return"\r"===e||"\n"===e}function Wl(e){let t=ma(e);const n=[t,Math.min(t+1,e.getValue().length)];"<"===va(e,n)&&t++;const{syntax:r}=Fa(e,t);if(Ha(r)){const n=ks(e,t,Ra(r));if(n&&n.open&&n.close){const{open:r,close:i}=n,o=r[0]<=t&&t<r[1]?i[0]:r[0];e.setCursor(e.posFromIndex(o))}}}function ql(e,t=1){e.operation(()=>{const n=e.listSelections().slice().reverse().map(n=>{let r=Ea(e,n);if(Aa(r)){const t=e.getLine(n.anchor.line),i=n.anchor.ch,o=Ul(t,i);o&&(r=[r[0]-i+o[0],r[0]-i+o[1]])}if(!Aa(r)){let i=Vl(va(e,r),t);ha(e,r,i),n={anchor:e.posFromIndex(r[0]),head:e.posFromIndex(r[0]+i.length)}}return n});e.setSelections(n)})}function Ul(t,n){let r=!1,i=n,o=n,a;const s=t.length;for(;i<s;){if(Gl(a=t.charCodeAt(i))){if(r)break;r=!0}else if(!e(a))break;i++}for(;o>=0;){if(Gl(a=t.charCodeAt(o-1))){if(r)break;r=!0}else if(!e(a))break;o--}if(o>0&&"-"===t[o-1]&&o--,o!==i)return[o,i]}function Vl(e,t,n=3){const r=parseFloat(e)+t;if(isNaN(r))return e;const i=r<0;let o=Math.abs(r).toFixed(n);return o=o.replace(/\.?0+$/,""),"."!==e[0]&&!e.startsWith("-.")||"0"!==o[0]||(o=o.slice(1)),(i?"-":"")+o}function Gl(e){return 46===e}function Kl(e){e.operation(()=>{const t=e.listSelections().slice().reverse().map(t=>{const n=ks(e,e.indexFromPos(t.anchor));if(n){Xl(e,n);const t=e.posFromIndex(n.open[0]);return{anchor:t,head:t}}return t});e.setSelections(t)})}function Xl(e,{open:t,close:n}){if(n){const r=pa(e,[t[1],n[0]]);if(Aa(r))ha(e,[t[0],n[1]],"");else{ha(e,[r[1],n[1]],"");const i=e.posFromIndex(t[0]),o=e.posFromIndex(n[1]);if(i.line!==o.line){let n=i.line+2;const a=Yl(e,t[0]),s=Yl(e,r[0]);for(;n<=o.line;){const t=e.indexFromPos({line:n,ch:0}),r=[t,t+s.length];Sa(va(e,r))&&(console.log('replace "%s" with "%s"',va(e,r),a),ha(e,r,a)),n++}}ha(e,[t[0],r[0]],"")}}else ha(e,t,"")}function Yl(e,t){return hs(e,e.posFromIndex(t).line)}function Jl(e,t=!1){const n=Ia(e);if(!Wa(n)&&!Ha(n))return;const r=e.listSelections()[0],i=Ea(e,r),o=ga(e);let a=xs(o,i[0],Wa(n),t);if(a){let r=Zl(i,a.ranges,t);if(!r){const e=t?a.start:a.end;(a=xs(o,e,Wa(n),t))&&(r=Zl(i,a.ranges,t))}if(r){const[t,n]=ya(e,r);e.setSelection(t,n)}}}function Zl(e,t,n=!1){n&&(t=t.slice().reverse());let r=!1,i;for(const o of t){if(r)return o;La(o,e)?r=!0:!i&&(Ma(o,e)||n&&o[0]<=e[0]||!n&&o[0]>=e[0])&&(i=o)}if(!r)return i}function Ql(e){const t=e.listSelections().slice().reverse(),n=[];e.operation(()=>{for(const r of t){const t=e.indexFromPos(r.anchor),{syntax:i}=Fa(e,t),o=ks(e,t,Ra(i));if(o){const{open:t,close:r}=o;if(r){ha(e,[t[1],r[1]],"");let i=Sa(eu(e,t[1]-2))?"/":" /";ha(e,[t[1]-1,t[1]-1],i),n.push(tu(e,t[1]+i.length))}else{const r=`</${o.name}>`;if(ha(e,[t[1],t[1]],r),"/"===eu(e,t[1]-2)){let r=t[1]-2,i=t[1]-1;Sa(eu(e,r-1))&&r--,ha(e,[r,i],""),n.push(tu(e,t[1]-i+r))}else n.push(tu(e,t[1]))}}else n.push(r)}e.setSelections(n)})}function eu(e,t){return va(e,[t,t+1])}function tu(e,t){const n=e.posFromIndex(t);return{anchor:n,head:n}}function nu(e){Object.assign(e.commands,{emmetExpandAbbreviation:e=>al(e,!0),emmetExpandAbbreviationAll:e=>al(e,!1),emmetCaptureAbbreviation:cl,emmetResetAbbreviation:ul,emmetEnterAbbreviationMode:fl,emmetInsertLineBreak:dl,emmetWrapWithAbbreviation:gl,emmetBalance:kl,emmetBalanceInward:e=>kl(e,!0),emmetToggleComment:El,emmetEvaluateMath:$l,emmetGoToNextEditPoint:e=>Rl(e,1),emmetGoToPreviousEditPoint:e=>Rl(e,-1),emmetGoToTagPair:Wl,emmetIncrementNumber1:e=>ql(e,1),emmetIncrementNumber01:e=>ql(e,.1),emmetIncrementNumber10:e=>ql(e,10),emmetDecrementNumber1:e=>ql(e,-1),emmetDecrementNumber01:e=>ql(e,-.1),emmetDecrementNumber10:e=>ql(e,-10),emmetRemoveTag:Kl,emmetSelectNextItem:e=>Jl(e),emmetSelectPreviousItem:e=>Jl(e,!0),emmetSplitJoinTag:Ql}),e.defineOption("emmet",du,(e,t)=>{Oa(e)||(e.on("change",ru),e.on("change",iu));const n=ja(e);(t=St(e,t)).mark&&!n.tracker?n.tracker=Ts(e):!t.mark&&n.tracker&&(n.tracker(),n.tracker=null),t.markTagPairs&&!n.tagMatch?n.tagMatch=Fs(e):!t.markTagPairs&&n.tagMatch&&(n.tagMatch(),n.tagMatch=null)}),e.defineMode("emmet-abbreviation",Qs),e.defineMode("emmet-css-abbreviation",tl),e.defineMode("emmet-snippet",rl),e.defineExtension("expandAbbreviation",function(e,t=Cs(this,0)){return gs(this,e,t)}),e.defineExtension("emmetOptions",function(e=0){return Cs(this,e)}),e.defineExtension("parseAbbreviation",function(e,t){return"stylesheet"===t?at(Ne(e)):g(Y(e),{jsx:"jsx"===t})}),e.defineExtension("getEmmetCompletion",function(e){return"number"!=typeof e&&(e=this.indexFromPos(e)),Os(this,e)})}function ru(e,t){if("undo"===t.origin&&1===t.text.length){const n=e.indexFromPos(t.from),r=t.text[0];js(e,n,r)}}function iu(e,t){if("paste"===t.origin&&1===t.text.length&&Es(e,e.indexFromPos(t.from))){const n=e.indexFromPos(t.from)+t.text[0].length;Ms(e,n,!0)}}const ou={escape:92,throws:!1};class au{constructor(e,t,n){null==n&&"string"==typeof e&&(n=e.length),this.string=e,this.pos=this.start=t||0,this.end=n||0}eof(){return this.pos>=this.end}limit(e,t){return new au(this.string,e,t)}peek(){return this.string.charCodeAt(this.pos)}next(){if(this.pos<this.string.length)return this.string.charCodeAt(this.pos++)}eat(e){const t=this.peek(),n="function"==typeof e?e(t):t===e;return n&&this.next(),n}eatWhile(e){const t=this.pos;for(;!this.eof()&&this.eat(e););return this.pos!==t}backUp(e){this.pos-=e||1}current(){return this.substring(this.start,this.pos)}substring(e,t){return this.string.slice(e,t)}error(e,t=this.pos){return new su(`${e} at ${t+1}`,t,this.string)}}class su extends Error{constructor(e,t,n){super(e),this.pos=t,this.string=n}}const lu={child:">","class":".",climb:"^",id:"#",equal:"=",close:"/",sibling:"+"},uu={Literal:e=>e.value,Quote:e=>e.single?"'":'"',Bracket:e=>"attribute"===e.context?e.open?"[":"]":"expression"===e.context?e.open?"{":"}":e.open?"(":"}",Operator:e=>lu[e.operator],Field:(e,t)=>null!=e.index?e.name?`\${${e.index}:${e.name}}`:`\${${e.index}`:e.name?t.getVariable(e.name):"",RepeaterPlaceholder(e,t){let n;for(let e=t.repeaters.length-1;e>=0;e--)if(t.repeaters[e].implicit){n=t.repeaters[e];break}return t.inserted=!0,t.getText(n&&n.value)},RepeaterNumber(e,t){let n=1;const r=t.repeaters.length-1,i=t.repeaters[r];if(i&&(n=e.reverse?e.base+i.count-i.value-1:e.base+i.value,e.parent)){const o=Math.max(0,r-e.parent);if(o!==r){const e=t.repeaters[o];n+=i.count*e.value}}let o=String(n);for(;o.length<e.size;)o="0"+o;return o},WhiteSpace:e=>e.value},cu=/^((https?:|ftp:|file:)?\/\/|(www|ftp)\.)[^ ]*$/,fu=/^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,5}$/,du={mark:!0,preview:!0,autoRenameTags:!0,markTagPairs:!0,previewOpenTag:!1,attributeQuotes:"double",markupStyle:"html",comments:!1,commentsTemplate:"<!-- /[#ID][.CLASS] -->",bem:!1},pu={xml:!1,allTokens:!1,special:{style:null,script:["","text/javascript","application/x-javascript","javascript","typescript","ts","coffee","coffeescript"]},empty:["img","meta","link","br","base","hr","area","wbr","col","embed","input","param","source","track"]},hu={throws:!1},mu=_t("<![CDATA["),gu=_t("]]>"),vu=_t("<!--"),yu=_t("-->"),bu=_t("<?"),xu=_t("?>"),wu=_t("<%"),ku=_t("%>"),Cu=[43,47,42,44],Su={p:"span",ul:"li",ol:"li",table:"tr",tr:"td",tbody:"tr",thead:"tr",tfoot:"tr",colgroup:"col",select:"option",optgroup:"option",audio:"source",video:"source",object:"param",map:"area"};var Tu,_u,Eu;const Lu={ru:{common:["\u0434\u0430\u043b\u0435\u043a\u043e-\u0434\u0430\u043b\u0435\u043a\u043e","\u0437\u0430","\u0441\u043b\u043e\u0432\u0435\u0441\u043d\u044b\u043c\u0438","\u0433\u043e\u0440\u0430\u043c\u0438","\u0432 \u0441\u0442\u0440\u0430\u043d\u0435","\u0433\u043b\u0430\u0441\u043d\u044b\u0445","\u0438 \u0441\u043e\u0433\u043b\u0430\u0441\u043d\u044b\u0445","\u0436\u0438\u0432\u0443\u0442","\u0440\u044b\u0431\u043d\u044b\u0435","\u0442\u0435\u043a\u0441\u0442\u044b"],words:["\u0432\u0434\u0430\u043b\u0438","\u043e\u0442 \u0432\u0441\u0435\u0445","\u043e\u043d\u0438","\u0431\u0443\u043a\u0432\u0435\u043d\u043d\u044b\u0445","\u0434\u043e\u043c\u0430\u0445","\u043d\u0430 \u0431\u0435\u0440\u0435\u0433\u0443","\u0441\u0435\u043c\u0430\u043d\u0442\u0438\u043a\u0430","\u0431\u043e\u043b\u044c\u0448\u043e\u0433\u043e","\u044f\u0437\u044b\u043a\u043e\u0432\u043e\u0433\u043e","\u043e\u043a\u0435\u0430\u043d\u0430","\u043c\u0430\u043b\u0435\u043d\u044c\u043a\u0438\u0439","\u0440\u0443\u0447\u0435\u0435\u043a","\u0434\u0430\u043b\u044c","\u0436\u0443\u0440\u0447\u0438\u0442","\u043f\u043e \u0432\u0441\u0435\u0439","\u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0432\u0430\u0435\u0442","\u0435\u0435","\u0432\u0441\u0435\u043c\u0438","\u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u043c\u0438","\u043f\u0440\u0430\u0432\u0438\u043b\u0430\u043c\u0438","\u044d\u0442\u0430","\u043f\u0430\u0440\u0430\u0434\u0438\u0433\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f","\u0441\u0442\u0440\u0430\u043d\u0430","\u043a\u043e\u0442\u043e\u0440\u043e\u0439","\u0436\u0430\u0440\u0435\u043d\u043d\u044b\u0435","\u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u044f","\u0437\u0430\u043b\u0435\u0442\u0430\u044e\u0442","\u043f\u0440\u044f\u043c\u043e","\u0440\u043e\u0442","\u0434\u0430\u0436\u0435","\u0432\u0441\u0435\u043c\u043e\u0433\u0443\u0449\u0430\u044f","\u043f\u0443\u043d\u043a\u0442\u0443\u0430\u0446\u0438\u044f","\u043d\u0435","\u0438\u043c\u0435\u0435\u0442","\u0432\u043b\u0430\u0441\u0442\u0438","\u043d\u0430\u0434","\u0440\u044b\u0431\u043d\u044b\u043c\u0438","\u0442\u0435\u043a\u0441\u0442\u0430\u043c\u0438","\u0432\u0435\u0434\u0443\u0449\u0438\u043c\u0438","\u0431\u0435\u0437\u043e\u0440\u0444\u043e\u0433\u0440\u0430\u0444\u0438\u0447\u043d\u044b\u0439","\u043e\u0431\u0440\u0430\u0437","\u0436\u0438\u0437\u043d\u0438","\u043e\u0434\u043d\u0430\u0436\u0434\u044b","\u043e\u0434\u043d\u0430","\u043c\u0430\u043b\u0435\u043d\u044c\u043a\u0430\u044f","\u0441\u0442\u0440\u043e\u0447\u043a\u0430","\u0440\u044b\u0431\u043d\u043e\u0433\u043e","\u0442\u0435\u043a\u0441\u0442\u0430","\u0438\u043c\u0435\u043d\u0438","lorem","ipsum","\u0440\u0435\u0448\u0438\u043b\u0430","\u0432\u044b\u0439\u0442\u0438","\u0431\u043e\u043b\u044c\u0448\u043e\u0439","\u043c\u0438\u0440","\u0433\u0440\u0430\u043c\u043c\u0430\u0442\u0438\u043a\u0438","\u0432\u0435\u043b\u0438\u043a\u0438\u0439","\u043e\u043a\u0441\u043c\u043e\u043a\u0441","\u043f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0436\u0434\u0430\u043b","\u043e","\u0437\u043b\u044b\u0445","\u0437\u0430\u043f\u044f\u0442\u044b\u0445","\u0434\u0438\u043a\u0438\u0445","\u0437\u043d\u0430\u043a\u0430\u0445","\u0432\u043e\u043f\u0440\u043e\u0441\u0430","\u043a\u043e\u0432\u0430\u0440\u043d\u044b\u0445","\u0442\u043e\u0447\u043a\u0430\u0445","\u0437\u0430\u043f\u044f\u0442\u043e\u0439","\u043d\u043e","\u0442\u0435\u043a\u0441\u0442","\u0434\u0430\u043b","\u0441\u0431\u0438\u0442\u044c","\u0441\u0435\u0431\u044f","\u0442\u043e\u043b\u043a\u0443","\u043e\u043d","\u0441\u043e\u0431\u0440\u0430\u043b","\u0441\u0435\u043c\u044c","\u0441\u0432\u043e\u0438\u0445","\u0437\u0430\u0433\u043b\u0430\u0432\u043d\u044b\u0445","\u0431\u0443\u043a\u0432","\u043f\u043e\u0434\u043f\u043e\u044f\u0441\u0430\u043b","\u0438\u043d\u0438\u0446\u0438\u0430\u043b","\u0437\u0430","\u043f\u043e\u044f\u0441","\u043f\u0443\u0441\u0442\u0438\u043b\u0441\u044f","\u0434\u043e\u0440\u043e\u0433\u0443","\u0432\u0437\u043e\u0431\u0440\u0430\u0432\u0448\u0438\u0441\u044c","\u043f\u0435\u0440\u0432\u0443\u044e","\u0432\u0435\u0440\u0448\u0438\u043d\u0443","\u043a\u0443\u0440\u0441\u0438\u0432\u043d\u044b\u0445","\u0433\u043e\u0440","\u0431\u0440\u043e\u0441\u0438\u043b","\u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439","\u0432\u0437\u0433\u043b\u044f\u0434","\u043d\u0430\u0437\u0430\u0434","\u0441\u0438\u043b\u0443\u044d\u0442","\u0441\u0432\u043e\u0435\u0433\u043e","\u0440\u043e\u0434\u043d\u043e\u0433\u043e","\u0433\u043e\u0440\u043e\u0434\u0430","\u0431\u0443\u043a\u0432\u043e\u0433\u0440\u0430\u0434","\u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a","\u0434\u0435\u0440\u0435\u0432\u043d\u0438","\u0430\u043b\u0444\u0430\u0432\u0438\u0442","\u043f\u043e\u0434\u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a","\u0441\u0432\u043e\u0435\u0433\u043e","\u043f\u0435\u0440\u0435\u0443\u043b\u043a\u0430","\u0433\u0440\u0443\u0441\u0442\u043d\u044b\u0439","\u0440\u0435\u0442\u043e\u0440\u0438\u0447\u0435\u0441\u043a\u0438\u0439","\u0432\u043e\u043f\u0440\u043e\u0441","\u0441\u043a\u0430\u0442\u0438\u043b\u0441\u044f","\u0435\u0433\u043e","\u0449\u0435\u043a\u0435","\u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u043b","\u0441\u0432\u043e\u0439","\u043f\u0443\u0442\u044c","\u0434\u043e\u0440\u043e\u0433\u0435","\u0432\u0441\u0442\u0440\u0435\u0442\u0438\u043b","\u0440\u0443\u043a\u043e\u043f\u0438\u0441\u044c","\u043e\u043d\u0430","\u043f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0434\u0438\u043b\u0430","\u043c\u043e\u0435\u0439","\u0432\u0441\u0435","\u043f\u0435\u0440\u0435\u043f\u0438\u0441\u044b\u0432\u0430\u0435\u0442\u0441\u044f","\u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e","\u0440\u0430\u0437","\u0435\u0434\u0438\u043d\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0435","\u0447\u0442\u043e","\u043c\u0435\u043d\u044f","\u043e\u0441\u0442\u0430\u043b\u043e\u0441\u044c","\u044d\u0442\u043e","\u043f\u0440\u0438\u0441\u0442\u0430\u0432\u043a\u0430","\u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0439\u0441\u044f","\u0442\u044b","\u043b\u0443\u0447\u0448\u0435","\u0441\u0432\u043e\u044e","\u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u0443\u044e","\u0441\u0442\u0440\u0430\u043d\u0443","\u043f\u043e\u0441\u043b\u0443\u0448\u0430\u0432\u0448\u0438\u0441\u044c","\u0440\u0443\u043a\u043e\u043f\u0438\u0441\u0438","\u043d\u0430\u0448","\u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u043b","\u0441\u0432\u043e\u0439","\u043f\u0443\u0442\u044c","\u0432\u0441\u043a\u043e\u0440\u0435","\u0435\u043c\u0443","\u043f\u043e\u0432\u0441\u0442\u0440\u0435\u0447\u0430\u043b\u0441\u044f","\u043a\u043e\u0432\u0430\u0440\u043d\u044b\u0439","\u0441\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u0435\u043b\u044c","\u0440\u0435\u043a\u043b\u0430\u043c\u043d\u044b\u0445","\u0442\u0435\u043a\u0441\u0442\u043e\u0432","\u043d\u0430\u043f\u043e\u0438\u0432\u0448\u0438\u0439","\u044f\u0437\u044b\u043a\u043e\u043c","\u0440\u0435\u0447\u044c\u044e","\u0437\u0430\u043c\u0430\u043d\u0438\u0432\u0448\u0438\u0439","\u0441\u0432\u043e\u0435","\u0430\u0433\u0435\u043d\u0442\u0441\u0442\u0432\u043e","\u043a\u043e\u0442\u043e\u0440\u043e\u0435","\u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043b\u043e","\u0441\u043d\u043e\u0432\u0430","\u0441\u043d\u043e\u0432\u0430","\u0441\u0432\u043e\u0438\u0445","\u043f\u0440\u043e\u0435\u043a\u0442\u0430\u0445","\u0435\u0441\u043b\u0438","\u043f\u0435\u0440\u0435\u043f\u0438\u0441\u0430\u043b\u0438","\u0442\u043e","\u0436\u0438\u0432\u0435\u0442","\u0442\u0430\u043c","\u0434\u043e","\u0441\u0438\u0445","\u043f\u043e\u0440"]},sp:{common:["mujer","uno","dolor","m\xe1s","de","poder","mismo","si"],words:["ejercicio","preferencia","perspicacia","laboral","pa\xf1o","suntuoso","molde","namibia","planeador","mirar","dem\xe1s","oficinista","excepci\xf3n","odio","consecuencia","casi","auto","chicharra","velo","elixir","ataque","no","odio","temporal","cu\xf3rum","dign\xedsimo","facilismo","letra","nihilista","expedici\xf3n","alma","alveolar","aparte","le\xf3n","animal","como","paria","belleza","modo","natividad","justo","ataque","s\xe9quito","pillo","sed","ex","y","voluminoso","temporalidad","verdades","racional","asunci\xf3n","incidente","marejada","placenta","amanecer","fuga","previsor","presentaci\xf3n","lejos","necesariamente","sospechoso","adiposidad","quind\xedo","p\xf3cima","voluble","d\xe9bito","sinti\xf3","accesorio","falda","sapiencia","volutas","queso","permacultura","laudo","soluciones","entero","pan","litro","tonelada","culpa","libertario","mosca","dictado","reincidente","nascimiento","dolor","escolar","impedimento","m\xednima","mayores","repugnante","dulce","obcecado","monta\xf1a","enigma","total","delet\xe9reo","d\xe9cima","c\xe1bala","fotograf\xeda","dolores","molesto","olvido","paciencia","resiliencia","voluntad","molestias","magn\xedfico","distinci\xf3n","ovni","marejada","cerro","torre","y","abogada","manantial","corporal","agua","crep\xfasculo","ataque","desierto","laboriosamente","angustia","afortunado","alma","encefalograma","materialidad","cosas","o","renuncia","error","menos","conejo","abad\xeda","analfabeto","remo","fugacidad","oficio","en","alm\xe1cigo","vos","pan","represi\xf3n","n\xfameros","triste","refugiado","trote","inventor","corchea","repelente","magma","recusado","patr\xf3n","expl\xedcito","paloma","s\xedndrome","inmune","autoinmune","comodidad","ley","vietnamita","demonio","tasmania","repeler","ap\xe9ndice","arquitecto","columna","yugo","computador","mula","a","prop\xf3sito","fantas\xeda","alias","rayo","tenedor","deleznable","ventana","cara","anemia","corrupto"]},latin:{common:["lorem","ipsum","dolor","sit","amet","consectetur","adipisicing","elit"],words:["exercitationem","perferendis","perspiciatis","laborum","eveniet","sunt","iure","nam","nobis","eum","cum","officiis","excepturi","odio","consectetur","quasi","aut","quisquam","vel","eligendi","itaque","non","odit","tempore","quaerat","dignissimos","facilis","neque","nihil","expedita","vitae","vero","ipsum","nisi","animi","cumque","pariatur","velit","modi","natus","iusto","eaque","sequi","illo","sed","ex","et","voluptatibus","tempora","veritatis","ratione","assumenda","incidunt","nostrum","placeat","aliquid","fuga","provident","praesentium","rem","necessitatibus","suscipit","adipisci","quidem","possimus","voluptas","debitis","sint","accusantium","unde","sapiente","voluptate","qui","aspernatur","laudantium","soluta","amet","quo","aliquam","saepe","culpa","libero","ipsa","dicta","reiciendis","nesciunt","doloribus","autem","impedit","minima","maiores","repudiandae","ipsam","obcaecati","ullam","enim","totam","delectus","ducimus","quis","voluptates","dolores","molestiae","harum","dolorem","quia","voluptatem","molestias","magni","distinctio","omnis","illum","dolorum","voluptatum","ea","quas","quam","corporis","quae","blanditiis","atque","deserunt","laboriosam","earum","consequuntur","hic","cupiditate","quibusdam","accusamus","ut","rerum","error","minus","eius","ab","ad","nemo","fugit","officia","at","in","id","quos","reprehenderit","numquam","iste","fugiat","sit","inventore","beatae","repellendus","magnam","recusandae","quod","explicabo","doloremque","aperiam","consequatur","asperiores","commodi","optio","dolor","labore","temporibus","repellat","veniam","architecto","est","esse","mollitia","nulla","a","similique","eos","alias","dolore","tenetur","deleniti","porro","facere","maxime","corrupti"]}},Mu=/^lorem([a-z]*)(\d*)(-\d*)?$/i,Au=/^(-+)([a-z0-9]+[a-z0-9-]*)/i,Nu=/^(_+)([a-z0-9]+[a-z0-9-_]*)/i,Pu=e=>/^[a-z]\-/i.test(e),Ou=e=>/^[a-z]/i.test(e),ju=[{type:"Field",index:0,name:""}],Du=/^<([\w\-:]+)[\s>]/,Fu={html:Rr,haml:ri,slim:ii,pug:oi},zu=/^([a-z-]+)(?:\s*:\s*([^\n\r;]+?);*)?$/,Iu={value:!0},$u="lg";var Ru,Hu={"@f":"@font-face {\n\tfont-family: ${1};\n\tsrc: url(${2});\n}","@ff":"@font-face {\n\tfont-family: '${1:FontName}';\n\tsrc: url('${2:FileName}.eot');\n\tsrc: url('${2:FileName}.eot?#iefix') format('embedded-opentype'),\n\t\t url('${2:FileName}.woff') format('woff'),\n\t\t url('${2:FileName}.ttf') format('truetype'),\n\t\t url('${2:FileName}.svg#${1:FontName}') format('svg');\n\tfont-style: ${3:normal};\n\tfont-weight: ${4:normal};\n}","@i|@import":"@import url(${0});","@kf":"@keyframes ${1:identifier} {\n\t${2}\n}","@m|@media":"@media ${1:screen} {\n\t${0}\n}",ac:"align-content:start|end|flex-start|flex-end|center|space-between|space-around|stretch|space-evenly",ai:"align-items:start|end|flex-start|flex-end|center|baseline|stretch",anim:"animation:${1:name} ${2:duration} ${3:timing-function} ${4:delay} ${5:iteration-count} ${6:direction} ${7:fill-mode}",animdel:"animation-delay:time",animdir:"animation-direction:normal|reverse|alternate|alternate-reverse",animdur:"animation-duration:${1:0}s",animfm:"animation-fill-mode:both|forwards|backwards",animic:"animation-iteration-count:1|infinite",animn:"animation-name",animps:"animation-play-state:running|paused",animtf:"animation-timing-function:linear|ease|ease-in|ease-out|ease-in-out|cubic-bezier(${1:0.1}, ${2:0.7}, ${3:1.0}, ${3:0.1})",ap:"appearance:none",as:"align-self:start|end|auto|flex-start|flex-end|center|baseline|stretch",b:"bottom",bd:"border:${1:1px} ${2:solid} ${3:#000}",bdb:"border-bottom:${1:1px} ${2:solid} ${3:#000}",bdbc:"border-bottom-color:${1:#000}",bdbi:"border-bottom-image:url(${0})",bdbk:"border-break:close",bdbli:"border-bottom-left-image:url(${0})|continue",bdblrs:"border-bottom-left-radius",bdbri:"border-bottom-right-image:url(${0})|continue",bdbrrs:"border-bottom-right-radius",bdbs:"border-bottom-style",bdbw:"border-bottom-width",bdc:"border-color:${1:#000}",bdci:"border-corner-image:url(${0})|continue",bdcl:"border-collapse:collapse|separate",bdf:"border-fit:repeat|clip|scale|stretch|overwrite|overflow|space",bdi:"border-image:url(${0})",bdl:"border-left:${1:1px} ${2:solid} ${3:#000}",bdlc:"border-left-color:${1:#000}",bdlen:"border-length",bdli:"border-left-image:url(${0})",bdls:"border-left-style",bdlw:"border-left-width",bdr:"border-right:${1:1px} ${2:solid} ${3:#000}",bdrc:"border-right-color:${1:#000}",bdri:"border-right-image:url(${0})",bdrs:"border-radius",bdrst:"border-right-style",bdrw:"border-right-width",bds:"border-style:none|hidden|dotted|dashed|solid|double|dot-dash|dot-dot-dash|wave|groove|ridge|inset|outset",bdsp:"border-spacing",bdt:"border-top:${1:1px} ${2:solid} ${3:#000}",bdtc:"border-top-color:${1:#000}",bdti:"border-top-image:url(${0})",bdtli:"border-top-left-image:url(${0})|continue",bdtlrs:"border-top-left-radius",bdtri:"border-top-right-image:url(${0})|continue",bdtrrs:"border-top-right-radius",bdts:"border-top-style",bdtw:"border-top-width",bdw:"border-width",bfv:"backface-visibility:hidden|visible",bg:"background:${1:#000}",bga:"background-attachment:fixed|scroll",bgbk:"background-break:bounding-box|each-box|continuous",bgc:"background-color:#${1:fff}",bgcp:"background-clip:padding-box|border-box|content-box|no-clip",bgi:"background-image:url(${0})",bgo:"background-origin:padding-box|border-box|content-box",bgp:"background-position:${1:0} ${2:0}",bgpx:"background-position-x",bgpy:"background-position-y",bgr:"background-repeat:no-repeat|repeat-x|repeat-y|space|round",bgsz:"background-size:contain|cover",bxsh:"box-shadow:${1:inset }${2:hoff} ${3:voff} ${4:blur} ${5:#000}|none",bxsz:"box-sizing:border-box|content-box|border-box",c:"color:${1:#000}",cr:"color:rgb(${1:0}, ${2:0}, ${3:0})",cra:"color:rgba(${1:0}, ${2:0}, ${3:0}, ${4:.5})",cl:"clear:both|left|right|none",cm:"/* ${0} */",cnt:"content:'${0}'|normal|open-quote|no-open-quote|close-quote|no-close-quote|attr(${0})|counter(${0})|counters(${0})",coi:"counter-increment",colm:"columns",colmc:"column-count",colmf:"column-fill",colmg:"column-gap",colmr:"column-rule",colmrc:"column-rule-color",colmrs:"column-rule-style",colmrw:"column-rule-width",colms:"column-span",colmw:"column-width",cor:"counter-reset",cp:"clip:auto|rect(${1:top} ${2:right} ${3:bottom} ${4:left})",cps:"caption-side:top|bottom",cur:"cursor:pointer|auto|default|crosshair|hand|help|move|pointer|text",d:"display:block|none|flex|inline-flex|inline|inline-block|grid|inline-grid|subgrid|list-item|run-in|compact|table|inline-table|table-caption|table-column|table-column-group|table-header-group|table-footer-group|table-row|table-row-group|table-cell|ruby|ruby-base|ruby-base-group|ruby-text|ruby-text-group",ec:"empty-cells:show|hide",f:"font:${1:1em} ${2:sans-serif}",fd:"font-display:auto|block|swap|fallback|optional",fef:"font-effect:none|engrave|emboss|outline",fem:"font-emphasize",femp:"font-emphasize-position:before|after",fems:"font-emphasize-style:none|accent|dot|circle|disc",ff:"font-family:serif|sans-serif|cursive|fantasy|monospace",fft:'font-family:"Times New Roman", Times, Baskerville, Georgia, serif',ffa:'font-family:Arial, "Helvetica Neue", Helvetica, sans-serif',ffv:"font-family:Verdana, Geneva, sans-serif",fl:"float:left|right|none",fs:"font-style:italic|normal|oblique",fsm:"font-smoothing:antialiased|subpixel-antialiased|none",fst:"font-stretch:normal|ultra-condensed|extra-condensed|condensed|semi-condensed|semi-expanded|expanded|extra-expanded|ultra-expanded",fv:"font-variant:normal|small-caps",fvs:"font-variation-settings:normal|inherit|initial|unset",fw:"font-weight:normal|bold|bolder|lighter",fx:"flex",fxb:"flex-basis:fill|max-content|min-content|fit-content|content",fxd:"flex-direction:row|row-reverse|column|column-reverse",fxf:"flex-flow",fxg:"flex-grow",fxsh:"flex-shrink",fxw:"flex-wrap:nowrap|wrap|wrap-reverse",fsz:"font-size",fsza:"font-size-adjust",gtc:"grid-template-columns:repeat()|minmax()",gtr:"grid-template-rows:repeat()|minmax()",gta:"grid-template-areas",gt:"grid-template",gg:"grid-gap",gcg:"grid-column-gap",grg:"grid-row-gap",gac:"grid-auto-columns:auto|minmax()",gar:"grid-auto-rows:auto|minmax()",gaf:"grid-auto-flow:row|column|dense|inherit|initial|unset",gd:"grid",gc:"grid-column",gcs:"grid-column-start",gce:"grid-column-end",gr:"grid-row",grs:"grid-row-start",gre:"grid-row-end",ga:"grid-area",h:"height",jc:"justify-content:start|end|stretch|flex-start|flex-end|center|space-between|space-around|space-evenly",ji:"justify-items:start|end|center|stretch",js:"justify-self:start|end|center|stretch",l:"left",lg:"background-image:linear-gradient(${1})",lh:"line-height",lis:"list-style",lisi:"list-style-image",lisp:"list-style-position:inside|outside",list:"list-style-type:disc|circle|square|decimal|decimal-leading-zero|lower-roman|upper-roman",lts:"letter-spacing:normal",m:"margin",mah:"max-height",mar:"max-resolution",maw:"max-width",mb:"margin-bottom",mih:"min-height",mir:"min-resolution",miw:"min-width",ml:"margin-left",mr:"margin-right",mt:"margin-top",ol:"outline",olc:"outline-color:${1:#000}|invert",olo:"outline-offset",ols:"outline-style:none|dotted|dashed|solid|double|groove|ridge|inset|outset",olw:"outline-width|thin|medium|thick","op|opa":"opacity",ord:"order",ori:"orientation:landscape|portrait",orp:"orphans",ov:"overflow:hidden|visible|hidden|scroll|auto",ovs:"overflow-style:scrollbar|auto|scrollbar|panner|move|marquee",ovx:"overflow-x:hidden|visible|hidden|scroll|auto",ovy:"overflow-y:hidden|visible|hidden|scroll|auto",p:"padding",pb:"padding-bottom",pgba:"page-break-after:auto|always|left|right",pgbb:"page-break-before:auto|always|left|right",pgbi:"page-break-inside:auto|avoid",pl:"padding-left",pos:"position:relative|absolute|relative|fixed|static",pr:"padding-right",pt:"padding-top",q:"quotes",qen:"quotes:'\\201C' '\\201D' '\\2018' '\\2019'",qru:"quotes:'\\00AB' '\\00BB' '\\201E' '\\201C'",r:"right",rsz:"resize:none|both|horizontal|vertical",t:"top",ta:"text-align:left|center|right|justify",tal:"text-align-last:left|center|right",tbl:"table-layout:fixed",td:"text-decoration:none|underline|overline|line-through",te:"text-emphasis:none|accent|dot|circle|disc|before|after",th:"text-height:auto|font-size|text-size|max-size",ti:"text-indent",tj:"text-justify:auto|inter-word|inter-ideograph|inter-cluster|distribute|kashida|tibetan",to:"text-outline:${1:0} ${2:0} ${3:#000}",tov:"text-overflow:ellipsis|clip",tr:"text-replace",trf:"transform:${1}|skewX(${1:angle})|skewY(${1:angle})|scale(${1:x}, ${2:y})|scaleX(${1:x})|scaleY(${1:y})|scaleZ(${1:z})|scale3d(${1:x}, ${2:y}, ${3:z})|rotate(${1:angle})|rotateX(${1:angle})|rotateY(${1:angle})|rotateZ(${1:angle})|translate(${1:x}, ${2:y})|translateX(${1:x})|translateY(${1:y})|translateZ(${1:z})|translate3d(${1:tx}, ${2:ty}, ${3:tz})",trfo:"transform-origin",trfs:"transform-style:preserve-3d",trs:"transition:${1:prop} ${2:time}",trsde:"transition-delay:${1:time}",trsdu:"transition-duration:${1:time}",trsp:"transition-property:${1:prop}",trstf:"transition-timing-function:${1:fn}",tsh:"text-shadow:${1:hoff} ${2:voff} ${3:blur} ${4:#000}",tt:"text-transform:uppercase|lowercase|capitalize|none",tw:"text-wrap:none|normal|unrestricted|suppress",us:"user-select:none",v:"visibility:hidden|visible|collapse",va:"vertical-align:top|super|text-top|middle|baseline|bottom|text-bottom|sub",w:"width",whs:"white-space:nowrap|pre|pre-wrap|pre-line|normal",whsc:"white-space-collapse:normal|keep-all|loose|break-strict|break-all",wid:"widows",wm:"writing-mode:lr-tb|lr-tb|lr-bt|rl-tb|rl-bt|tb-rl|tb-lr|bt-lr|bt-rl",wob:"word-break:normal|keep-all|break-all",wos:"word-spacing",wow:"word-wrap:none|unrestricted|suppress|break-word|normal",z:"z-index",zom:"zoom:1"},Bu={"tm|tmatch":"xsl:template[match mode]","tn|tname":"xsl:template[name]",call:"xsl:call-template[name]",ap:"xsl:apply-templates[select mode]",api:"xsl:apply-imports",imp:"xsl:import[href]",inc:"xsl:include[href]",ch:"xsl:choose","wh|xsl:when":"xsl:when[test]",ot:"xsl:otherwise","if":"xsl:if[test]",par:"xsl:param[name]",pare:"xsl:param[name select]","var":"xsl:variable[name]",vare:"xsl:variable[name select]",wp:"xsl:with-param[name select]",key:"xsl:key[name match use]",elem:"xsl:element[name]",attr:"xsl:attribute[name]",attrs:"xsl:attribute-set[name]",cp:"xsl:copy[select]",co:"xsl:copy-of[select]",val:"xsl:value-of[select]","for|each":"xsl:for-each[select]",tex:"xsl:text",com:"xsl:comment",msg:"xsl:message[terminate=no]",fall:"xsl:fallback",num:"xsl:number[value]",nam:"namespace-alias[stylesheet-prefix result-prefix]",pres:"xsl:preserve-space[elements]",strip:"xsl:strip-space[elements]",proc:"xsl:processing-instruction[name]",sort:"xsl:sort[select order]",choose:"xsl:choose>xsl:when+xsl:otherwise",xsl:"!!!+xsl:stylesheet[version=1.0 xmlns:xsl=http://www.w3.org/1999/XSL/Transform]>{\n|}","!!!":'{<?xml version="1.0" encoding="UTF-8"?>}'},Wu={"!!!":"{doctype html}"},qu;const Uu={markup:"html",stylesheet:"css"},Vu={inlineElements:["a","abbr","acronym","applet","b","basefont","bdo","big","br","button","cite","code","del","dfn","em","font","i","iframe","img","input","ins","kbd","label","map","object","q","s","samp","select","small","span","strike","strong","sub","sup","textarea","tt","u","var"],"output.indent":"\t","output.baseIndent":"","output.newline":"\n","output.tagCase":"","output.attributeCase":"","output.attributeQuotes":"double","output.format":!0,"output.formatLeafNode":!1,"output.formatSkip":["html"],"output.formatForce":["body"],"output.inlineBreak":3,"output.compactBoolean":!1,"output.booleanAttributes":["contenteditable","seamless","async","autofocus","autoplay","checked","controls","defer","disabled","formnovalidate","hidden","ismap","loop","multiple","muted","novalidate","readonly","required","reversed","selected","typemustmatch"],"output.reverseAttributes":!1,"output.selfClosingStyle":"html","output.field":(e,t)=>t,"output.text":e=>e,"markup.href":!0,"comment.enabled":!1,"comment.trigger":["id","class"],"comment.before":"","comment.after":"\n<!-- /[#ID][.CLASS] -->","bem.enabled":!1,"bem.element":"__","bem.modifier":"_","jsx.enabled":!1,"stylesheet.keywords":["auto","inherit","unset","none"],"stylesheet.unitless":["z-index","line-height","opacity","font-weight","zoom","flex","flex-grow","flex-shrink"],"stylesheet.shortHex":!0,"stylesheet.between":": ","stylesheet.after":";","stylesheet.intUnit":"px","stylesheet.floatUnit":"em","stylesheet.unitAliases":{e:"em",p:"%",x:"ex",r:"rem"},"stylesheet.json":!1,"stylesheet.jsonDoubleQuotes":!1,"stylesheet.fuzzySearchMinScore":0},Gu={type:"markup",syntax:"html",variables:{lang:"en",locale:"en-US",charset:"UTF-8",indentation:"\t",newline:"\n"},snippets:{},options:Vu},Ku={markup:{snippets:Qi({a:"a[href]","a:blank":"a[href='http://${0}' target='_blank' rel='noopener noreferrer']","a:link":"a[href='http://${0}']","a:mail":"a[href='mailto:${0}']","a:tel":"a[href='tel:+${0}']",abbr:"abbr[title]","acr|acronym":"acronym[title]",base:"base[href]/",basefont:"basefont/",br:"br/",frame:"frame/",hr:"hr/",bdo:"bdo[dir]","bdo:r":"bdo[dir=rtl]","bdo:l":"bdo[dir=ltr]",col:"col/",link:"link[rel=stylesheet href]/","link:css":"link[href='${1:style}.css']","link:print":"link[href='${1:print}.css' media=print]","link:favicon":"link[rel='shortcut icon' type=image/x-icon href='${1:favicon.ico}']","link:mf|link:manifest":"link[rel='manifest' href='${1:manifest.json}']","link:touch":"link[rel=apple-touch-icon href='${1:favicon.png}']","link:rss":"link[rel=alternate type=application/rss+xml title=RSS href='${1:rss.xml}']","link:atom":"link[rel=alternate type=application/atom+xml title=Atom href='${1:atom.xml}']","link:im|link:import":"link[rel=import href='${1:component}.html']",meta:"meta/","meta:utf":"meta[http-equiv=Content-Type content='text/html;charset=UTF-8']","meta:vp":"meta[name=viewport content='width=${1:device-width}, initial-scale=${2:1.0}']","meta:compat":"meta[http-equiv=X-UA-Compatible content='${1:IE=7}']","meta:edge":"meta:compat[content='${1:ie=edge}']","meta:redirect":"meta[http-equiv=refresh content='0; url=${1:http://example.com}']","meta:kw":"meta[name=keywords content]","meta:desc":"meta[name=description content]",style:"style",script:"script","script:src":"script[src]",img:"img[src alt]/","img:s|img:srcset":"img[srcset src alt]","img:z|img:sizes":"img[sizes srcset src alt]",picture:"picture","src|source":"source/","src:sc|source:src":"source[src type]","src:s|source:srcset":"source[srcset]","src:t|source:type":"source[srcset type='${1:image/}']","src:z|source:sizes":"source[sizes srcset]","src:m|source:media":"source[media='(${1:min-width: })' srcset]","src:mt|source:media:type":"source:media[type='${2:image/}']","src:mz|source:media:sizes":"source:media[sizes srcset]","src:zt|source:sizes:type":"source[sizes srcset type='${1:image/}']",iframe:"iframe[src frameborder=0]",embed:"embed[src type]/",object:"object[data type]",param:"param[name value]/",map:"map[name]",area:"area[shape coords href alt]/","area:d":"area[shape=default]","area:c":"area[shape=circle]","area:r":"area[shape=rect]","area:p":"area[shape=poly]",form:"form[action]","form:get":"form[method=get]","form:post":"form[method=post]",label:"label[for]",input:"input[type=${1:text}]/",inp:"input[name=${1} id=${1}]","input:h|input:hidden":"input[type=hidden name]","input:t|input:text":"inp[type=text]","input:search":"inp[type=search]","input:email":"inp[type=email]","input:url":"inp[type=url]","input:p|input:password":"inp[type=password]","input:datetime":"inp[type=datetime]","input:date":"inp[type=date]","input:datetime-local":"inp[type=datetime-local]","input:month":"inp[type=month]","input:week":"inp[type=week]","input:time":"inp[type=time]","input:tel":"inp[type=tel]","input:number":"inp[type=number]","input:color":"inp[type=color]","input:c|input:checkbox":"inp[type=checkbox]","input:r|input:radio":"inp[type=radio]","input:range":"inp[type=range]","input:f|input:file":"inp[type=file]","input:s|input:submit":"input[type=submit value]","input:i|input:image":"input[type=image src alt]","input:b|input:btn|input:button":"input[type=button value]","input:reset":"input:button[type=reset]",isindex:"isindex/",select:"select[name=${1} id=${1}]","select:d|select:disabled":"select[disabled.]","opt|option":"option[value]",textarea:"textarea[name=${1} id=${1} cols=${2:30} rows=${3:10}]",marquee:"marquee[behavior direction]","menu:c|menu:context":"menu[type=context]","menu:t|menu:toolbar":"menu[type=toolbar]",video:"video[src]",audio:"audio[src]","html:xml":"html[xmlns=http://www.w3.org/1999/xhtml]",keygen:"keygen/",command:"command/","btn:s|button:s|button:submit":"button[type=submit]","btn:r|button:r|button:reset":"button[type=reset]","btn:d|button:d|button:disabled":"button[disabled.]","fst:d|fset:d|fieldset:d|fieldset:disabled":"fieldset[disabled.]",bq:"blockquote",fig:"figure",figc:"figcaption",pic:"picture",ifr:"iframe",emb:"embed",obj:"object",cap:"caption",colg:"colgroup",fst:"fieldset",btn:"button",optg:"optgroup",tarea:"textarea",leg:"legend",sect:"section",art:"article",hdr:"header",ftr:"footer",adr:"address",dlg:"dialog",str:"strong",prog:"progress",mn:"main",tem:"template",fset:"fieldset",datag:"datagrid",datal:"datalist",kg:"keygen",out:"output",det:"details",sum:"summary",cmd:"command","ri:d|ri:dpr":"img:s","ri:v|ri:viewport":"img:z","ri:a|ri:art":"pic>src:m+img","ri:t|ri:type":"pic>src:t+img","!!!":"{<!DOCTYPE html>}",doc:"html[lang=${lang}]>(head>meta[charset=${charset}]+meta[http-equiv='X-UA-Compatible'][content='IE=edge']+meta:vp+title{${1:Document}})+body","!|html:5":"!!!+doc",c:"{<!-- ${0} -->}","cc:ie":"{<!--[if IE]>${0}<![endif]-->}","cc:noie":"{<!--[if !IE]><!-->${0}<!--<![endif]-->}"})},xhtml:{options:{"output.selfClosingStyle":"xhtml"}},xml:{options:{"output.selfClosingStyle":"xml"}},xsl:{snippets:Qi(Bu),options:{"output.selfClosingStyle":"xml"}},jsx:{options:{"jsx.enabled":!0}},pug:{snippets:Qi(Wu)},stylesheet:{snippets:Qi(Hu)},sass:{options:{"stylesheet.after":""}},stylus:{options:{"stylesheet.between":" ","stylesheet.after":""}}},Xu={91:93,40:41,123:125},Yu=e=>e.charCodeAt(0),Ju="#.*:$-_!@%^+>/".split("").map(Yu),Zu={type:"markup",lookAhead:!0,prefix:""},Qu={"{":"}","[":"]","(":")"},ec=[];for(const e of Object.keys(Qu))ec.push(Qu[e]);const tc="<",nc=/^[a-zA-Z.#\[\(]$/,rc=/^[\s>;"\']?[a-zA-Z.#!@\[\(]$/,ic=/^[\s;"\']?[a-zA-Z!@]$/;class oc{constructor(){this.cache=new Map,this.trackers=new Map,this.lastPos=new Map}getLastPost(e){return this.lastPos.get(e.id)}setLastPos(e,t){this.lastPos.set(e.id,t)}getTracker(e){return this.trackers.get(e.id)}typingAbbreviation(e,t){var n;const r=e.substr(Math.max(0,t-2),t),i=e.syntax();let o=-1,a=t,s=0;if(e.isJSX(i)?2===r.length&&r[0]===tc&&nc.test(r[1])&&(o=t-2,s=tc.length):rc.test(r)&&(o=t-1),o>=0){const i=r[r.length-1];i in Qu&&e.substr(t,t+1)===Qu[i]&&a++;const l=this.getActivationContext(e,t);if(l){if("stylesheet"===l.type&&!ic.test(r))return;const t=this.startTracking(e,o,a,{offset:s,config:l});if(t&&"abbreviation"===t.type&&"@@section"===(null===(n=l.context)||void 0===n?void 0:n.name)){const{abbreviation:n,preview:r}=t;if(r.startsWith(n)&&/^:\s*;?$/.test(r.slice(n.length)))return void this.stopTracking(e)}return t}}}startTracking(e,t,n,r){const i=(null==r?void 0:r.config)||e.config(t),o=this.createTracker(e,[t,n],Object.assign({config:i},r));if(o)return this.trackers.set(e.id,o),o;this.trackers["delete"](e.id)}stopTracking(e,t){const n=this.getTracker(e);n&&(e.unmark(n),n.forced&&!(null==t?void 0:t.skipRemove)&&e.replace("",n.range[0],n.range[1]),(null==t?void 0:t.force)?this.cache["delete"](e.id):this.storeTracker(e,n),this.trackers["delete"](e.id))}createTracker(e,t,n){if(t[0]>=t[1])return null;let r=e.substr(t[0],t[1]);const{config:i}=n;if(n.offset&&(r=r.slice(n.offset)),!r||/[\r\n]/.test(r))return null;const o={abbreviation:r,range:t,config:i,forced:!!n.forced,offset:n.offset||0,lastPos:t[1],lastLength:e.size()};try{let t,n=!1;"stylesheet"===i.type?t=Ct(r):(t=Ae(r,{jsx:"jsx"===i.syntax}),n=this.isSimpleMarkupAbbreviation(t));const a=e.previewConfig(i);return Object.assign(Object.assign({},o),{type:"abbreviation",simple:n,preview:No(t,a)})}catch(m){return Object.assign(Object.assign({},o),{type:"error",error:m})}}storeTracker(e,t){this.cache.set(e.id,t)}getStoredTracker(e){return this.cache.get(e.id)}restoreTracker(e,t){const n=this.getStoredTracker(e);if(n&&n.range[0]<=t&&n.range[1]>=t){const[t,r]=n.range;if(e.substr(t+n.offset,r)===n.abbreviation)return this.trackers.set(e.id,n),n.lastLength=e.size(),n}}handleChange(e,t){const n=this.getTracker(e),r=this.getLastPost(e);if(this.setLastPos(e,t),!n)return null!=r&&r===t-1&&e.allowTracking(t)?this.typingAbbreviation(e,t):void 0;const{lastPos:i}=n;let{range:o}=n;if(i<o[0]||i>o[1])return void this.stopTracking(e);const a=e.size(),s=a-n.lastLength;if(fa(o=o.slice(),s,i),o[0]===o[1]&&n.forced)return n.abbreviation="",n;const l=this.createTracker(e,o,n);if(l&&(n.forced||da(l,o,t)))return l.lastPos=t,this.trackers.set(e.id,l),e.mark(l),l;this.stopTracking(e)}handleSelectionChange(e,t){this.setLastPos(e,t);const n=this.getTracker(e)||this.restoreTracker(e,t);if(n)return n.lastPos=t,n}getActivationContext(e,t){const n=e.syntax(),r=e.substr();if(e.isCSS(n))return this.getCSSActivationContext(e,t,n,ta(r,t));if(!e.isHTML(n))return{syntax:n,type:e.syntaxType(n),options:e.outputOptions(t)};{const i=ea(r,t,{xml:e.isXML(n)});if(i.css)return this.getCSSActivationContext(e,t,na(r,i)||"css",i.css);if(!i.current)return{syntax:n,type:"markup",context:ra(r,i),options:e.outputOptions(t)}}}getCSSActivationContext(e,t,n,r){if(!r.current)return;const i="propertyName"===r.current.type||"propertyValue"===r.current.type||this.isTypingBeforeSelector(e,t,r);return i?{syntax:n,type:"stylesheet",context:ia(r),options:e.outputOptions(t,r.inline)}:void 0}isTypingBeforeSelector(e,t,{current:n}){if(n&&"selector"===n.type&&n.range[0]===t-1){const t=e.substr(n.range[0],n.range[1]).split(/[\n\r]/)[0];return 1===t.trim().length}return!1}isSimpleMarkupAbbreviation(e){if(1===e.children.length&&!e.children[0].children.length){const t=e.children[0];return!t.name||/^[a-z]/i.test(t.name)}return!e.children.length}disposeEditor(e){this.cache["delete"](e.id),this.trackers["delete"](e.id),this.lastPos["delete"](e.id)}}const ac=String.fromCodePoint(65520),sc=String.fromCodePoint(65521),lc="$$emmet",uc={"{":"}","[":"]","(":")"};for(const e of Object.keys(uc));let cc=0;const fc=["xml","xsl","jsx"],dc=["html","htmlmixed","vue"],pc=["css","scss","less"],hc=["jsx","tsx"],mc=["haml","jade","pug","slim"].concat(dc,fc,hc),gc=["sass","sss","stylus","postcss"].concat(pc),vc=as("null",0),yc={lookAhead:!0,whitespace:!0},bc={45:e=>-e},xc={43:(e,t)=>e+t,45:(e,t)=>e-t,42:(e,t)=>e*t,47:(e,t)=>e/t,92:(e,t)=>Math.floor(e/t)};let wc={};const kc="emmet-abbreviation",Cc="emmet-abbreviation-preview";class Sc{constructor(){this.marker=null,this.preview=null,this.forcedMarker=null}get id(){return ja(this.cm).id}substr(e,t){const n=this.cm.getValue();return e===undefined&&t===undefined?n:n.slice(e||0,t)}replace(e,t,n){this.cm.replaceRange(e,this.cm.posFromIndex(t),this.cm.posFromIndex(n))}syntax(){return Ia(this.cm)}size(){return this.cm.getValue().length}config(e){return Cs(this.cm,e)}outputOptions(e,t){return ds(this.cm,e,t)}previewConfig(e){return Object.assign(Object.assign({},e),{options:Object.assign(Object.assign({},e.options),{"output.field":Ss,"output.indent":"  ","output.baseIndent":""})})}allowTracking(e){return Es(this.cm,e)}mark(e){const{cm:t}=this;this.disposeMarker();const[n,r]=ya(t,e.range);this.marker=t.markText(n,r,{inclusiveLeft:!0,inclusiveRight:!0,clearWhenEmpty:!1,className:kc}),e.forced&&!this.forcedMarker&&(this.forcedMarker=document.createElement("div"),this.forcedMarker.className=`${kc}-marker`,t.addWidget(n,this.forcedMarker,!1))}unmark(){this.disposeMarker(),this.hidePreview()}showPreview(e){const{cm:t}=this,n=St(t);if(!Ua(n.preview,Fa(t,e.range[0])))return;let r,i=!1;if("error"===e.type?(r=Na(e.error),i=!0):!e.forced&&e.simple||(r=e.preview),r){if(!this.preview){const r=document.createElement("div");r.className=Cc;const i=t.posFromIndex(e.range[0]);n.attachPreview?n.attachPreview(t,r,i):t.addWidget(i,r,!1),this.preview=new this.cm.constructor(r,{mode:t.getOption("mode"),readOnly:"nocursor",lineNumbers:!1});const o=document.createElement("div");o.className=`${Cc}-error`,r.appendChild(o)}const o=this.preview.getWrapperElement().parentElement;o.classList.toggle("has-error",i),i?o.querySelector(`.${Cc}-error`).innerHTML=r:this.preview.setValue(r)}else this.hidePreview()}hidePreview(){this.preview&&(this.preview.getWrapperElement().parentElement.remove(),this.preview=null)}isCSS(e){return Wa(e)}syntaxType(e){return $a(e)}isHTML(e){return Ha(e)}isXML(e){return Ra(e)}isJSX(e){return qa(e)}run(e,t){const{cm:n}=this;this.cm=e;const r=t();return this.cm=n,r}disposeMarker(){this.marker&&(this.marker.clear(),this.marker=null),this.forcedMarker&&(this.forcedMarker.remove(),this.forcedMarker=null)}}const Tc=new Sc,_c=new oc,Ec="emmet-open-tag",Lc="emmet-close-tag",Mc="emmet-panel",Ac="emmet-error",Nc=["<!--","-->"],Pc=["/*","*/"];"undefined"!=typeof window.CodeMirror&&nu(window.CodeMirror)}),CodeMirror.commands.respectfulTab=function(e){return e.getOption("indentWithTabs")?e.execCommand("defaultTab"):e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertSoftTab"),!0},window.ERRORS={PROCESSING:"PROCESSING"},window.LEVELS={ERROR:"ERROR",WARNING:"WARNING"},window.WARNINGS={},window.CMEditorSettings={getDefaultEditorConfig:function(e,t,n){return{value:e,showCursorWhenSelecting:!0,cursorScrollMargin:30,scrollbarStyle:this._getScrollbars(n),tabSize:this.getTabSize(t),indentUnit:this.getTabSize(t),indentWithTabs:this.getIndentWithTabs(t),lineNumbers:t.line_numbers,matchBrackets:t.match_brackets,matchTags:t.match_brackets,autocomplete:t.autocomplete,autoCloseBrackets:t.match_brackets,lineWrapping:t.line_wrapping,gutters:this._getGutters(t),foldGutter:t.code_folding,scrollPastEnd:!0,emmet_active:t.emmet_active,emmet:this.getEmmetConfig(t),markTagPairs:!0,autoRenameTags:!0}},getPostEditorConfig:function(e){return{showCursorWhenSelecting:!0,tabSize:this.getTabSize(e),indentUnit:this.getTabSize(e),indentWithTabs:this.getIndentWithTabs(e),matchBrackets:e.match_brackets,autoCloseBrackets:e.match_brackets,lineWrapping:!0}},_getScrollbars:function(e){return e?null:"simple"},getTabSize:function(e){return parseInt(e.tab_size,10)},getIndentWithTabs:function(e){return"tabs"===e.indent_with},getEmmetConfig:function(e){return{markTagPairs:e.match_brackets,autoRenameTags:e.match_brackets,preview:["markup"],config:this.getEmmetSnippets(e)}},getEmmetSnippets:function(e){var t=e.snippets;return t?(t.markupSnippets=this.unescapeSnippet(t.markupSnippets),t.stylesheetSnippets=this.unescapeSnippet(t.stylesheetSnippets),{markup:{snippets:t.markupSnippets},stylesheet:{snippets:t.stylesheetSnippets}}):{markup:{},stylesheet:{}}},unescapeSnippet:function(e){for(var t=e,n=Object.keys(t),r=0;r<n.length;r++)t[n[r]]=t[n[r]].replace(/\\n/g,"\n").replace(/\\t/g,"\t");return t},_getGutters:function(e){return!0===e.code_folding?["CodeMirror-linenumbers","CodeMirror-foldgutter"]:[""]}},window.BaseEditorKeyBindingsMixin={_onCmUpdateKeyBindings:function(e){switch(e.key_bindings){case"vim":window.__browser.mobile||this.editor.setOption("vimMode",!0);break;case"subl":this.editor.setOption("keyMap","sublime");break;default:this.editor.setOption("keyMap","extendedBase")}},_canAdjustRenderedLine:function(e){return"html"===EditorModes.cmModeToType(e.getOption("mode"))&&("undefined"!=typeof CP.pen&&"tabs"!==CP.pen.editor_settings.indent_with)},_indentWrappedLines:function(){var e=this.editor.defaultCharWidth(),t=2,n=this;this.editor.on("renderLine",function(r,i,o){if(n._canAdjustRenderedLine(r)){var a=r.getOption("tabSize"),s,l=CodeMirror.countColumn(i.text,null,a)*e;o.style.textIndent="-"+l+"px",o.style.paddingLeft=t+l+"px"}})}};const LINE_HIGHLIGHT_CLASS="line-highlight";window.BaseEditorErrorMixin={errorData:{lines:[],solution:null,widgets:[]},_storeErrorData:function(e,t){this.errorData.widgets.push(t),this.errorData.lines.push(e.line)},_addInlineEditorWidget:function(e,t){var n=$(this._getInlineErrorWidgetHTML(t))[0],r=parseInt(t.line-1,10);return e.addLineClass(r,"background",LINE_HIGHLIGHT_CLASS),e.addLineWidget(r,n,{coverGutter:!0,noHScroll:!0})},_getInlineErrorWidgetHTML:function(e){return`\n    <div class="inline-editor-error inline-editor-${e.level.toLowerCase()} inline-error-hidden">\n      <div class="inline-error-message">${this._formatErrorMessage(e)}</div>\n    </div>\n  `},_formatErrorMessage:function(e){let t=e.message;return e.internalAllowDangerousHTML||(t=_htmlEntities(t).replace(/\n/g,"<br />")),e.link&&(t+=` <a href="${e.link.target}" target="_blank" rel="noopener noreferrer">${e.link.value}</a>`),t},showError:function(e){var t=this._addInlineEditorWidget(this.editor,e);this._storeErrorData(e,t)},clearErrors:function(){this.editor.eachLine(e=>{this.editor.removeLineClass(e,"background",LINE_HIGHLIGHT_CLASS)});const e=this.errorData.widgets;e.forEach(e=>e.clear()),this.editor.refresh(),this.errorData.widgets=[],this.errorData.lines=[]},_getErrorLineNumberToScrollTo:e=>e-2>0?e-2:0,jumpToFirstError:function(){var e=this.errorData.lines,t=this._getErrorLineNumberToScrollTo(e[0]);this.editor.scrollIntoView(t)}},window.BaseEditorFindMixin={_getSearchCursor(e){return this.editor.getSearchCursor(e)},_formatMatch(e){if(!e)return;let t=e.pos.from,n=e.pos.to,r;return{value:this.editor.getRange(t,n),startLineNumber:t.line,startColumn:e.pos.from.ch,endLineNumber:e.pos.to.line,endColumn:e.pos.to.ch}},findMatch(e){const t=this._getSearchCursor(e).findNext();return t?[this._formatMatch(t)]:[]},findMatches(e){const t=this._getSearchCursor(e),n=[];for(;t.findNext();)n.push(this._formatMatch(t));return n}},window.BaseEditorFoldingMixin={foldAll(){CodeMirror.commands.foldAll(this.editor),Hub.pub(HUB_EVENTS.PEN_EDITOR_CODE_FOLD)},unfoldAll(){CodeMirror.commands.unfoldAll(this.editor),Hub.pub(HUB_EVENTS.PEN_EDITOR_CODE_FOLD)},foldCode(e){this.editor.foldCode(e)},getEditorCodeFoldingState(){const e=this.editor.getDoc(),t=_makeSafe(e.getAllMarks(),[]),n={marks:[]};return t.forEach(e=>{e.collapsed&&"range"===e.type&&n.marks.push(e.find().from)}),n},_bindToFoldingEvents(){Hub.sub(HUB_EVENTS.PEN_EDITOR_LOADED,this._bindFoldingToDOM.bind(this))},_bindFoldingToDOM(){this.editor.on("gutterClick",()=>{Hub.pub(HUB_EVENTS.PEN_EDITOR_CODE_FOLD)})}},window.BaseEditor=Class.extend({editor:"",_viewingSource:!1,_canDrive:!0,type:"",value:"",init:function(e,t){this.type=e,this.value=t,this.pageType=window.__pageType,_.extend(this,BaseEditorErrorMixin),_.extend(this,BaseEditorFindMixin),_.extend(this,BaseEditorFoldingMixin),_.extend(this,BaseEditorKeyBindingsMixin),_.extend(this,BaseEditorViewSourceMixin),this._baseBindToHub(),this._buildEditor()},_baseBindToHub:function(){this._bindToViewSourceEvents(),this._bindToFoldingEvents(),Hub.sub(HUB_EVENTS.PEN_EDITOR_LOADED,this._onPageLoadingDone.bind(this)),Hub.sub(HUB_EVENTS.PEN_EDITOR_REFRESH_REQUEST,this.refresh.bind(this)),Hub.sub(HUB_EVENTS.KEY_PRESS,this._onKey.bind(this)),Hub.sub(HUB_EVENTS.PEN_EDITOR_LOADED,this._onCMUpdateKeybindingsEvent.bind(this)),Hub.sub(HUB_EVENTS.PEN_CHANGE,this._onBasePenChange.bind(this)),"professor"===window.__pageType&&this._baseBindToHubProfessorMode()},_baseBindToHubProfessorMode:function(){Hub.sub(HUB_EVENTS.PEN_EDITOR_UI_DISABLE,this._disableUserFromDriving.bind(this)),Hub.sub(HUB_EVENTS.PEN_EDITOR_UI_ENABLE,this._enableUserToDrive.bind(this))},_onCMUpdateKeybindingsEvent:function(){this._onCmUpdateKeyBindings(window.__item.editor_settings)},_onKey:function(e,t){"esc"===t.key&&(this.editor.execCommand("clearSearch"),this.runRefresh(200))},_onBasePenChange:function(e,t){ObjectUtil.hasNestedValue(t,"pen.editor_settings.indent_with")&&this.editor.setOption("indentWithTabs",CMEditorSettings.getIndentWithTabs(t.pen.editor_settings)),ObjectUtil.hasNestedValue(t,"pen.editor_settings.tab_size")&&(this.editor.setOption("tabSize",CMEditorSettings.getTabSize(t.pen.editor_settings)),this.editor.setOption("indentUnit",CMEditorSettings.getTabSize(t.pen.editor_settings)))},_onPageLoadingDone:function(){this._indentWrappedLines(),this.runRefresh(200)},_buildEditor:function(){this.editor=this._buildCMEditor(this._getEditorConfig());var e=this;this._throttledRefresh=_.throttle(function(){e.editor.refresh()},300),this._setMode(),this._bindToHub(),this._setEditorTypeSpecificOptions(this._getEditorConfig()),this.bindToOnChange(),this._bindAutoComplete(),this._syncEditorWithFirepad(),performance.mark("editor-built")},_syncEditorWithFirepad:function(){"collab"===window.__pageType&&this._syncWithCollab(),"professor"===window.__pageType&&this._syncWithProfessor()},_syncWithCollab:function(){var e=this;this.firepad=Firepad.fromCodeMirror(CP.collabRoom.getFirebaseEditorRef(this.type),this.editor,{richTextShortcuts:!1,richTextToolbar:!1,defaultText:null,userId:CP.collabRoom.rtData.user.id}),this.firepad.on("ready",function(){CP.collabRoom.onFirepadReady(e.type,e.firepad,e.value)}),this.firepad.on("synced",function(e){CP.collabRoom.onFirepadSynced(e)})},_syncWithProfessor:function(){this.firepad=Firepad.fromCodeMirror(ProfessorRoom.getFirebaseEditorRef(this.type),this.editor,{richTextShortcuts:!1,richTextToolbar:!1,defaultText:this.value,userId:CP.user.hashid,disablePublishEditorChanges:"professor"!==window.__rtData.user.role})},_getEditorConfig:function(){var e=_.extend(CMEditorSettings.getDefaultEditorConfig(this._getEditorConfigDefaultValue(),CP.pen.editor_settings),this._getEditorTypeSpecificConfig(CP.pen.editor_settings));return e.extraKeys={Tab:"respectfulTab",Enter:"emmetInsertLineBreak","Ctrl-Up":"emmetIncrementNumber1","Alt-Shift-Up":"emmetIncrementNumber01","Ctrl-Alt-Up":"emmetIncrementNumber10","Ctrl-Down":"emmetDecrementNumber1","Alt-Shift-Down":"emmetDecrementNumber01","Ctrl-Alt-Down":"emmetDecrementNumber10","Alt-Up":"swapLineUp","Alt-Down":"swapLineDown","Alt-B":!1,"Alt-G":!1,"Alt-D":!1,"Ctrl-E":!1,"Ctrl-P":!1,"Ctrl-N":!1,"Ctrl-V":!1,"Ctrl-Shift-V":!1,"Ctrl-Shift-B":!1,"Ctrl-H":!1},"mac"===__browser.platform?e.extraKeys["Shift-Cmd-A"]="emmetWrapWithAbbreviation":e.extraKeys["Shift-Ctrl-A"]="emmetWrapWithAbbreviation",!0===e.emmet_active&&(e.extraKeys.Tab=function(e){var t=e.execCommand("emmetExpandAbbreviation");const n=e.getCursor(),r=e.getLine(n.line);r.includes("<img")&&window.CodePenTracking.trackEvent({eventName:"Emmet Expanded Image Tag"}),t!==undefined&&e.execCommand("respectfulTab")}),e},_getEditorConfigDefaultValue:function(){return"collab"===window.__pageType||"professor"===window.__pageType?"":this.value},_buildCMEditor:function(e){var t=this._getTextAreaElementToReplaceWithCodeMirror();return CodeMirror(function(e){t.parentNode.replaceChild(e,t)},e)},_getTextAreaElementToReplaceWithCodeMirror:function(){return $(".code-wrap #"+this.type)[0]},_bindAutoComplete:function(){var e=this._getEditorConfig();!0===e.autocomplete&&"html"!==e.syntax&&this.editor.on("inputRead",function(e,t){!e.state.completionActive&&"+input"===t.origin&&1===t.text.length&&/^[a-zA-Z]+$/.test(t.text[0])&&CodeMirror.commands.autocomplete(e,null,{completeSingle:!1})})},_disableUserFromDriving:function(){this._canDrive=!1,this.editor.setOption("readOnly",!0)},_enableUserToDrive:function(){this._canDrive=!0,this.editor.setOption("readOnly",!1)},_preProcessorChanged:function(e){this._turnOffReadOnlyView(),this._changeMode(e)},_turnOffReadOnlyView:function(){this._viewingSource&&this.showSourceCode()},unbindOnChange:function(){this.editor.off("change",this._onEditorChange.bind(this))},bindToOnChange:function(){this.editor.on("change",this._onEditorChange.bind(this))},toggleReadOnly:function(e,t){this.editor.setOption("readOnly",e),e?$("#box-"+this.type).attr("data-read-only",t||!0):$("#box-"+this.type).removeAttr("data-read-only")},_onEditorChange:function(e){if(!this.editor.getOption("readOnly")){var t={origin:"client",pen:{}};t.pen[this.type]=e.getValue(),CP.pen.setItemValue(t)}},getValue:function(){return this.editor.getValue()},setValue:function(e){this.editor.setValue(e)},setEditorValue:function(e){const t=this.editor.getScrollInfo(),n=this.editor.getCursor();this.unbindOnChange(),this.editor.setValue(e),this.bindToOnChange(),this.editor.setCursor(n),this.editor.scrollIntoView(t)},getPreProcessor:function(){var e=this._getBasicType();return CP.pen[e+"_pre_processor"]},_setMode:function(){var e=this.getPreProcessor();this._changeMode(e)},getMode:function(){var e=this._getBasicType(),t=this.getPreProcessor();return EditorModes.getCMMode(t,e)},_changeMode:function(e){this.editor.setOption("mode",EditorModes.getCMMode(e,this._getBasicType()))},_getBasicType:function(){throw"Implement in subclass"},hasFocus:function(){return this.editor.hasFocus()},getSelection:function(){return this.editor.getSelection()},hasSelection:function(){return this.editor.somethingSelected()},clearSelection:function(){var e=this.editor.getCursor();return this.editor.setCursor(e)},showCommands:function(){},refresh:function(e,t){this.runRefresh(t.delay)},runRefresh:function(e){e>0?setTimeout(this.runRefresh.bind(this),e):this._throttledRefresh()}});const BEAR_WITH_US_DELAY=10;window.BaseEditorViewSourceMixin={_bindToViewSourceEvents:function(){this.showingProcessed=!1,this.showSourceSetEditorValueTimeoutId=0,this.processedBody=null,Hub.sub(HUB_EVENTS.PROCESSING_START,this._handleProcessingStarted.bind(this)),Hub.sub(HUB_EVENTS.PROCESSING_FINISH,this._handleProcessingCompleted.bind(this))},_handleProcessingStarted:function(e,t){const{type:n}=t;this.type===n&&(this.processedBody=null)},_handleProcessingCompleted:function(e,t){const{body:n,type:r}=t;this.type===r&&(clearTimeout(this.showSourceSetEditorValueTimeoutId),this.processedBody=n,this.showingProcessed&&this._setShowSourceEditorValue(n))},showProcessedCode:function(){CP.ensureProcessingRunOnce(),this.showingProcessed=!0,CP.clearEditorErrors(this.type),this.unbindOnChange(),this._makeEditorReadOnly(),this._changeModeOnShowSource(),this.processedBody===undefined||null===this.processedBody?this.showSourceSetEditorValueTimeoutId=setTimeout(()=>{const e=`\ud83d\udc3b Bear with us while we compile your code to ${this.type}`;this._setShowSourceEditorValue(e)},BEAR_WITH_US_DELAY):this._setShowSourceEditorValue(this.processedBody)},_setShowSourceEditorValue:function(e){"collab"!==window.__pageType&&"professor"!==window.__pageType&&(this.setEditorValue(e),this._removeEventFromEditorUndoHistory())},_changeModeOnShowSource:function(){this._changeMode("none")},_makeEditorReadOnly:function(){this.toggleReadOnly(!0,"view-compiled"),$("#viewsource-"+this.type).attr("title",Copy.returnToSource)},showSourceCode:function(){this.showingProcessed=!1,this._showSourceCode(),this._changeModeOnShowOriginalCode(),this._makeEditable(),this.bindToOnChange(),this._removeEventFromEditorUndoHistory()},_changeModeOnShowOriginalCode:function(){this._changeMode(CP.pen[this.type+"_pre_processor"])},_removeEventFromEditorUndoHistory:function(){var e=this.editor.getHistory();e.done.pop(),e.done.pop(),this.editor.setHistory(e)},_showSourceCode:function(){"collab"!==window.__pageType&&"professor"!==window.__pageType&&this.setEditorValue(CP.pen[this.type])},_makeEditable:function(){$("#box-"+this.type).removeClass("view-preproc-errors"),$("#viewsource-"+this.type).attr("title",Copy.viewSource),this._canDrive&&this.toggleReadOnly(!1)}},window.CSSEditor=BaseEditor.extend({_getBasicType:function(){return"css"},_bindToHub:function(){Hub.sub(HUB_EVENTS.PEN_CHANGE,$.proxy(this._onPenChange,this)),Hub.sub(HUB_EVENTS.PEN_EDITOR_LOADED,$.proxy(this._onPageLoadingDone,this))},_onPenChange:function(e,t){ObjectUtil.hasNestedValue(t,"pen.css_pre_processor")&&this._preProcessorChanged(t.pen.css_pre_processor)},_onPageLoadingDone:function(){this.mobile&&setTimeout($.proxy(function(){this.editor.focus()},this),400)},_getEditorTypeSpecificConfig:function(){return{mode:this.getMode(),syntax:"css"}},_setEditorTypeSpecificOptions:function(e){var t={};e.extraKeys&&(t=e.extraKeys),t["Ctrl-Space"]="autocomplete",this.editor.setOption("extraKeys",CodeMirror.normalizeKeyMap(t))}}),window.HTMLEditor=BaseEditor.extend({_getBasicType:function(){return"html"},_bindToHub:function(){Hub.sub(HUB_EVENTS.PEN_CHANGE,$.proxy(this._onPenChange,this))},_onPenChange:function(e,t){ObjectUtil.hasNestedValue(t,"pen.html_pre_processor")&&this._preProcessorChanged(t.pen.html_pre_processor)},_getEditorTypeSpecificConfig:function(){const e="embed"!==window.__pageType;return{mode:this.getMode(),syntax:"html",profile:"xhtml",autofocus:e}},_completeAfter:function(e,t){return t&&!t()||setTimeout(function(){e.state.completionActive||e.showHint({completeSingle:!1})},100),CodeMirror.Pass},_completeIfAfterLt:function(e){return this._completeAfter(e,function(){var t=e.getCursor();return"<"===e.getRange(CodeMirror.Pos(t.line,t.ch-1),t)})},_completeIfInTag:function(e){return this._completeAfter(e,function(){var t=e.getTokenAt(e.getCursor()),n;return!!("string"!==t.type||/['"]/.test(t.string.charAt(t.string.length-1))&&1!==t.string.length)&&CodeMirror.innerMode(e.getMode(),t.state).state.tagName})},_setEditorTypeSpecificOptions:function(e){var t={};e.extraKeys&&(t=e.extraKeys),t=CodeMirror.normalizeKeyMap(t),!0===e.autocomplete&&(t["Ctrl-Space"]="autocomplete",t["'<'"]=this._completeAfter.bind(this),t["'/'"]=this._completeIfAfterLt.bind(this),t["' '"]=this._completeIfInTag.bind(this),t["'='"]=this._completeIfInTag.bind(this)),this.editor.setOption("extraKeys",t)}}),window.JSEditor=BaseEditor.extend({_getBasicType:function(){return"js"},_bindToHub:function(){Hub.sub(HUB_EVENTS.PEN_CHANGE,$.proxy(this._onPenChange,this))},_onPenChange:function(e,t){ObjectUtil.hasNestedValue(t,"pen.js_pre_processor")&&this._preProcessorChanged(t.pen.js_pre_processor)},_getEditorTypeSpecificConfig:function(e){return e=e||{},{mode:this.getMode(),autocomplete:"vue"!==__editor_config.id&&e.autocomplete}},_setEditorTypeSpecificOptions:function(){var e=this.editor.getOption("extraKeys");this.editor.setOption("extraKeys",Object.assign(CodeMirror.normalizeKeyMap({"Ctrl-Space":"autocomplete"}),e))}}),function(){function e(e){try{const i=t(e),{topic:o,data:s}=i;switch(o){case HUB_EVENTS.PEN_ERROR_INFINITE_LOOP:n(s);break;case HUB_EVENTS.CONSOLE_EVENT:CP.ConsoleEditor.showIFrameConsoleMessages(s);break;case HUB_EVENTS.PEN_ERROR_RUNTIME:a(s)}}catch(r){}}function t(e){return"object"==typeof e.data&&e.data.topic?e.data:{}}function n(e){const t=r(e.line),n=[{level:LEVELS.ERROR,line:t,message:o(t),syntax:CP.pen.js_pre_processor,type:"js"}];window.CodePenTracking.trackEvent({eventName:"Infinite Loop Detected",eventTrigger:"Pen Editor Rendering"}),Hub.pub(HUB_EVENTS.PEN_EDITOR_ERRORS,{errors:n})}function r(e){var t=i(e);t=t.replace(/\s+/g,"");const n=CP.pen.js.split(/\r\n?|\n/).map(e=>e.replace(/\s+/g,""));return n.indexOf(t)+1}function i(e){const t=s();let n=e;for(;n>-1&&t[n].match(/(break;|shouldStopExecution)/);)n-=1;return t[n]}function o(e){return"Infinite loop found around line "+e+". The line number is approximated so look carefully. More details and workarounds at https://blog.codepen.io/2016/06/08/can-adjust-infinite-loop-protection-timing/"}function a(e){const t={errors:[{level:LEVELS.ERROR,line:e.line,message:e.message,type:"js"}]};Hub.pub(HUB_EVENTS.PEN_EDITOR_ERRORS,t),CP.ConsoleEditor.showIFrameConsoleMessages({"function":"error",arguments:[`${e.message} \n at ${e.filename}:${e.line}`],complexity:1})}function s(){const e=CP.getIFrameHTML();return window._splitOnNewLine(e)}window.addEventListener("message",e)}(),window.CPFactory={buildDataObjects:function(){CP.profiled=new Profiled,CP.user=new User,CP.item=window.__item,CP.pen=new Pen,CP.item=CP.pen,CP.penSaver=new PenSaver,CP.penAutosave=new PenAutosave,CP.ui=UI.buildDefaultUIData()},buildEditorObjects:function(){this.buildCodeEditors(),this.buildCommonEditorSettingsObjects(),this._buildSettingsObjects()},buildCodeEditors:function(){const{editors:e}=window.__editor_config;CP.editors||(CP.editors=e.reduce((e,t)=>(this._isBuildableEditor(t.type)&&(e[t.id]=this._buildEditorByType(t.type)),e),{})),CP.editorTypes=Object.keys(CP.editors),CP.ConsoleEditor&&CP.ConsoleEditor.init()},_isBuildableEditor:function(e){return $(".code-wrap #"+e).length>0},_buildEditorByType:function(e){if("html"===e)return new HTMLEditor("html",CP.pen.html);if("css"===e)return new CSSEditor("css",CP.pen.css);if("js"===e)return new JSEditor("js",CP.pen.js);throw`Invalid Editor Type: ${e}`},buildCommonEditorSettingsObjects:function(){CP.shareView=new ShareView,CP.settingsController=new SettingsController,CP.penActions=new PenActions,CP.infoController=new InfoController,CP.tagsController=new PenTagsController},_buildSettingsObjects:function(){CP.htmlSettingsController=new HTMLSettingsController(CP.pen),CP.cssSettingsController=new CSSSettingsController(CP.pen),CP.jsSettingsController=new JSSettingsController(CP.pen),CP.behaviorController=new BehaviorController(CP.pen),CP.packagesSettingsController=new packagesSettingsController(CP.pen)},buildDesktopViewEditorObjects:function(){CP.codeEditorResizeController.init(),CP.editorDropDowns.init(),CP.codeEditorTidyController=new CodeEditorsTidyController,CP.codeEditorsCSSTransitionHandler=new CodeEditorsCSSTransitionHandler,CP.codeEditorsViewSourceController=new CodeEditorsViewSourceController}},window.__editable&&CPFactory.buildCodeEditors();